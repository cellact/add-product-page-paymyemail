/*! For license information please see main.0124e194.js.LICENSE.txt */
(()=>{var e={33:(e,t)=>{"use strict";function n(e){let t;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},109:(e,t,n)=>{"use strict";var r=n(6373),i=n(6864).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,n){return t instanceof s?t:new s(e,{pub:t,pubEnc:n})},s.fromPrivate=function(e,t,n){return t instanceof s?t:new s(e,{priv:t,privEnc:n})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},s.prototype.verify=function(e,t,n){return this.ec.verify(e,t,this,void 0,n)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},306:(e,t,n)=>{"use strict";function r(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),"".concat(r?"-":"").concat(i||"0").concat(s?".".concat(s):"")}n.d(t,{J:()=>r})},364:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},398:(e,t,n)=>{"use strict";n.d(t,{Ai:()=>m,Hq:()=>g,JR:()=>y,OC:()=>v,tz:()=>p});const r=Symbol(),i=Symbol(),s="a",o="w";let a=(e,t)=>new Proxy(e,t);const c=Object.getPrototypeOf,l=new WeakMap,u=e=>e&&(l.has(e)?l.get(e):c(e)===Object.prototype||c(e)===Array.prototype),d=e=>"object"==typeof e&&null!==e,h=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach((e=>{e.configurable=!0})),Object.create(c(e),t)},f=e=>e[i]||e,p=(e,t,n,c)=>{if(!u(e))return e;let l=c&&c.get(e);if(!l){const t=f(e);l=(e=>Object.values(Object.getOwnPropertyDescriptors(e)).some((e=>!e.configurable&&!e.writable)))(t)?[t,h(t)]:[t],null==c||c.set(e,l)}const[d,g]=l;let m=n&&n.get(d);return m&&m[1].f===!!g||(m=((e,t)=>{const n={f:t};let a=!1;const c=(t,r)=>{if(!a){let i=n[s].get(e);if(i||(i={},n[s].set(e,i)),t===o)i[o]=!0;else{let e=i[t];e||(e=new Set,i[t]=e),e.add(r)}}},l={get:(t,r)=>r===i?e:(c("k",r),p(Reflect.get(t,r),n[s],n.c,n.t)),has:(t,i)=>i===r?(a=!0,n[s].delete(e),!0):(c("h",i),Reflect.has(t,i)),getOwnPropertyDescriptor:(e,t)=>(c("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(c(o),Reflect.ownKeys(e))};return t&&(l.set=l.deleteProperty=()=>!1),[l,n]})(d,!!g),m[1].p=a(g||d,m[0]),n&&n.set(d,m)),m[1][s]=t,m[1].c=n,m[1].t=c,m[1].p},g=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Object.is;if(i(e,t))return!1;if(!d(e)||!d(t))return!0;const s=n.get(f(e));if(!s)return!0;if(r){const n=r.get(e);if(n&&n.n===t)return n.g;r.set(e,{n:t,g:!1})}let a=null;try{for(const n of s.h||[])if(a=Reflect.has(e,n)!==Reflect.has(t,n),a)return a;if(!0===s[o]){if(a=((e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some(((e,t)=>e!==r[t]))})(e,t),a)return a}else for(const n of s.o||[])if(a=!!Reflect.getOwnPropertyDescriptor(e,n)!=!!Reflect.getOwnPropertyDescriptor(t,n),a)return a;for(const o of s.k||[])if(a=g(e[o],t[o],n,r,i),a)return a;return null===a&&(a=!0),a}finally{r&&r.set(e,{n:t,g:a})}},m=e=>u(e)&&e[i]||null,v=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l.set(e,t)},y=(e,t,n)=>{const r=[],i=new WeakSet,s=(e,a)=>{if(i.has(e))return;d(e)&&i.add(e);const c=d(e)&&t.get(f(e));if(c){var l,u;if(null==(l=c.h)||l.forEach((e=>{const t=":has(".concat(String(e),")");r.push(a?[...a,t]:[t])})),!0===c[o]){const e=":ownKeys";r.push(a?[...a,e]:[e])}else{var h;null==(h=c.o)||h.forEach((e=>{const t=":hasOwn(".concat(String(e),")");r.push(a?[...a,t]:[t])}))}null==(u=c.k)||u.forEach((t=>{n&&!("value"in(Object.getOwnPropertyDescriptor(e,t)||{}))||s(e[t],a?[...a,t]:[t])}))}else a&&r.push(a)};return s(e),r}},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",s="minute",o="hour",a="day",c="week",l="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),s=n-i<0,o=t.clone().add(r+(s?-1:1),l);return+(-(r+(n-i)/(s?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:a,D:h,h:o,m:s,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=m;var A="$isDayjsObject",E=function(e){return e instanceof k||!(!e||!e[A])},S=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();w[s]&&(i=s),n&&(w[s]=n,i=s);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var a=t.name;w[a]=t,i=a}return!r&&i&&(b=i),i||!r&&b},C=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},_=y;_.l=S,_.i=E,_.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[A]=!0}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return _},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return C(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<C(e)},v.$g=function(e,t,n){return _.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!_.u(t)||t,u=_.p(e),f=function(e,t){var i=_.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(a)},p=function(e,t){return _.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?f(1,0):f(31,11);case l:return r?f(1,m):f(0,m+1);case c:var b=this.$locale().weekStart||0,w=(g<b?g+7:g)-b;return f(r?v-w:v+(6-w),m);case a:case h:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case s:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,c=_.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[a]=u+"Date",n[h]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[o]=u+"Hours",n[s]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],p=c===a?this.$D+(t-this.$W):t;if(c===l||c===d){var g=this.clone().set(h,1);g.$d[f](p),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[_.p(e)]()},v.add=function(r,u){var h,f=this;r=Number(r);var p=_.p(u),g=function(e){var t=C(f);return _.w(t.date(t.date()+Math.round(e*r)),f)};if(p===l)return this.set(l,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===a)return g(1);if(p===c)return g(7);var m=(h={},h[s]=t,h[o]=n,h[i]=e,h)[p]||1,v=this.$d.getTime()+r*m;return _.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=_.z(this),s=this.$H,o=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,i,s){return e&&(e[n]||e(t,r))||i[n].slice(0,s)},h=function(e){return _.s(s%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(g,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return _.s(t.$y,4,"0");case"M":return a+1;case"MM":return _.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,l,3);case"MMMM":return d(l,a);case"D":return t.$D;case"DD":return _.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(s);case"HH":return _.s(s,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(s,o,!0);case"A":return p(s,o,!1);case"m":return String(o);case"mm":return _.s(o,2,"0");case"s":return String(t.$s);case"ss":return _.s(t.$s,2,"0");case"SSS":return _.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,f){var p,g=this,m=_.p(h),v=C(r),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,w=function(){return _.m(g,v)};switch(m){case d:p=w()/12;break;case l:p=w();break;case u:p=w()/3;break;case c:p=(b-y)/6048e5;break;case a:p=(b-y)/864e5;break;case o:p=b/n;break;case s:p=b/t;break;case i:p=b/e;break;default:p=b}return f?p:_.a(p)},v.daysInMonth=function(){return this.endOf(l).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return _.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),x=k.prototype;return C.prototype=x,[["$ms",r],["$s",i],["$m",s],["$H",o],["$W",a],["$M",l],["$y",d],["$D",h]].forEach((function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,k,C),e.$i=!0),C},C.locale=S,C.isDayjs=E,C.unix=function(e){return C(1e3*e)},C.en=w[b],C.Ls=w,C.p={},C}()},568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(8251);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},574:(e,t,n)=>{"use strict";n.d(t,{B1:()=>u,BX:()=>l,KR:()=>h,P9:()=>d});var r=n(398);const i=e=>"object"===typeof e&&null!==e,s=new WeakMap,o=new WeakSet,a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>new Proxy(e,t),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>i(e)&&!o.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new WeakMap,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const i=c.get(e);if((null==i?void 0:i[0])===t)return i[1];const u=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return(0,r.OC)(u,!0),c.set(e,[t,u]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(u,t))return;const i=Reflect.get(e,t),{enumerable:a}=Reflect.getOwnPropertyDescriptor(e,t),c={value:i,enumerable:a,configurable:!0};if(o.has(i))(0,r.OC)(i,!1);else if(i instanceof Promise)delete c.value,c.get=()=>n(i);else if(s.has(i)){const[e,t]=s.get(i);c.value=l(e,t(),n)}Object.defineProperty(u,t,c)})),Object.preventExtensions(u)},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new WeakMap,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[1,1],h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:a=>{if(!i(a))throw new Error("object required");const c=u.get(a);if(c)return c;let f=d[0];const p=new Set,g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:++d[0];f!==t&&(f=t,p.forEach((n=>n(e,t))))};let m=d[1];const v=e=>(t,n)=>{const r=[...t];r[1]=[e,...r[1]],g(r,n)},y=new Map,b=e=>{var t;const n=y.get(e);n&&(y.delete(e),null==(t=n[1])||t.call(n))},w=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),A=t(w,{deleteProperty(e,t){const n=Reflect.get(e,t);b(t);const r=Reflect.deleteProperty(e,t);return r&&g(["delete",[t],n]),r},set(t,a,c,l){const d=Reflect.has(t,a),f=Reflect.get(t,a,l);if(d&&(e(f,c)||u.has(c)&&e(f,u.get(c))))return!0;b(a),i(c)&&(c=(0,r.Ai)(c)||c);let m=c;if(c instanceof Promise)c.then((e=>{c.status="fulfilled",c.value=e,g(["resolve",[a],e])})).catch((e=>{c.status="rejected",c.reason=e,g(["reject",[a],e])}));else{!s.has(c)&&n(c)&&(m=h(c));const e=!o.has(m)&&s.get(m);e&&((e,t)=>{if(y.has(e))throw new Error("prop listener already exists");if(p.size){const n=t[3](v(e));y.set(e,[t,n])}else y.set(e,[t])})(a,e)}return Reflect.set(t,a,m,l),g(["set",[a],c,f]),!0}});u.set(a,A);const E=[w,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:++d[1];return m===e||p.size||(m=e,y.forEach((t=>{let[n]=t;const r=n[1](e);r>f&&(f=r)}))),f},l,e=>{p.add(e),1===p.size&&y.forEach(((e,t)=>{let[n,r]=e;if(r)throw new Error("remove already exists");const i=n[3](v(t));y.set(t,[n,i])}));return()=>{p.delete(e),0===p.size&&y.forEach(((e,t)=>{let[n,r]=e;r&&(r(),y.set(t,[n]))}))}}];return s.set(A,E),Reflect.ownKeys(a).forEach((e=>{const t=Object.getOwnPropertyDescriptor(a,e);"value"in t&&(A[e]=a[e],delete t.value,delete t.writable),Object.defineProperty(w,e,t)})),A};return[h,s,o,e,t,n,a,c,l,u,d]},[c]=a();function l(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function u(e,t,n){const r=s.get(e);let i;r||console.warn("Please use proxy object");const o=[],a=r[3];let c=!1;const l=a((e=>{o.push(e),n?t(o.splice(0)):i||(i=Promise.resolve().then((()=>{i=void 0,c&&t(o.splice(0))})))}));return c=!0,()=>{c=!1,l()}}function d(e,t){const n=s.get(e);n||console.warn("Please use proxy object");const[r,i,o]=n;return o(r,i(),t)}function h(e){return o.add(e),e}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},595:(e,t,n)=>{"use strict";n.d(t,{U:()=>h});var r=n(574),i=n(7038),s=n(4657),o=n(3801),a=n(5618),c=n(5814),l=n(7258),u=n(7905);const d=(0,r.BX)({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),h={state:d,replaceState(e){e&&Object.assign(d,(0,r.KR)(e))},subscribe:e=>c.W.subscribeChainProp("accountState",(t=>{if(t)return e(t)})),subscribeKey(e,t,n){let r;return c.W.subscribeChainProp("accountState",(n=>{if(n){const i=n[e];r!==i&&(r=i,t(i))}}),n)},setStatus(e,t){c.W.setAccountProp("status",e,t)},getCaipAddress:e=>c.W.getAccountProp("caipAddress",e),setCaipAddress(e,t){const n=e?s.w.getPlainAddress(e):void 0;t===c.W.state.activeChain&&(c.W.state.activeCaipAddress=e),c.W.setAccountProp("caipAddress",e,t),c.W.setAccountProp("address",n,t)},setBalance(e,t,n){c.W.setAccountProp("balance",e,n),c.W.setAccountProp("balanceSymbol",t,n)},setProfileName(e,t){c.W.setAccountProp("profileName",e,t)},setProfileImage(e,t){c.W.setAccountProp("profileImage",e,t)},setUser(e,t){c.W.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){c.W.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){c.W.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){c.W.setAccountProp("currentTab",e,c.W.state.activeChain)},setTokenBalance(e,t){e&&c.W.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){c.W.setAccountProp("shouldUpdateToAddress",e,t)},setAllAccounts(e,t){c.W.setAccountProp("allAccounts",e,t)},addAddressLabel(e,t,n){const r=c.W.getAccountProp("addressLabels",n)||new Map;r.set(e,t),c.W.setAccountProp("addressLabels",r,n)},removeAddressLabel(e,t){const n=c.W.getAccountProp("addressLabels",t)||new Map;n.delete(e),c.W.setAccountProp("addressLabels",n,t)},setConnectedWalletInfo(e,t){c.W.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){c.W.setAccountProp("preferredAccountType",e,t)},setSocialProvider(e,t){e&&c.W.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){c.W.setAccountProp("socialWindow",e?(0,r.KR)(e):void 0,t)},setFarcasterUrl(e,t){c.W.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){var t,n;d.balanceLoading=!0;const r=null===(t=c.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId,h=null===(n=c.W.state.activeCaipNetwork)||void 0===n?void 0:n.chainNamespace,f=c.W.state.activeCaipAddress,p=f?s.w.getPlainAddress(f):void 0;if(d.lastRetry&&!s.w.isAllowedRetry(d.lastRetry,30*i.oU.ONE_SEC_MS))return d.balanceLoading=!1,[];try{if(p&&r&&h){const e=await a.T.getBalance(p,r),t=e.balances.filter((e=>"0"!==e.quantity.decimals));return this.setTokenBalance(t,h),u.GN.setBalances(o.s.mapBalancesToSwapTokens(e.balances)),d.lastRetry=void 0,d.balanceLoading=!1,t}}catch(g){d.lastRetry=Date.now(),null===e||void 0===e||e(g),l.P.showError("Token Balance Unavailable")}finally{d.balanceLoading=!1}return[]},resetAccount(e){c.W.resetAccount(e)}}},629:(e,t,n)=>{"use strict";n.d(t,{g:()=>h});var r=n(883),i=n(2661),s=n(8861),o=n(4657),a=n(3022),c=n(6496),l=n(5814),u=n(3939),d=n(3005);const h={getConnectorsByType(e,t,n){const{customWallets:r}=i.H.state,o=s.i.getRecentWallets(),a=d.A.filterOutDuplicateWallets(t),c=d.A.filterOutDuplicateWallets(n),l=e.filter((e=>"MULTI_CHAIN"===e.type)),u=e.filter((e=>"ANNOUNCED"===e.type)),h=e.filter((e=>"INJECTED"===e.type));return{custom:r,recent:o,external:e.filter((e=>"EXTERNAL"===e.type)),multiChain:l,announced:u,injected:h,recommended:a,featured:c}},showConnector(e){if("INJECTED"===e.type){var t;if(!o.w.isMobile()&&"Browser Wallet"===e.name)return!1;const n=null===(t=e.info)||void 0===t?void 0:t.rdns;if(!n&&!a.x.checkInstalled())return!1;if(n&&c.N.state.excludedRDNS&&c.N.state.excludedRDNS.includes(n))return!1}if("ANNOUNCED"===e.type){var n;const t=null===(n=e.info)||void 0===n?void 0:n.rdns;if(t&&c.N.state.excludedRDNS.includes(t))return!1}return!0},getIsConnectedWithWC:()=>Array.from(l.W.state.chains.values()).some((e=>u.a.getConnectorId(e.namespace)===r.o.CONNECTOR_ID.WALLET_CONNECT)),getConnectorTypeOrder(e){var t,n;let{recommended:r,featured:s,custom:o,recent:a,announced:c,injected:l,multiChain:u,external:d,overriddenConnectors:f=(null!==(t=null===(n=i.H.state.features)||void 0===n?void 0:n.connectorTypeOrder)&&void 0!==t?t:[])}=e;const p=h.getIsConnectedWithWC(),g=[{type:"walletConnect",isEnabled:i.H.state.enableWalletConnect&&!p},{type:"recent",isEnabled:a.length>0},{type:"injected",isEnabled:[...l,...c,...u].length>0},{type:"featured",isEnabled:s.length>0},{type:"custom",isEnabled:o&&o.length>0},{type:"external",isEnabled:d.length>0},{type:"recommended",isEnabled:r.length>0}].filter((e=>e.isEnabled)),m=new Set(g.map((e=>e.type))),v=f.filter((e=>m.has(e))).map((e=>({type:e,isEnabled:!0}))),y=g.filter((e=>{let{type:t}=e;return!v.some((e=>{let{type:n}=e;return n===t}))}));return Array.from(new Set([...v,...y].map((e=>{let{type:t}=e;return t}))))}}},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},883:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});const r={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"}},1067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1344).__exportStar(n(656),t)},1139:(e,t,n)=>{"use strict";n.d(t,{I:()=>d});var r=n(574),i=n(6844),s=n(595),o=n(5814),a=n(3939),c=n(3609),l=n(2661);const u=(0,r.BX)({view:"Connect",history:["Connect"],transactionStack:[]}),d={state:u,subscribeKey:(e,t)=>(0,i.u$)(u,e,t),pushTransactionStack(e){u.transactionStack.push(e)},popTransactionStack(e){const t=u.transactionStack.pop();if(t)if(e){var n;this.goBack(),null===t||void 0===t||null===(n=t.onCancel)||void 0===n||n.call(t)}else{var r;if(t.goBack)this.goBack();else if(t.replace){const e=u.history.indexOf("ConnectingSiwe");e>0?this.goBackToIndex(e-1):(c.W.close(),u.history=[])}else t.view&&this.reset(t.view);null===t||void 0===t||null===(r=t.onSuccess)||void 0===r||r.call(t)}},push(e,t){e!==u.view&&(u.view=e,u.history.push(e),u.data=t)},reset(e,t){u.view=e,u.history=[e],u.data=t},replace(e,t){u.history.at(-1)===e||(u.view=e,u.history[u.history.length-1]=e,u.data=t)},goBack(){var e;const t=!o.W.state.activeCaipAddress&&"ConnectingFarcaster"===this.state.view;if(u.history.length>1&&!u.history.includes("UnsupportedChain")){u.history.pop();const[e]=u.history.slice(-1);e&&(u.view=e)}else c.W.close();null!==(e=u.data)&&void 0!==e&&e.wallet&&(u.data.wallet=void 0),setTimeout((()=>{if(t){var e,n,i;s.U.setFarcasterUrl(void 0,o.W.state.activeChain);const t=a.a.getAuthConnector();null===t||void 0===t||null===(e=t.provider)||void 0===e||e.reload();const c=(0,r.P9)(l.H.state);null===t||void 0===t||null===(n=t.provider)||void 0===n||null===(i=n.syncDappData)||void 0===i||i.call(n,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}}),100)},goBackToIndex(e){if(u.history.length>1){u.history=u.history.slice(0,e+1);const[t]=u.history.slice(-1);t&&(u.view=t)}}}},1172:(e,t,n)=>{"use strict";var r=n(3697),i=n(9848),s=n(5482);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=o,o.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},o.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,i.encode(o,t)}},1195:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>g,Fc:()=>u,My:()=>h,Id:()=>p,O8:()=>o,qv:()=>c,po:()=>v,Ow:()=>a,ZJ:()=>f,DH:()=>s,ld:()=>m});const r="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=n(9845);function s(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function o(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function a(e,t){return e<<32-t|e>>>t}const c=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function l(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function u(e){for(let t=0;t<e.length;t++)e[t]=l(e[t])}const d=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function h(e){(0,i.DO)(e);let t="";for(let n=0;n<e.length;n++)t+=d[e[n]];return t}function f(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),(0,i.DO)(e),e}function p(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];(0,i.DO)(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class g{clone(){return this._cloneInto()}}function m(e){const t=t=>e().update(f(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(r&&"function"===typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));if(r&&"function"===typeof r.randomBytes)return r.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}},1198:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},1344:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>A,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>_,__classPrivateFieldSet:()=>k,__createBinding:()=>h,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>C,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>v,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1348:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var r=n(574),i=n(6496),s=n(6596);const o={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},a=(0,r.BX)({networkImagePromises:{}}),c={async fetchWalletImage(e){if(e)return await i.N._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(a.networkImagePromises[e]||(a.networkImagePromises[e]=i.N._fetchNetworkImage(e)),await a.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return s.j.state.walletImages[e]},getWalletImage:e=>null!==e&&void 0!==e&&e.image_url?null===e||void 0===e?void 0:e.image_url:null!==e&&void 0!==e&&e.image_id?s.j.state.walletImages[e.image_id]:void 0,getNetworkImage(e){var t,n,r;return null!==e&&void 0!==e&&null!==(t=e.assets)&&void 0!==t&&t.imageUrl?null===e||void 0===e||null===(r=e.assets)||void 0===r?void 0:r.imageUrl:null!==e&&void 0!==e&&null!==(n=e.assets)&&void 0!==n&&n.imageId?s.j.state.networkImages[e.assets.imageId]:void 0},getNetworkImageById(e){if(e)return s.j.state.networkImages[e]},getConnectorImage:e=>null!==e&&void 0!==e&&e.imageUrl?e.imageUrl:null!==e&&void 0!==e&&e.imageId?s.j.state.connectorImages[e.imageId]:void 0,getChainImage:e=>s.j.state.networkImages[o[e]]}},1391:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});const r={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:("undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/add-product-page-paymyemail",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}}},1510:(e,t,n)=>{"use strict";var r=n(7643).rotr32;function i(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}function o(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?o(t,n,r):2===e?s(t,n,r):void 0},t.ch32=i,t.maj32=s,t.p32=o,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},1636:e=>{"use strict";e.exports={rE:"6.6.1"}},1666:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let a=0;a<t.length;a++)t[a]=255;for(let a=0;a<e.length;a++){const n=e.charAt(a),r=n.charCodeAt(0);if(255!==t[r])throw new TypeError(n+" is ambiguous");t[r]=a}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=c-a;for(;u!==c&&0===l[u];)u++;const d=new Uint8Array(o+(c-u));let h=o;for(;u!==c;)d[h++]=l[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const l=(c-a)*s+1>>>0,u=new Uint8Array(l);for(;a!==c;){let e=t[a],r=0;for(let t=l-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let d=l-o;for(;d!==l&&0===u[d];)d++;let h=r.repeat(i);for(;d<l;++d)h+=e.charAt(u[d]);return h},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const i=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error("No timestamp found for label: ".concat(e));return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},1859:(e,t,n)=>{"use strict";var r=n(7643),i=n(2629),s=r.rotl32,o=r.sum32,a=r.sum32_3,c=r.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],y=n,b=r,w=i,A=l,E=u,S=0;S<80;S++){var C=o(s(c(n,d(S,r,i,l),e[p[S]+t],h(S)),m[S]),u);n=u,u=l,l=s(i,10),i=r,r=C,C=o(s(c(y,d(79-S,b,w,A),e[g[S]+t],f(S)),v[S]),E),y=E,E=A,A=s(w,10),w=b,b=C}C=a(this.h[1],i,A),this.h[1]=a(this.h[2],l,E),this.h[2]=a(this.h[3],u,y),this.h[3]=a(this.h[4],n,b),this.h[4]=a(this.h[0],r,w),this.h[0]=C},u.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},2155:(e,t,n)=>{"use strict";var r=n(7643),i=n(2629),s=n(5482),o=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,l=r.shr64_lo,u=r.sum64,d=r.sum64_hi,h=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,m=r.sum64_5_lo,v=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,n,r,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function A(e,t,n,r,i,s){var o=t&r^~t&s;return o<0&&(o+=4294967296),o}function E(e,t,n,r,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function S(e,t,n,r,i,s){var o=t&r^t&s^r&s;return o<0&&(o+=4294967296),o}function C(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function _(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function k(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function x(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function I(e,t){var n=o(e,t,1)^o(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function N(e,t){var n=a(e,t,1)^a(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=o(e,t,19)^o(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function P(e,t){var n=a(e,t,19)^a(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=T(n[r-4],n[r-3]),s=P(n[r-4],n[r-3]),o=n[r-14],a=n[r-13],c=I(n[r-30],n[r-29]),l=N(n[r-30],n[r-29]),u=n[r-32],d=n[r-31];n[r]=f(i,s,o,a,c,l,u,d),n[r+1]=p(i,s,o,a,c,l,u,d)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],f=this.h[6],p=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],I=this.h[11],N=this.h[12],T=this.h[13],P=this.h[14],O=this.h[15];s(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var M=P,D=O,U=k(v,y),L=x(v,y),B=w(v,y,b,I,N),F=A(v,y,b,I,N,T),j=this.k[R],z=this.k[R+1],W=n[R],H=n[R+1],V=g(M,D,U,L,B,F,j,z,W,H),q=m(M,D,U,L,B,F,j,z,W,H);M=C(r,i),D=_(r,i),U=E(r,i,o,a,c),L=S(r,i,o,a,c,l);var K=d(M,D,U,L),G=h(M,D,U,L);P=N,O=T,N=b,T=I,b=v,I=y,v=d(f,p,V,q),y=h(p,p,V,q),f=c,p=l,c=o,l=a,o=r,a=i,r=d(V,q,K,G),i=h(V,q,K,G)}u(this.h,0,r,i),u(this.h,2,o,a),u(this.h,4,c,l),u(this.h,6,f,p),u(this.h,8,v,y),u(this.h,10,b,I),u(this.h,12,N,T),u(this.h,14,P,O)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},2236:(e,t,n)=>{"use strict";var r=n(7643),i=n(2629),s=n(1510),o=r.rotl32,a=r.sum32,c=r.sum32_5,l=s.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,u),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=o(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],s=this.h[1],u=this.h[2],h=this.h[3],f=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),g=c(o(i,5),l(p,s,u,h),f,n[r],d[p]);f=h,h=u,u=o(s,30),s=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],f)},h.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},2424:(e,t,n)=>{"use strict";n.d(t,{A:()=>Fb});var r={};n.r(r),n.d(r,{identity:()=>Ns});var i={};n.r(i),n.d(i,{base2:()=>Ts});var s={};n.r(s),n.d(s,{base8:()=>Ps});var o={};n.r(o),n.d(o,{base10:()=>Os});var a={};n.r(a),n.d(a,{base16:()=>Rs,base16upper:()=>Ms});var c={};n.r(c),n.d(c,{base32:()=>Ds,base32hex:()=>Fs,base32hexpad:()=>zs,base32hexpadupper:()=>Ws,base32hexupper:()=>js,base32pad:()=>Ls,base32padupper:()=>Bs,base32upper:()=>Us,base32z:()=>Hs});var l={};n.r(l),n.d(l,{base36:()=>Vs,base36upper:()=>qs});var u={};n.r(u),n.d(u,{base58btc:()=>Ks,base58flickr:()=>Gs});var d={};n.r(d),n.d(d,{base64:()=>Js,base64pad:()=>Ys,base64url:()=>Qs,base64urlpad:()=>Zs});var h={};n.r(h),n.d(h,{base256emoji:()=>to});var f={};n.r(f),n.d(f,{sha256:()=>xo,sha512:()=>Io});var p={};n.r(p),n.d(p,{identity:()=>To});var g={};n.r(g),n.d(g,{code:()=>Oo,decode:()=>Mo,encode:()=>Ro,name:()=>Po});var m={};n.r(m),n.d(m,{code:()=>Bo,decode:()=>jo,encode:()=>Fo,name:()=>Lo});var v=n(9379),y=n(7284),b=n.n(y),w=n(3901);class A{}class E extends A{constructor(e){super()}}const S=w.FIVE_SECONDS,C="heartbeat_pulse";class _ extends E{constructor(e){super(e),this.events=new y.EventEmitter,this.interval=S,this.interval=(null===e||void 0===e?void 0:e.interval)||S}static async init(e){const t=new _(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval((()=>this.pulse()),(0,w.toMiliseconds)(this.interval))}pulse(){this.events.emit(C)}}const k=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,x=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,I=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function N(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"===typeof t&&"prototype"in t))return t;!function(e){console.warn('[destr] Dropping "'.concat(e,'" key to prevent prototype pollution.'))}(e)}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return e;const n=e.trim();if('"'===e[0]&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const e=n.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!I.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(k.test(e)||x.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,N)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function P(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(i=e(...n))&&"function"===typeof i.then?i:Promise.resolve(i)}catch(s){return Promise.reject(s)}var i}function O(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return O(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const R="base64:";function M(e){return"string"===typeof e?e:R+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function D(e){return"string"!==typeof e?e:e.startsWith(R)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),(e=>e.codePointAt(0)))}(e.slice(7)):e}function U(e){var t;return e&&(null===(t=e.split("?")[0])||void 0===t?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U(t.join(":"))}function B(e){return(e=U(e))?e+":":""}const F=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},getItemRaw(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function j(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||F()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const n of e.mountpoints)if(t.startsWith(n))return{base:n,relativeKey:t.slice(n.length),driver:e.mounts[n]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,n)=>e.mountpoints.filter((e=>e.startsWith(t)||n&&t.startsWith(e))).map((n=>({relativeBase:t.length>n.length?t.slice(n.length):void 0,mountpoint:n,driver:e.mounts[n]}))),r=(t,n)=>{if(e.watching){n=U(n);for(const r of e.watchListeners)r(t,n)}},i=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},s=(e,n,r)=>{const i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(const o of e){const e="string"===typeof o,r=U(e?o:o.key),i=e?void 0:o.value,a=e||!o.options?n:(0,v.A)((0,v.A)({},n),o.options),c=t(r);s(c).items.push({key:r,value:i,relativeKey:c.relativeKey,options:a})}return Promise.all([...i.values()].map((e=>r(e)))).then((e=>e.flat()))},o={hasItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=U(e);const{relativeKey:r,driver:i}=t(e);return P(i.hasItem,r,n)},getItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=U(e);const{relativeKey:r,driver:i}=t(e);return P(i.getItem,r,n).then((e=>T(e)))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,t,(e=>e.driver.getItems?P(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:L(e.base,t.key),value:T(t.value)}))))):Promise.all(e.items.map((t=>P(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:T(e)}))))))))},getItemRaw(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=U(e);const{relativeKey:r,driver:i}=t(e);return i.getItemRaw?P(i.getItemRaw,r,n):P(i.getItem,r,n).then((e=>D(e)))},async setItem(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return o.removeItem(e);e=U(e);const{relativeKey:s,driver:a}=t(e);a.setItem&&(await P(a.setItem,s,O(n),i),a.watch||r("update",e))},async setItems(e,t){await s(e,t,(async e=>{if(e.driver.setItems)return P(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:O(e.value),options:e.options}))),t);e.driver.setItem&&await Promise.all(e.items.map((t=>P(e.driver.setItem,t.relativeKey,O(t.value),t.options))))}))},async setItemRaw(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return o.removeItem(e,i);e=U(e);const{relativeKey:s,driver:a}=t(e);if(a.setItemRaw)await P(a.setItemRaw,s,n,i);else{if(!a.setItem)return;await P(a.setItem,s,M(n),i)}a.watch||r("update",e)},async removeItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={removeMeta:n}),e=U(e);const{relativeKey:i,driver:s}=t(e);s.removeItem&&(await P(s.removeItem,i,n),(n.removeMeta||n.removeMata)&&await P(s.removeItem,i+"$",n),s.watch||r("remove",e))},async getMeta(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={nativeOnly:n}),e=U(e);const{relativeKey:r,driver:i}=t(e),s=Object.create(null);if(i.getMeta&&Object.assign(s,await P(i.getMeta,r,n)),!n.nativeOnly){const e=await P(i.getItem,r+"$",n).then((e=>T(e)));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,n)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=B(e);const r=n(e,!0);let i=[];const s=[];let o=!0;for(const n of r){var a;null!==(a=n.driver.flags)&&void 0!==a&&a.maxDepth||(o=!1);const e=await P(n.driver.getKeys,n.relativeBase,t);for(const t of e){const e=n.mountpoint+U(t);i.some((t=>e.startsWith(t)))||s.push(e)}i=[n.mountpoint,...i.filter((e=>!e.startsWith(n.mountpoint)))]}const c=void 0!==t.maxDepth&&!o;return s.filter((n=>(!c||function(e,t){if(void 0===t)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}(n,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(n,e)))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=B(e),await Promise.all(n(e,!1).map((async e=>{if(e.driver.clear)return P(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map((n=>e.driver.removeItem(n,t))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((e=>W(e))))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await z(e.mounts[t],r,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await i()}),async unwatch(){e.watchListeners=[],await i()},mount(t,n){if((t=B(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort(((e,t)=>t.length-e.length))),e.mounts[t]=n,e.watching&&Promise.resolve(z(n,r,t)).then((n=>{e.unwatch[t]=n})).catch(console.error),o},async unmount(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t=B(t))&&e.mounts[t]){var r,i;if(e.watching&&t in e.unwatch)null===(r=(i=e.unwatch)[t])||void 0===r||r.call(i),delete e.unwatch[t];n&&await W(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t]}},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=U(e)+":";const n=t(e);return{driver:n.driver,base:n.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=U(e);return n(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getItem(e,t)},set:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.setItem(e,t,n)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)}};return o}function z(e,t,n){return e.watch?e.watch(((e,r)=>t(e,n+r))):()=>{}}async function W(e){"function"===typeof e.dispose&&await P(e.dispose)}function H(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function V(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=H(n);return(e,n)=>r.then((r=>n(r.transaction(t,e).objectStore(t))))}let q;function K(){return q||(q=V("keyval-store","keyval")),q}function G(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K())("readonly",(t=>H(t.get(e))))}function J(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},H(e.transaction)}var Y=n(8661);var Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?"".concat(e.base,":"):"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=V(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await G(n(e),r)>"u"),async getItem(e){var t;return null!==(t=await G(n(e),r))&&void 0!==t?t:null},setItem:(e,t)=>function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:K())("readwrite",(n=>(n.put(t,e),H(n.transaction))))}(n(e),t,r),removeItem:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K())("readwrite",(t=>(t.delete(e),H(t.transaction))))}(n(e),r),getKeys:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:K())("readonly",(e=>{if(e.getAllKeys)return H(e.getAllKeys());const t=[];return J(e,(e=>t.push(e.key))).then((()=>t))}))}(r),clear:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:K())("readwrite",(e=>(e.clear(),H(e.transaction))))}(r)}};class Z{constructor(){this.indexedDb=j({driver:Q({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e=>[e.key,e.value]))}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,Y.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},$={exports:{}};function ee(e){var t;return[e[0],(0,Y.j)(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof X<"u"&&X.localStorage?$.exports=X.localStorage:typeof window<"u"&&window.localStorage?$.exports=window.localStorage:$.exports=new t}();class te{constructor(){this.localStorage=$.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(ee)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return(0,Y.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,Y.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}const ne=async(e,t)=>{t.length&&t.forEach((async t=>{await e.removeItem(t)}))};class re{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new te;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const s=await e.getKeys();if(!s.length)return void n(t);const o=[];for(;s.length;){const n=s.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),o.push(n)}}await t.setItem(r,1),n(t),ne(e,o)})(e,new Z,this.setInitialized)}catch(t){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise((e=>{const t=setInterval((()=>{this.initialized&&(clearInterval(t),e())}),20)}))}}var ie=n(9397),se=Object.defineProperty,oe=(e,t,n)=>((e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ae extends A{constructor(e){super(),this.opts=e,oe(this,"protocol","wc"),oe(this,"version",2)}}var ce=Object.defineProperty,le=(e,t,n)=>((e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ue extends A{constructor(e,t){super(),this.core=e,this.logger=t,le(this,"records",new Map)}}class de{constructor(e,t){this.logger=e,this.core=t}}class he extends A{constructor(e,t){super(),this.relayer=e,this.logger=t}}class fe extends A{constructor(e){super()}}class pe{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class ge extends A{constructor(e,t){super(),this.relayer=e,this.logger=t}}class me extends A{constructor(e,t){super(),this.core=e,this.logger=t}}class ve{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class ye{constructor(e,t){this.projectId=e,this.logger=t}}class be{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var we=Object.defineProperty,Ae=(e,t,n)=>((e,t,n)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);b();class Ee{constructor(e){this.opts=e,Ae(this,"protocol","wc"),Ae(this,"version",2)}}y.EventEmitter;class Se{constructor(e){this.client=e}}function Ce(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function _e(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const ke="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,xe=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Ie(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Ce(e),e}class Ne{clone(){return this._cloneInto()}}function Te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ke&&"function"==typeof ke.getRandomValues)return ke.getRandomValues(new Uint8Array(e));if(ke&&"function"==typeof ke.randomBytes)return ke.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class Pe extends Ne{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xe(this.buffer)}update(e){_e(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Ie(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=xe(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){_e(this),function(e,t){Ce(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=xe(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const Oe=BigInt(2**32-1),Re=BigInt(32);function Me(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Oe),l:Number(e>>Re&Oe)}:{h:0|Number(e>>Re&Oe),l:0|Number(e&Oe)}}const De={fromBig:Me,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Me(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<Re|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[Ue,Le]=De.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Be=new Uint32Array(80),Fe=new Uint32Array(80);class je extends Pe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let y=0;y<16;y++,t+=4)Be[y]=e.getUint32(t),Fe[y]=e.getUint32(t+=4);for(let y=16;y<80;y++){const e=0|Be[y-15],t=0|Fe[y-15],n=De.rotrSH(e,t,1)^De.rotrSH(e,t,8)^De.shrSH(e,t,7),r=De.rotrSL(e,t,1)^De.rotrSL(e,t,8)^De.shrSL(e,t,7),i=0|Be[y-2],s=0|Fe[y-2],o=De.rotrSH(i,s,19)^De.rotrBH(i,s,61)^De.shrSH(i,s,6),a=De.rotrSL(i,s,19)^De.rotrBL(i,s,61)^De.shrSL(i,s,6),c=De.add4L(r,a,Fe[y-7],Fe[y-16]),l=De.add4H(c,n,o,Be[y-7],Be[y-16]);Be[y]=0|l,Fe[y]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:v}=this;for(let y=0;y<80;y++){const e=De.rotrSH(u,d,14)^De.rotrSH(u,d,18)^De.rotrBH(u,d,41),t=De.rotrSL(u,d,14)^De.rotrSL(u,d,18)^De.rotrBL(u,d,41),b=u&h^~u&p,w=d&f^~d&g,A=De.add5L(v,t,w,Le[y],Fe[y]),E=De.add5H(A,m,e,b,Ue[y],Be[y]),S=0|A,C=De.rotrSH(n,r,28)^De.rotrBH(n,r,34)^De.rotrBH(n,r,39),_=De.rotrSL(n,r,28)^De.rotrBL(n,r,34)^De.rotrBL(n,r,39),k=n&i^n&o^i&o,x=r&s^r&a^s&a;m=0|p,v=0|g,p=0|h,g=0|f,h=0|u,f=0|d,({h:u,l:d}=De.add(0|c,0|l,0|E,0|S)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const I=De.add3L(S,_,x);n=De.add3H(I,E,C,k),r=0|I}({h:n,l:r}=De.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=De.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=De.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=De.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=De.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=De.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=De.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:v}=De.add(0|this.Hh,0|this.Hl,0|m,0|v)),this.set(n,r,i,s,o,a,c,l,u,d,h,f,p,g,m,v)}roundClean(){Be.fill(0),Fe.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ze=function(e){const t=t=>e().update(Ie(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new je)),We=BigInt(0),He=BigInt(1),Ve=BigInt(2);function qe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Ke(e){if(!qe(e))throw new Error("Uint8Array expected")}function Ge(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const Je=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ye(e){Ke(e);let t="";for(let n=0;n<e.length;n++)t+=Je[e[n]];return t}function Qe(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?We:BigInt("0x"+e)}const Ze=48,Xe=57,$e=65,et=70,tt=97,nt=102;function rt(e){return e>=Ze&&e<=Xe?e-Ze:e>=$e&&e<=et?e-($e-10):e>=tt&&e<=nt?e-(tt-10):void 0}function it(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=rt(e.charCodeAt(s)),n=rt(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function st(e){return Ke(e),Qe(Ye(Uint8Array.from(e).reverse()))}function ot(e,t){return it(e.toString(16).padStart(2*t,"0"))}function at(e,t){return ot(e,t).reverse()}function ct(e,t,n){let r;if("string"==typeof t)try{r=it(t)}catch(S){throw new Error(e+" must be hex string or Uint8Array, cause: "+S)}else{if(!qe(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function lt(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Ke(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const ut=e=>"bigint"==typeof e&&We<=e;function dt(e,t,n,r){if(!function(e,t,n){return ut(e)&&ut(t)&&ut(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const ht=e=>(Ve<<BigInt(e-1))-He,ft={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||qe(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function pt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=ft[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function gt(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const mt=BigInt(0),vt=BigInt(1),yt=BigInt(2),bt=BigInt(3),wt=BigInt(4),At=BigInt(5),Et=BigInt(8);function St(e,t){const n=e%t;return n>=mt?n:t+n}function Ct(e,t,n){if(t<mt)throw new Error("invalid exponent, negatives unsupported");if(n<=mt)throw new Error("invalid modulus");if(n===vt)return mt;let r=vt;for(;t>mt;)t&vt&&(r=r*e%n),e=e*e%n,t>>=vt;return r}function _t(e,t,n){let r=e;for(;t-- >mt;)r*=r,r%=n;return r}function kt(e,t){if(e===mt)throw new Error("invert: expected non-zero number");if(t<=mt)throw new Error("invert: expected positive modulus, got "+t);let n=St(e,t),r=t,i=mt,s=vt;for(;n!==mt;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==vt)throw new Error("invert: does not exist");return St(i,t)}function xt(e){if(e%wt===bt){const t=(e+vt)/wt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Et===At){const t=(e-At)/Et;return function(e,n){const r=e.mul(n,yt),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,yt),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-vt)/yt;let n,r,i;for(n=e-vt,r=0;n%yt===mt;n/=yt,r++);for(i=yt;i<e&&Ct(i,t,e)!==e-vt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+vt)/wt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+vt)/yt;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,vt<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const It=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Nt(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Tt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=mt)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Nt(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:ht(i),ZERO:mt,ONE:vt,create:t=>St(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return mt<=t&&t<e},is0:e=>e===mt,isOdd:e=>(e&vt)===vt,neg:t=>St(-t,e),eql:(e,t)=>e===t,sqr:t=>St(t*t,e),add:(t,n)=>St(t+n,e),sub:(t,n)=>St(t-n,e),mul:(t,n)=>St(t*n,e),pow:(e,t)=>function(e,t,n){if(n<mt)throw new Error("invalid exponent, negatives unsupported");if(n===mt)return e.ONE;if(n===vt)return t;let r=e.ONE,i=t;for(;n>mt;)n&vt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=vt;return r}(a,e,t),div:(t,n)=>St(t*kt(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>kt(t,e),sqrt:r.sqrt||(t=>(o||(o=xt(e)),o(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?at(e,s):ot(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?st(e):function(e){return Qe(Ye(e))}(e)}});return Object.freeze(a)}const Pt=BigInt(0),Ot=BigInt(1);function Rt(e,t){const n=t.negate();return e?n:t}function Mt(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Dt(e,t){Mt(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const Ut=new WeakMap,Lt=new WeakMap;function Bt(e){return Lt.get(e)||1}function Ft(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=function(e){let t;for(t=0;e>We;e>>=He,t+=1);return t}(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i);let l=i;for(let u=Math.floor((t.BITS-1)/o)*o;u>=0;u-=o){c.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(u)&BigInt(a));c[i]=c[i].add(n[t])}let e=i;for(let t=c.length-1,n=i;t>0;t--)n=n.add(c[t]),e=e.add(n);if(l=l.add(e),0!==u)for(let t=0;t<o;t++)l=l.double()}return l}function jt(e){return function(e){const t=It.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});pt(e,t)}(e.Fp),pt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,v.A)((0,v.A)((0,v.A)({},Nt(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}const zt=BigInt(0),Wt=BigInt(1),Ht=BigInt(2),Vt=BigInt(8),qt={zip215:!0};function Kt(e){const t=function(e){const t=jt(e);return pt(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze((0,v.A)({},t))}(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,l=Ht<<BigInt(8*a)-Wt,u=n.create,d=Tt(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:zt}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(Ge("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){dt("coordinate "+e,t,zt,l)}function m(e){if(!(e instanceof w))throw new Error("ExtendedPoint expected")}const y=gt(((e,t)=>{const{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?Vt:n.inv(s));const a=u(r*t),c=u(i*t),l=u(s*t);if(o)return{x:zt,y:Wt};if(l!==Wt)throw new Error("invZ was invalid");return{x:a,y:c}})),b=gt((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,c=u(i*i),l=u(s*s),d=u(o*o),h=u(d*d),f=u(c*n);if(u(d*u(f+l))!==u(h+u(r*u(c*l))))throw new Error("bad point: equation left != right (1)");if(u(i*s)!==u(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class w{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,g("x",e),g("y",t),g("z",n),g("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return g("x",t),g("y",n),new w(t,n,Wt,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(w.fromAffine)}static msm(e,t){return Ft(w,d,e,t)}_setWindowSize(e){S.setWindowSize(this,e)}assertValidity(){b(this)}equals(e){m(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=e,a=u(t*o),c=u(i*r),l=u(n*o),d=u(s*r);return a===c&&l===d}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=u(n*n),o=u(r*r),a=u(Ht*u(i*i)),c=u(e*s),l=n+r,d=u(u(l*l)-s-o),h=c+o,f=h-a,p=c-o,g=u(d*f),m=u(h*p),v=u(d*p),y=u(f*h);return new w(g,m,y,v)}add(e){m(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:d,et:h}=e;if(n===BigInt(-1)){const e=u((s-i)*(l+c)),t=u((s+i)*(l-c)),n=u(t-e);if(n===zt)return this.double();const r=u(o*Ht*h),f=u(a*Ht*d),p=f+r,g=t+e,m=f-r,v=u(p*n),y=u(g*m),b=u(p*m),A=u(n*g);return new w(v,y,A,b)}const f=u(i*c),p=u(s*l),g=u(a*r*h),v=u(o*d),y=u((i+s)*(c+l)-f-p),b=v-g,A=v+g,E=u(p-n*f),S=u(y*b),C=u(A*E),_=u(y*E),k=u(b*A);return new w(S,C,k,_)}subtract(e){return this.add(e.negate())}wNAF(e){return S.wNAFCached(this,e,w.normalizeZ)}multiply(e){const t=e;dt("scalar",t,Wt,r);const{p:n,f:i}=this.wNAF(t);return w.normalizeZ([n,i])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.ZERO;const n=e;return dt("scalar",n,zt,r),n===zt?E:this.is0()||n===Wt?this:S.wNAFCachedUnsafe(this,n,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,r).is0()}toAffine(e){return y(this,e)}clearCofactor(){const{h:e}=t;return e===Wt?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:s}=t,o=n.BYTES;e=ct("pointHex",e,o),Ge("zip215",r);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const d=st(a),f=r?l:n.ORDER;dt("pointHex.y",d,zt,f);const p=u(d*d),g=u(p-Wt),m=u(i*p-s);let{isValid:v,value:y}=h(g,m);if(!v)throw new Error("Point.fromHex: invalid y coordinate");const b=(y&Wt)===Wt,A=0!==(128&c);if(!r&&y===zt&&A)throw new Error("Point.fromHex: x=0 and x_0=1");return A!==b&&(y=u(-y)),w.fromAffine({x:y,y:d})}static fromPrivateKey(e){return k(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=at(t,n.BYTES);return r[r.length-1]|=e&Wt?128:0,r}toHex(){return Ye(this.toRawBytes())}}w.BASE=new w(t.Gx,t.Gy,Wt,u(t.Gx*t.Gy)),w.ZERO=new w(zt,Wt,Wt,zt);const{BASE:A,ZERO:E}=w,S=function(e,t){return{constTimeNegate:Rt,hasPrecomputes:e=>1!==Bt(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>Pt;)n&Ot&&(r=r.add(i)),i=i.double(),n>>=Ot;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=Dt(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=Dt(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let e=0;e<s;e++){const t=e*o;let n=Number(i&l);i>>=d,n>o&&(n-=u,i+=Ot);const s=t,h=t+Math.abs(n)-1,f=e%2!==0,p=n<0;0===n?c=c.add(Rt(f,r[s])):a=a.add(Rt(p,r[h]))}return{p:a,f:c}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:o,windowSize:a}=Dt(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let e=0;e<o;e++){const t=e*a;if(i===Pt)break;let n=Number(i&c);if(i>>=u,n>a&&(n-=l,i+=Ot),0===n)continue;let o=r[t+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,n){let r=Ut.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Ut.set(t,n(r))),r},wNAFCached(e,t,n){const r=Bt(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=Bt(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){Mt(n,t),Lt.set(e,n),Ut.delete(e)}}}(w,8*a);function C(e){return St(e,r)}function _(e){return C(st(e))}function k(e){const t=n.BYTES;e=ct("private key",e,t);const r=ct("hashed private key",s(e),2*t),i=f(r.slice(0,t)),o=r.slice(t,2*t),a=_(i),c=A.multiply(a),l=c.toRawBytes();return{head:i,prefix:o,scalar:a,point:c,pointBytes:l}}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=lt(...n);return _(s(p(o,ct("context",e),!!i)))}const I=qt;return A._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return k(e).pointBytes},sign:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=ct("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:c}=k(t),l=x(s.context,o,e),u=A.multiply(l).toRawBytes(),d=C(l+x(s.context,u,c,e)*a);return dt("signature.s",d,zt,r),ct("result",lt(u,at(d,n.BYTES)),2*n.BYTES)},verify:function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;const{context:o,zip215:a}=s,c=n.BYTES;e=ct("signature",e,2*c),t=ct("message",t),r=ct("publicKey",r,c),void 0!==a&&Ge("zip215",a),i&&(t=i(t));const l=st(e.slice(c,2*c));let u,d,h;try{u=w.fromHex(r,a),d=w.fromHex(e.slice(0,c),a),h=A.multiplyUnsafe(l)}catch(p){return!1}if(!a&&u.isSmallOrder())return!1;const f=x(o,d.toRawBytes(),u.toRawBytes(),t);return d.add(u.multiplyUnsafe(f)).subtract(h).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>o(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}BigInt(0),BigInt(1);const Gt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Jt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Yt=BigInt(1),Qt=BigInt(2);BigInt(3);const Zt=BigInt(5),Xt=BigInt(8);function $t(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function en(e,t){const n=Gt,r=St(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Gt,o=e*e%s*e%s,a=_t(o,Qt,s)*o%s,c=_t(a,Yt,s)*e%s,l=_t(c,Zt,s)*c%s,u=_t(l,t,s)*l%s,d=_t(u,n,s)*u%s,h=_t(d,r,s)*d%s,f=_t(h,i,s)*h%s,p=_t(f,i,s)*h%s,g=_t(p,t,s)*l%s;return{pow_p_5_8:_t(g,Qt,s)*e%s,b2:o}}(e*St(r*r*t,n)).pow_p_5_8;let s=St(e*r*i,n);const o=St(t*s*s,n),a=s,c=St(s*Jt,n),l=o===e,u=o===St(-e,n),d=o===St(-e*Jt,n);return l&&(s=a),(u||d)&&(s=c),((e,t)=>(St(e,t)&vt)===vt)(s,n)&&(s=St(-s,n)),{isValid:l||u,value:s}}const tn=Tt(Gt,void 0,!0),nn=Kt({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:tn,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Xt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ze,randomBytes:Te,adjustScalarBytes:$t,uvRatio:en}),rn="EdDSA",sn=".",on="base64url",an="utf8",cn="utf8",ln="did",un="key",dn="base58btc";function hn(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?hn(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function pn(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=fn(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return hn(n)}var gn=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var d=t[i],h=0,f=o-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},mn=gn;const vn=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class yn{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class bn{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return An(this,e)}}class wn{constructor(e){this.decoders=e}or(e){return An(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const An=(e,t)=>new wn((0,v.A)((0,v.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class En{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new yn(e,t,n),this.decoder=new bn(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Sn=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new En(t,n,r,i)},Cn=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=mn(r,n);return Sn({prefix:t,name:n,encode:i,decode:e=>vn(s(e))})},_n=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return Sn({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},kn=Sn({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var xn=Object.freeze({__proto__:null,identity:kn});const In=_n({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Nn=Object.freeze({__proto__:null,base2:In});const Tn=_n({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Pn=Object.freeze({__proto__:null,base8:Tn});const On=Cn({prefix:"9",name:"base10",alphabet:"0123456789"});var Rn=Object.freeze({__proto__:null,base10:On});const Mn=_n({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Dn=_n({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Un=Object.freeze({__proto__:null,base16:Mn,base16upper:Dn});const Ln=_n({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Bn=_n({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Fn=_n({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),jn=_n({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zn=_n({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Wn=_n({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Hn=_n({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Vn=_n({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qn=_n({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Kn=Object.freeze({__proto__:null,base32:Ln,base32upper:Bn,base32pad:Fn,base32padupper:jn,base32hex:zn,base32hexupper:Wn,base32hexpad:Hn,base32hexpadupper:Vn,base32z:qn});const Gn=Cn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Jn=Cn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Yn=Object.freeze({__proto__:null,base36:Gn,base36upper:Jn});const Qn=Cn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Zn=Cn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Xn=Object.freeze({__proto__:null,base58btc:Qn,base58flickr:Zn});const $n=_n({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),er=_n({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),tr=_n({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nr=_n({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var rr=Object.freeze({__proto__:null,base64:$n,base64pad:er,base64url:tr,base64urlpad:nr});const ir=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),sr=ir.reduce(((e,t,n)=>(e[n]=t,e)),[]),or=ir.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const ar=Sn({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=sr[t]),"")},decode:function(e){const t=[];for(const n of e){const e=or[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var cr=Object.freeze({__proto__:null,base256emoji:ar}),lr=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=hr;)n[r++]=255&t|ur,t/=128;for(;t&dr;)n[r++]=255&t|ur,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},ur=128,dr=-128,hr=Math.pow(2,31);var fr=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&gr)<<s:(r&gr)*Math.pow(2,s),s+=7}while(r>=pr);return e.bytes=o-n,i},pr=128,gr=127;var mr=Math.pow(2,7),vr=Math.pow(2,14),yr=Math.pow(2,21),br=Math.pow(2,28),wr=Math.pow(2,35),Ar=Math.pow(2,42),Er=Math.pow(2,49),Sr=Math.pow(2,56),Cr=Math.pow(2,63),_r={encode:lr,decode:fr,encodingLength:function(e){return e<mr?1:e<vr?2:e<yr?3:e<br?4:e<wr?5:e<Ar?6:e<Er?7:e<Sr?8:e<Cr?9:10}};const kr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _r.encode(e,t,n),t},xr=e=>_r.encodingLength(e),Ir=(e,t)=>{const n=t.byteLength,r=xr(e),i=r+xr(n),s=new Uint8Array(i+n);return kr(e,s,0),kr(n,s,r),s.set(t,i),new Nr(e,n,t,s)};class Nr{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Tr=e=>{let{name:t,code:n,encode:r}=e;return new Pr(t,n,r)};class Pr{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ir(this.code,t):t.then((e=>Ir(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Or=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Rr=Tr({name:"sha2-256",code:18,encode:Or("SHA-256")}),Mr=Tr({name:"sha2-512",code:19,encode:Or("SHA-512")});var Dr=Object.freeze({__proto__:null,sha256:Rr,sha512:Mr});const Ur=vn,Lr={code:0,name:"identity",encode:Ur,digest:e=>Ir(0,Ur(e))};var Br=Object.freeze({__proto__:null,identity:Lr});new TextEncoder,new TextDecoder;const Fr=(0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)({},xn),Nn),Pn),Rn),Un),Kn),Yn),Xn),rr),cr);function jr(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,v.A)((0,v.A)({},Dr),Br);const zr=jr("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Wr=jr("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=fn((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Hr=(0,v.A)({utf8:zr,"utf-8":zr,hex:Fr.base16,latin1:Wr,ascii:Wr,binary:Wr},Fr);function Vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Hr[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function qr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Hr[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):hn(globalThis.Buffer.from(e,"utf-8"))}function Kr(e){return(0,Y.j)(Vr(qr(e,on),an))}function Gr(e){return Vr(qr((0,Y.h)(e),an),on)}function Jr(e){const t="z"+Vr(pn([qr("K36",dn),e]),dn);return[ln,un,t].join(":")}function Yr(e){return Vr(e,on)}function Qr(e){const t=e.split(sn),n=Kr(t[0]),r=Kr(t[1]),i=function(e){return qr(e,on)}(t[2]);return{header:n,payload:r,signature:i,data:qr(t.slice(0,2).join(sn),cn)}}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te(32);const t=nn.getPublicKey(e);return{secretKey:pn([e,t]),publicKey:t}}async function Xr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,w.fromMiliseconds)(Date.now());const s={alg:rn,typ:"JWT"},o={iss:Jr(r.publicKey),sub:e,aud:t,iat:i,exp:i+n},a=function(e){return qr([Gr(e.header),Gr(e.payload)].join(sn),cn)}({header:s,payload:o});return function(e){return[Gr(e.header),Gr(e.payload),Yr(e.signature)].join(sn)}({header:s,payload:o,signature:nn.sign(a,r.secretKey.slice(0,32))})}var $r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ei=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},ti=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},ni=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},ri=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ii=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},si=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,oi=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ai=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ci(e){return e?ui(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new ii:"undefined"!==typeof navigator?ui(navigator.userAgent):"undefined"!==typeof process&&process.version?new ti(process.version.slice(1)):null}function li(e){return""!==e&&oi.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]}),!1)}function ui(e){var t=li(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new ri;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=$r($r([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var s=i.join("."),o=function(e){for(var t=0,n=ai.length;t<n;t++){var r=ai[t],i=r[0];if(r[1].exec(e))return i}return null}(e),a=si.exec(e);return a&&a[1]?new ni(n,s,o,a[1]):new ei(n,s,o)}var di=n(33),hi=n(9332);const fi="2.23.2";let pi={getDocsUrl:e=>{let{docsBaseUrl:t,docsPath:n="",docsSlug:r}=e;return n?"".concat(null!==t&&void 0!==t?t:"https://viem.sh").concat(n).concat(r?"#".concat(r):""):void 0},version:"viem@".concat(fi)};class gi extends Error{constructor(e){var t,n,r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=i.cause instanceof gi?i.cause.details:null!==(o=i.cause)&&void 0!==o&&o.message?i.cause.message:i.details;var o;const a=i.cause instanceof gi&&i.cause.docsPath||i.docsPath,c=null===(t=(n=pi).getDocsUrl)||void 0===t?void 0:t.call(n,(0,v.A)((0,v.A)({},i),{},{docsPath:a}));super([e||"An error occurred.","",...i.metaMessages?[...i.metaMessages,""]:[],...c?["Docs: ".concat(c)]:[],...s?["Details: ".concat(s)]:[],...pi.version?["Version: ".concat(pi.version)]:[]].join("\n"),i.cause?{cause:i.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=a,this.metaMessages=i.metaMessages,this.name=null!==(r=i.name)&&void 0!==r?r:this.name,this.shortMessage=e,this.version=fi}walk(e){return mi(this,e)}}function mi(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e&&void 0!==e.cause?mi(e.cause,t):t?null:e}function vi(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&("string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}class yi extends gi{constructor(e){let{size:t,targetSize:n,type:r}=e;super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (").concat(t,") exceeds padding size (").concat(n,")."),{name:"SizeExceedsPaddingSizeError"})}}function bi(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new yi({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return"0x".concat(r["right"===t?"padEnd":"padStart"](2*n,"0"))}(e,{dir:t,size:n}):function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;if(e.length>n)throw new yi({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s="right"===t;r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}(e,{dir:t,size:n})}class wi extends gi{constructor(e){let{max:t,min:n,signed:r,size:i,value:s}=e;super('Number "'.concat(s,'" is not in safe ').concat(i?"".concat(8*i,"-bit ").concat(r?"signed":"unsigned"," "):"","integer range ").concat(t?"(".concat(n," to ").concat(t,")"):"(above ".concat(n,")")),{name:"IntegerOutOfRangeError"})}}class Ai extends gi{constructor(e){let{givenSize:t,maxSize:n}=e;super("Size cannot exceed ".concat(n," bytes. Given size: ").concat(t," bytes."),{name:"SizeOverflowError"})}}function Ei(e){return vi(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function Si(e,t){let{size:n}=t;if(Ei(e)>n)throw new Ai({givenSize:Ei(e),maxSize:n})}function Ci(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n}=t;t.size&&Si(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2;return r<=(1n<<8n*BigInt(i)-1n)-1n?r:r-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function _i(e){return Number(Ci(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}const ki=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function xi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?Ni(e,t):"string"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ti.encode(e);return Ii(n,t)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="0x".concat(Number(e));if("number"===typeof t.size)return Si(n,{size:t.size}),bi(n,{size:t.size});return n}(e,t):Ii(e,t)}function Ii(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let i=0;i<e.length;i++)n+=ki[e[i]];const r="0x".concat(n);return"number"===typeof t.size?(Si(r,{size:t.size}),bi(r,{dir:"right",size:t.size})):r}function Ni(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"===typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"===typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"===typeof e?"n":"";throw new wi({max:s?"".concat(s).concat(t):void 0,min:"".concat(o).concat(t),signed:n,size:r,value:"".concat(e).concat(t)})}const a="0x".concat((n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16));return r?bi(a,{size:r}):a}const Ti=new TextEncoder;const Pi=new TextEncoder;function Oi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e,t){const n=Ni(e,t);return Di(n)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Uint8Array(1);if(n[0]=Number(e),"number"===typeof t.size)return Si(n,{size:t.size}),bi(n,{size:t.size});return n}(e,t):vi(e)?Di(e,t):Ui(e,t)}const Ri={zero:48,nine:57,A:65,F:70,a:97,f:102};function Mi(e){return e>=Ri.zero&&e<=Ri.nine?e-Ri.zero:e>=Ri.A&&e<=Ri.F?e-(Ri.A-10):e>=Ri.a&&e<=Ri.f?e-(Ri.a-10):void 0}function Di(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;t.size&&(Si(n,{size:t.size}),n=bi(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r="0".concat(r));const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const e=Mi(r.charCodeAt(a++)),t=Mi(r.charCodeAt(a++));if(void 0===e||void 0===t)throw new gi('Invalid byte sequence ("'.concat(r[a-2]).concat(r[a-1],'" in "').concat(r,'").'));s[o]=16*e+t}return s}function Ui(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Pi.encode(e);return"number"===typeof t.size?(Si(n,{size:t.size}),bi(n,{dir:"right",size:t.size})):n}var Li=n(9845);const Bi=BigInt(2**32-1),Fi=BigInt(32);function ji(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Bi),l:Number(e>>Fi&Bi)}:{h:0|Number(e>>Fi&Bi),l:0|Number(e&Bi)}}function zi(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=ji(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const Wi=(e,t,n)=>e<<n|t>>>32-n,Hi=(e,t,n)=>t<<n|e>>>32-n,Vi=(e,t,n)=>t<<n-32|e>>>64-n,qi=(e,t,n)=>e<<n-32|t>>>64-n;var Ki=n(1195);const Gi=[],Ji=[],Yi=[],Qi=BigInt(0),Zi=BigInt(1),Xi=BigInt(2),$i=BigInt(7),es=BigInt(256),ts=BigInt(113);for(let jb=0,zb=Zi,Wb=1,Hb=0;jb<24;jb++){[Wb,Hb]=[Hb,(2*Wb+3*Hb)%5],Gi.push(2*(5*Hb+Wb)),Ji.push((jb+1)*(jb+2)/2%64);let e=Qi;for(let t=0;t<7;t++)zb=(zb<<Zi^(zb>>$i)*ts)%es,zb&Xi&&(e^=Zi<<(Zi<<BigInt(t))-Zi);Yi.push(e)}const[ns,rs]=zi(Yi,!0),is=(e,t,n)=>n>32?Vi(e,t,n):Wi(e,t,n),ss=(e,t,n)=>n>32?qi(e,t,n):Hi(e,t,n);class os extends Ki.Vw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Li.Fe)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ki.DH)(this.state)}keccak(){Ki.qv||(0,Ki.Fc)(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=is(s,o,1)^n[t],c=ss(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Ji[n],s=is(t,i,r),o=ss(t,i,r),a=Gi[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=ns[r],e[1]^=rs[r]}n.fill(0)}(this.state32,this.rounds),Ki.qv||(0,Ki.Fc)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Li.CC)(this);const{blockLen:t,state:n}=this,r=(e=(0,Ki.ZJ)(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,Li.CC)(this,!1),(0,Li.DO)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Li.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Li.Ht)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new os(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const as=(e,t,n)=>(0,Ki.ld)((()=>new os(t,e,n))),cs=as(1,136,32);function ls(e,t){const n=t||"hex",r=cs(vi(e,{strict:!1})?Oi(e):e);return"bytes"===n?r:xi(r)}class us extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const ds=new us(8192);function hs(e,t){if(ds.has("".concat(e,".").concat(t)))return ds.get("".concat(e,".").concat(t));const n=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),r=ls(Ui(n),"bytes"),i=(t?n.substring("".concat(t,"0x").length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&r[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s="0x".concat(i.join(""));return ds.set("".concat(e,".").concat(t),s),s}function fs(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function ps(e){let{hash:t,signature:r}=e;return function(e){const t=ls("0x".concat(e.substring(4))).substring(26);return hs("0x".concat(t))}(await async function(e){let{hash:t,signature:r}=e;const i=vi(t)?t:xi(t),{secp256k1:s}=await n.e(5149).then(n.bind(n,5149)),o=(()=>{if("object"===typeof r&&"r"in r&&"s"in r){const{r:e,s:t,v:n,yParity:i}=r,o=fs(Number(null!==i&&void 0!==i?i:n));return new s.Signature(Ci(e),Ci(t)).addRecoveryBit(o)}const e=vi(r)?r:xi(r),t=fs(_i("0x".concat(e.slice(130))));return s.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})(),a=o.recoverPublicKey(i.substring(2)).toHex(!1);return"0x".concat(a)}({hash:t,signature:r}))}var gs=n(1666);function ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function vs(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=ms(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}var ys=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var d=t[i],h=0,f=o-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}};const bs=ys,ws=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class As{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class Es{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Cs(this,e)}}class Ss{constructor(e){this.decoders=e}or(e){return Cs(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const Cs=(e,t)=>new Ss((0,v.A)((0,v.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class _s{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new As(e,t,n),this.decoder=new Es(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ks=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new _s(t,n,r,i)},xs=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=bs(r,n);return ks({prefix:t,name:n,encode:i,decode:e=>ws(s(e))})},Is=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return ks({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},Ns=ks({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)}),Ts=Is({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Ps=Is({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Os=xs({prefix:"9",name:"base10",alphabet:"0123456789"}),Rs=Is({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ms=Is({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Ds=Is({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Us=Is({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ls=Is({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Bs=Is({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Fs=Is({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),js=Is({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zs=Is({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ws=Is({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hs=Is({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Vs=xs({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qs=xs({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ks=xs({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Gs=xs({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Js=Is({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ys=Is({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Qs=Is({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Zs=Is({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Xs=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),$s=Xs.reduce(((e,t,n)=>(e[n]=t,e)),[]),eo=Xs.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const to=ks({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=$s[t]),"")},decode:function(e){const t=[];for(const n of e){const e=eo[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var no=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=so;)n[r++]=255&t|ro,t/=128;for(;t&io;)n[r++]=255&t|ro,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},ro=128,io=-128,so=Math.pow(2,31);var oo=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&co)<<s:(r&co)*Math.pow(2,s),s+=7}while(r>=ao);return e.bytes=o-n,i},ao=128,co=127;var lo=Math.pow(2,7),uo=Math.pow(2,14),ho=Math.pow(2,21),fo=Math.pow(2,28),po=Math.pow(2,35),go=Math.pow(2,42),mo=Math.pow(2,49),vo=Math.pow(2,56),yo=Math.pow(2,63);const bo={encode:no,decode:oo,encodingLength:function(e){return e<lo?1:e<uo?2:e<ho?3:e<fo?4:e<po?5:e<go?6:e<mo?7:e<vo?8:e<yo?9:10}},wo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return bo.encode(e,t,n),t},Ao=e=>bo.encodingLength(e),Eo=(e,t)=>{const n=t.byteLength,r=Ao(e),i=r+Ao(n),s=new Uint8Array(i+n);return wo(e,s,0),wo(n,s,r),s.set(t,i),new So(e,n,t,s)};class So{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Co=e=>{let{name:t,code:n,encode:r}=e;return new _o(t,n,r)};class _o{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Eo(this.code,t):t.then((e=>Eo(this.code,e)))}throw Error("Unknown type, must be binary type")}}const ko=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),xo=Co({name:"sha2-256",code:18,encode:ko("SHA-256")}),Io=Co({name:"sha2-512",code:19,encode:ko("SHA-512")}),No=ws,To={code:0,name:"identity",encode:No,digest:e=>Eo(0,No(e))},Po="raw",Oo=85,Ro=e=>ws(e),Mo=e=>ws(e),Do=new TextEncoder,Uo=new TextDecoder,Lo="json",Bo=512,Fo=e=>Do.encode(JSON.stringify(e)),jo=e=>JSON.parse(Uo.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const zo=(0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)({},r),i),s),o),a),c),l),u),d),h);(0,v.A)((0,v.A)({},f),p);function Wo(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Ho=Wo("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Vo=Wo("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=ms((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),qo=(0,v.A)({utf8:Ho,"utf-8":Ho,hex:zo.base16,latin1:Vo,ascii:Vo,binary:Vo},zo);function Ko(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=qo[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}function Go(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=qo[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var Jo=n(8086);const Yo={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Qo=":";function Zo(e){const[t,n]=e.split(Qo);return{namespace:t,reference:n}}function Xo(e,t){return e.includes(":")?[e]:t.chains||[]}const $o="react-native",ea="node",ta="browser",na="unknown",ra="js";function ia(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function sa(){return!(0,di.getDocument)()&&!!(0,di.getNavigator)()&&"ReactNative"===navigator.product}function oa(){return!ia()&&!!(0,di.getNavigator)()&&!!(0,di.getDocument)()}function aa(){return sa()?$o:ia()?ea:oa()?ta:na}function ca(){var e;try{return sa()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Application)<"u"?null==(e=n.g.Application)?void 0:e.applicationId:void 0}catch(t){return}}function la(){return(0,hi.g)()||{name:"",description:"",url:"",icons:[""]}}function ua(e,t,r){const i=function(){if(aa()===$o&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=ci();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=aa();return t===ta?[t,(null==(e=(0,di.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[ra,r].join("-"),i,s].join("/")}function da(e){let{protocol:t,version:n,relayUrl:r,sdkVersion:i,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c,packageName:l}=e;const u=r.split("?"),d={auth:s,ua:ua(t,n,i),projectId:o,useOnCloseEvent:a||void 0,packageName:l||void 0,bundleId:c||void 0},h=function(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const e=t[r];void 0!==e&&n.set(r,e)}return n.toString()}(u[1]||"",d);return u[0]+"?"+h}function ha(e,t){return e.filter((e=>t.includes(e))).length===e.length}function fa(e){return Object.fromEntries(e.entries())}function pa(e){return new Map(Object.entries(e))}function ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const n=(0,w.toMiliseconds)(e||w.FIVE_MINUTES);let r,i,s,o;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise(((e,a)=>{if(o)return e(o);s=setTimeout((()=>{const e=new Error(t);o=Promise.reject(e),a(e)}),n),r=e,i=a}))}}function ma(e,t,n){return new Promise((async(r,i)=>{const s=setTimeout((()=>i(new Error(n))),t);try{r(await e)}catch(Ae){i(Ae)}clearTimeout(s)}))}function va(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function ya(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(t,":").concat(n));r.id=Number(n)}return r}function ba(e,t){return(0,w.fromMiliseconds)((t||Date.now())+(0,w.toMiliseconds)(e))}function wa(e){return Date.now()>=(0,w.toMiliseconds)(e)}function Aa(e,t){return"".concat(e).concat(t?":".concat(t):"")}function Ea(){return[...new Set([...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])]}async function Sa(e){let{id:t,topic:r,wcDeepLink:i}=e;var s;try{if(!i)return;const e="string"==typeof i?JSON.parse(i):i,o=null===e||void 0===e?void 0:e.href;if("string"!=typeof o)return;const a=function(e,t,n){const r="requestId=".concat(t,"&sessionTopic=").concat(n);e.endsWith("/")&&(e=e.slice(0,-1));let i="".concat(e);if(e.startsWith("https://t.me")){const t=e.includes("?")?"&startapp=":"?startapp=";i="".concat(i).concat(t).concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0))}else i="".concat(i,"/wc?").concat(r);return i}(o,t,r),c=aa();if(c===ta){if(null==(s=(0,di.getDocument)())||!s.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch(e){return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(a)}else c===$o&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(a)}catch(o){console.error(o)}}function Ca(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function _a(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function ka(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/add-product-page-paymyemail",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.IS_VITEST}function xa(e){return Buffer.from(e,"base64").toString("utf-8")}function Ia(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Na(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function Ta(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ia(e.outputLen),Ia(e.blockLen)}function Pa(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Oa(e,t){Na(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ra=BigInt(2**32-1),Ma=BigInt(32);function Da(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Ra),l:Number(e>>Ma&Ra)}:{h:0|Number(e>>Ma&Ra),l:0|Number(e&Ra)}}const Ua="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function La(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ba(e,t){return e<<32-t|e>>>t}const Fa=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function ja(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function za(e){for(let t=0;t<e.length;t++)e[t]=ja(e[t])}function Wa(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Na(e),e}class Ha{clone(){return this._cloneInto()}}function Va(e){const t=t=>e().update(Wa(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Ua&&"function"==typeof Ua.getRandomValues)return Ua.getRandomValues(new Uint8Array(e));if(Ua&&"function"==typeof Ua.randomBytes)return Ua.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Ka=[],Ga=[],Ja=[],Ya=BigInt(0),Qa=BigInt(1),Za=BigInt(2),Xa=BigInt(7),$a=BigInt(256),ec=BigInt(113);for(let jb=0,zb=Qa,Wb=1,Hb=0;jb<24;jb++){[Wb,Hb]=[Hb,(2*Wb+3*Hb)%5],Ka.push(2*(5*Hb+Wb)),Ga.push((jb+1)*(jb+2)/2%64);let e=Ya;for(let t=0;t<7;t++)zb=(zb<<Qa^(zb>>Xa)*ec)%$a,zb&Za&&(e^=Qa<<(Qa<<BigInt(t))-Qa);Ja.push(e)}const[tc,nc]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Da(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}(Ja,!0),rc=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),ic=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class sc extends Ha{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ia(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}keccak(){Fa||za(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=rc(s,o,1)^n[t],c=ic(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Ga[n],s=rc(t,i,r),o=ic(t,i,r),a=Ka[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=tc[r],e[1]^=nc[r]}n.fill(0)}(this.state32,this.rounds),Fa||za(this.state32),this.posOut=0,this.pos=0}update(e){Pa(this);const{blockLen:t,state:n}=this,r=(e=Wa(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Pa(this,!1),Na(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ia(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Oa(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new sc(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const oc=((e,t,n)=>Va((()=>new sc(t,e,n))))(1,136,32),ac="https://rpc.walletconnect.org/v1";function cc(e){const t="\x19Ethereum Signed Message:\n".concat(e.length),n=(new TextEncoder).encode(t+e);return"0x"+Buffer.from(oc(n)).toString("hex")}async function lc(e,t,n,r,i,s){switch(n.t){case"eip191":return await async function(e,t,n){return(await ps({hash:cc(t),signature:n})).toLowerCase()===e.toLowerCase()}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,s){const o=Zo(r);if(!o.namespace||!o.reference)throw new Error("isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ".concat(r));try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c="0000000000000000000000000000000000000000000000000000000000000041",l=n.substring(2),u=o+cc(t).substring(2)+a+c+l,d=await fetch("".concat(s||ac,"/?chainId=").concat(r,"&projectId=").concat(i),{method:"POST",body:JSON.stringify({id:uc(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:h}=await d.json();return!!h&&h.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch($){return console.error("isValidEip1271Signature: ",$),!1}}(e,t,n.s,r,i,s);default:throw new Error("verifySignature failed: Attempted to verify CacaoSignature with unknown type: ".concat(n.t))}}function uc(){return Date.now()+Math.floor(1e3*Math.random())}var dc=Object.defineProperty,hc=Object.defineProperties,fc=Object.getOwnPropertyDescriptors,pc=Object.getOwnPropertySymbols,gc=Object.prototype.hasOwnProperty,mc=Object.prototype.propertyIsEnumerable,vc=(e,t,n)=>t in e?dc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yc=(e,t)=>{for(var n in t||(t={}))gc.call(t,n)&&vc(e,n,t[n]);if(pc)for(var n of pc(t))mc.call(t,n)&&vc(e,n,t[n]);return e},bc=(e,t)=>hc(e,fc(t));const wc=e=>null===e||void 0===e?void 0:e.split(":"),Ac=e=>{const t=e&&wc(e);if(t)return t[2]+":"+t[3]},Ec=e=>{const t=e&&wc(e);if(t)return t.pop()};async function Sc(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=Cc(i,i.iss),o=Ec(i.iss);return await lc(o,s,r,Ac(i.iss),n)}const Cc=(e,t)=>{const n="".concat(e.domain," wants you to sign in with your Ethereum account:"),r=Ec(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s="URI: ".concat(e.aud||e.uri),o="Version: ".concat(e.version),a="Chain ID: ".concat((e=>{const t=e&&wc(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)),c="Nonce: ".concat(e.nonce),l="Issued At: ".concat(e.iat),u=e.exp?"Expiration Time: ".concat(e.exp):void 0,d=e.nbf?"Not Before: ".concat(e.nbf):void 0,h=e.requestId?"Request ID: ".concat(e.requestId):void 0,f=e.resources?"Resources:".concat(e.resources.map((e=>"\n- ".concat(e))).join("")):void 0,p=Dc(e.resources);if(p){i=Oc(i,Ic(p))}return[n,r,"",i,"",s,o,a,c,l,u,d,h,f].filter((e=>null!=e)).join("\n")};function _c(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach((t=>{const n=e.att[t];if(Array.isArray(n))throw new Error("Resource must be an object: ".concat(t));if("object"!=typeof n)throw new Error("Resource must be an object: ".concat(t));if(!Object.keys(n).length)throw new Error("Resource object is empty: ".concat(t));Object.keys(n).forEach((e=>{const t=n[e];if(!Array.isArray(t))throw new Error("Ability limits ".concat(e," must be an array of objects, found: ").concat(t));if(!t.length)throw new Error("Value of ".concat(e," is empty array, must be an array with objects"));t.forEach((t=>{if("object"!=typeof t)throw new Error("Ability limits (".concat(e,") must be an array of objects, found: ").concat(t))}))}))}))}function kc(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=null===(n=t)||void 0===n?void 0:n.sort(((e,t)=>e.localeCompare(t)));const i=t.map((t=>({["".concat(e,"/").concat(t)]:[r]})));return Object.assign({},...i)}function xc(e){return _c(e),"urn:recap:".concat(function(e){return Buffer.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,""))}function Ic(e){const t=function(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return _c(t),t}function Nc(e,t,n){const r=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==n&&void 0!==n&&n.sort(((e,t)=>e.localeCompare(t))),{att:{[e]:kc(t,n,r)}}}(e,t,n);return xc(r)}function Tc(e){return e&&e.includes("urn:recap:")}function Pc(e,t){const n=function(e,t){_c(e),_c(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort(((e,t)=>e.localeCompare(t))),r={att:{}};return n.forEach((n=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[n])||{})).sort(((e,t)=>e.localeCompare(t))).forEach((i=>{var s,o;r.att[n]=bc(yc({},r.att[n]),{[i]:(null==(s=e.att[n])?void 0:s[i])||(null==(o=t.att[n])?void 0:o[i])})}))})),r}(Ic(e),Ic(t));return xc(n)}function Oc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;_c(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach((e=>{const n=Object.keys(t.att[e]).map((e=>({ability:e.split("/")[0],action:e.split("/")[1]})));n.sort(((e,t)=>e.action.localeCompare(t.action)));const s={};n.forEach((e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)}));const o=Object.keys(s).map((t=>(i++,"(".concat(i,") '").concat(t,"': '").concat(s[t].join("', '"),"' for '").concat(e,"'."))));r.push(o.join(", ").replace(".,","."))}));const s=r.join(" "),o="".concat(n).concat(s);return"".concat(e?e+" ":"").concat(o)}function Rc(e){var t;const n=Ic(e);_c(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map((e=>e.split("/")[1])):[]}function Mc(e){const t=Ic(e);_c(t);const n=[];return Object.values(t.att).forEach((e=>{Object.values(e).forEach((e=>{var t;null!=(t=null===e||void 0===e?void 0:e[0])&&t.chains&&n.push(e[0].chains)}))})),[...new Set(n.flat())]}function Dc(e){if(!e)return;const t=null===e||void 0===e?void 0:e[e.length-1];return Tc(t)?t:void 0}function Uc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Lc(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Bc(e){if(!Lc(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function Fc(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function jc(e){if("boolean"!=typeof e)throw new Error("boolean expected, not ".concat(e))}const zc=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Wc(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Lc(e))throw new Error("Uint8Array expected, got "+typeof e);e=qc(e)}return e}function Hc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4===0}(t))throw new Error("invalid output, must be aligned");return t}function Vc(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function qc(e){return Uint8Array.from(e)}function Kc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}const Gc=e=>Uint8Array.from(e.split("").map((e=>e.charCodeAt(0)))),Jc=Gc("expand 16-byte k"),Yc=Gc("expand 32-byte k"),Qc=zc(Jc),Zc=zc(Yc);function Xc(e,t){return e<<t|e>>>32-t}function $c(e){return e.byteOffset%4===0}const el=2**32-1,tl=new Uint32Array;const nl=(e,t)=>255&e[t++]|(255&e[t++])<<8;class rl{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Bc(e=Wc(e),32);const t=nl(e,0),n=nl(e,2),r=nl(e,4),i=nl(e,6),s=nl(e,8),o=nl(e,10),a=nl(e,12),c=nl(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let l=0;l<8;l++)this.pad[l]=nl(e,16+2*l)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],g=nl(e,t+0),m=nl(e,t+2),v=nl(e,t+4),y=nl(e,t+6),b=nl(e,t+8),w=nl(e,t+10),A=nl(e,t+12),E=nl(e,t+14);let S=r[0]+(8191&g),C=r[1]+(8191&(g>>>13|m<<3)),_=r[2]+(8191&(m>>>10|v<<6)),k=r[3]+(8191&(v>>>7|y<<9)),x=r[4]+(8191&(y>>>4|b<<12)),I=r[5]+(b>>>1&8191),N=r[6]+(8191&(b>>>14|w<<2)),T=r[7]+(8191&(w>>>11|A<<5)),P=r[8]+(8191&(A>>>8|E<<8)),O=r[9]+(E>>>5|n),R=0,M=R+S*s+C*(5*p)+_*(5*f)+k*(5*h)+x*(5*d);R=M>>>13,M&=8191,M+=I*(5*u)+N*(5*l)+T*(5*c)+P*(5*a)+O*(5*o),R+=M>>>13,M&=8191;let D=R+S*o+C*s+_*(5*p)+k*(5*f)+x*(5*h);R=D>>>13,D&=8191,D+=I*(5*d)+N*(5*u)+T*(5*l)+P*(5*c)+O*(5*a),R+=D>>>13,D&=8191;let U=R+S*a+C*o+_*s+k*(5*p)+x*(5*f);R=U>>>13,U&=8191,U+=I*(5*h)+N*(5*d)+T*(5*u)+P*(5*l)+O*(5*c),R+=U>>>13,U&=8191;let L=R+S*c+C*a+_*o+k*s+x*(5*p);R=L>>>13,L&=8191,L+=I*(5*f)+N*(5*h)+T*(5*d)+P*(5*u)+O*(5*l),R+=L>>>13,L&=8191;let B=R+S*l+C*c+_*a+k*o+x*s;R=B>>>13,B&=8191,B+=I*(5*p)+N*(5*f)+T*(5*h)+P*(5*d)+O*(5*u),R+=B>>>13,B&=8191;let F=R+S*u+C*l+_*c+k*a+x*o;R=F>>>13,F&=8191,F+=I*s+N*(5*p)+T*(5*f)+P*(5*h)+O*(5*d),R+=F>>>13,F&=8191;let j=R+S*d+C*u+_*l+k*c+x*a;R=j>>>13,j&=8191,j+=I*o+N*s+T*(5*p)+P*(5*f)+O*(5*h),R+=j>>>13,j&=8191;let z=R+S*h+C*d+_*u+k*l+x*c;R=z>>>13,z&=8191,z+=I*a+N*o+T*s+P*(5*p)+O*(5*f),R+=z>>>13,z&=8191;let W=R+S*f+C*h+_*d+k*u+x*l;R=W>>>13,W&=8191,W+=I*c+N*a+T*o+P*s+O*(5*p),R+=W>>>13,W&=8191;let H=R+S*p+C*f+_*h+k*d+x*u;R=H>>>13,H&=8191,H+=I*l+N*c+T*a+P*o+O*s,R+=H>>>13,H&=8191,R=(R<<2)+R|0,R=R+M|0,M=8191&R,R>>>=13,D+=R,r[0]=M,r[1]=D,r[2]=U,r[3]=L,r[4]=B,r[5]=F,r[6]=j,r[7]=z,r[8]=W,r[9]=H}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=r,r=e[o]>>>13,e[o]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+r,r=n[o]>>>13,n[o]&=8191;n[9]-=8192;let i=(1^r)-1;for(let o=0;o<10;o++)n[o]&=i;i=~i;for(let o=0;o<10;o++)e[o]=e[o]&i|n[o];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let o=1;o<8;o++)s=(e[o]+t[o]|0)+(s>>>16)|0,e[o]=65535&s;Kc(n)}update(e){Fc(this);const{buffer:t,blockLen:n}=this,r=(e=Wc(e)).length;for(let i=0;i<r;){const s=Math.min(n-this.pos,r-i);if(s!==n)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){Kc(this.h,this.r,this.buffer,this.pad)}digestInto(e){Fc(this),function(e,t){Bc(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const il=function(e){const t=(t,n)=>e(n).update(Wc(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new rl(e)));const sl=function(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return Uc(i),Uc(o),jc(s),jc(n),function(t,a,c,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Bc(t),Bc(a),Bc(c);const d=c.length;if(void 0===l&&(l=new Uint8Array(d)),Bc(l),Uc(u),u<0||u>=el)throw new Error("arx: counter overflow");if(l.length<d)throw new Error("arx: output (".concat(l.length,") is shorter than data (").concat(d,")"));const h=[];let f,p,g=t.length;if(32===g)h.push(f=qc(t)),p=Zc;else{if(16!==g||!n)throw new Error("arx: invalid 32-byte key, got length=".concat(g));f=new Uint8Array(32),f.set(t),f.set(t,16),p=Qc,h.push(f)}$c(a)||h.push(a=qc(a));const m=zc(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,m,zc(a.subarray(0,16)),m),a=a.subarray(16)}const v=16-i;if(v!==a.length)throw new Error("arx: nonce must be ".concat(v," or 16 bytes"));if(12!==v){const e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,h.push(a)}const y=zc(a);return function(e,t,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(64),u=zc(l),d=$c(i)&&$c(s),h=d?zc(i):tl,f=d?zc(s):tl;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=el)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(d&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^u[n];p+=64}else{for(let e,t=0;t<g;t++)e=p+t,s[e]=i[e]^l[t];p+=g}}}(e,p,m,y,c,l,u,o),Kc(...h),l}}((function(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],g=t[5],m=t[6],v=t[7],y=i,b=n[0],w=n[1],A=n[2],E=o,S=a,C=c,_=l,k=u,x=d,I=h,N=f,T=p,P=g,O=m,R=v,M=y,D=b,U=w,L=A;for(let F=0;F<s;F+=2)E=E+k|0,M=Xc(M^E,16),T=T+M|0,k=Xc(k^T,12),E=E+k|0,M=Xc(M^E,8),T=T+M|0,k=Xc(k^T,7),S=S+x|0,D=Xc(D^S,16),P=P+D|0,x=Xc(x^P,12),S=S+x|0,D=Xc(D^S,8),P=P+D|0,x=Xc(x^P,7),C=C+I|0,U=Xc(U^C,16),O=O+U|0,I=Xc(I^O,12),C=C+I|0,U=Xc(U^C,8),O=O+U|0,I=Xc(I^O,7),_=_+N|0,L=Xc(L^_,16),R=R+L|0,N=Xc(N^R,12),_=_+N|0,L=Xc(L^_,8),R=R+L|0,N=Xc(N^R,7),E=E+x|0,L=Xc(L^E,16),O=O+L|0,x=Xc(x^O,12),E=E+x|0,L=Xc(L^E,8),O=O+L|0,x=Xc(x^O,7),S=S+I|0,M=Xc(M^S,16),R=R+M|0,I=Xc(I^R,12),S=S+I|0,M=Xc(M^S,8),R=R+M|0,I=Xc(I^R,7),C=C+N|0,D=Xc(D^C,16),T=T+D|0,N=Xc(N^T,12),C=C+N|0,D=Xc(D^C,8),T=T+D|0,N=Xc(N^T,7),_=_+k|0,U=Xc(U^_,16),P=P+U|0,k=Xc(k^P,12),_=_+k|0,U=Xc(U^_,8),P=P+U|0,k=Xc(k^P,7);let B=0;r[B++]=o+E|0,r[B++]=a+S|0,r[B++]=c+C|0,r[B++]=l+_|0,r[B++]=u+k|0,r[B++]=d+x|0,r[B++]=h+I|0,r[B++]=f+N|0,r[B++]=p+T|0,r[B++]=g+P|0,r[B++]=m+O|0,r[B++]=v+R|0,r[B++]=y+M|0,r[B++]=b+D|0,r[B++]=w+U|0,r[B++]=A+L|0}),{counterRight:!1,counterLength:4,allowShortKeys:!1}),ol=new Uint8Array(16),al=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(ol.subarray(n))},cl=new Uint8Array(32);function ll(e,t,n,r,i){const s=e(t,n,cl),o=il.create(s);i&&al(o,i),al(o,r);const a=new Uint8Array(16),c=(e=>new DataView(e.buffer,e.byteOffset,e.byteLength))(a);Vc(c,0,BigInt(i?i.length:0),!0),Vc(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return Kc(s,a),l}const ul=((e,t)=>{function n(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(Bc(n),void 0!==e.nonceLength){const t=i[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?Bc(t):Bc(t,e.nonceLength)}const o=e.tagLength;o&&void 0!==i[1]&&Bc(i[1]);const a=t(n,...i),c=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");Bc(t)}};let l=!1;return{encrypt(e,t){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Bc(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(Bc(e),o&&e.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,n,r)=>({encrypt(i,s){const o=i.length;(s=Hc(o+16,s,!1)).set(i);const a=s.subarray(0,-16);e(t,n,a,a,1);const c=ll(e,t,n,a,r);return s.set(c,o),Kc(c),s},decrypt(i,s){s=Hc(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=ll(e,t,n,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,n,s,s,1),Kc(c),s}}))(sl));class dl extends Ha{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ta(e);const n=Wa(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Pa(this),this.iHash.update(e),this}digestInto(e){Pa(this),Na(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hl=(e,t,n)=>new dl(e,t).update(n).digest();hl.create=(e,t)=>new dl(e,t);const fl=new Uint8Array([0]),pl=new Uint8Array;const gl=(e,t,n,r,i)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(Ta(e),Ia(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=pl);const s=new Uint8Array(i*e.outputLen),o=hl.create(e,t),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)fl[0]=l+1,a.update(0===l?pl:c).update(n).update(fl).digestInto(c),s.set(c,e.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),fl.fill(0),s.slice(0,r)}(e,function(e,t,n){return Ta(e),void 0===n&&(n=new Uint8Array(e.outputLen)),hl(e,Wa(n),Wa(t))}(e,t,n),r,i);function ml(e,t,n){return e&t^~e&n}function vl(e,t,n){return e&t^e&n^t&n}class yl extends Ha{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=La(this.buffer)}update(e){Pa(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Wa(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=La(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pa(this),Oa(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=La(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const bl=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Al=new Uint32Array(64);class El extends yl{constructor(){super(64,32,8,!1),this.A=0|wl[0],this.B=0|wl[1],this.C=0|wl[2],this.D=0|wl[3],this.E=0|wl[4],this.F=0|wl[5],this.G=0|wl[6],this.H=0|wl[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)Al[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Al[u-15],t=Al[u-2],n=Ba(e,7)^Ba(e,18)^e>>>3,r=Ba(t,17)^Ba(t,19)^t>>>10;Al[u]=r+Al[u-7]+n+Al[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(Ba(o,6)^Ba(o,11)^Ba(o,25))+ml(o,a,c)+bl[u]+Al[u]|0,t=(Ba(n,2)^Ba(n,13)^Ba(n,22))+vl(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){Al.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Sl=Va((()=>new El)),Cl=BigInt(0);function _l(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function kl(e){if(!_l(e))throw new Error("Uint8Array expected")}const xl=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const Il=48,Nl=57,Tl=65,Pl=70,Ol=97,Rl=102;function Ml(e){return e>=Il&&e<=Nl?e-Il:e>=Tl&&e<=Pl?e-(Tl-10):e>=Ol&&e<=Rl?e-(Ol-10):void 0}function Dl(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=Ml(e.charCodeAt(s)),n=Ml(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Ul(e){return kl(e),function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Cl:BigInt("0x"+e)}(function(e){kl(e);let t="";for(let n=0;n<e.length;n++)t+=xl[e[n]];return t}(Uint8Array.from(e).reverse()))}function Ll(e,t){return function(e,t){return Dl(e.toString(16).padStart(2*t,"0"))}(e,t).reverse()}function Bl(e,t,n){let r;if("string"==typeof t)try{r=Dl(t)}catch(S){throw new Error(e+" must be hex string or Uint8Array, cause: "+S)}else{if(!_l(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const Fl=e=>"bigint"==typeof e&&Cl<=e;function jl(e,t,n,r){if(!function(e,t,n){return Fl(e)&&Fl(t)&&Fl(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const zl={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||_l(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};const Wl=BigInt(0),Hl=BigInt(1);function Vl(e,t){const n=e%t;return n>=Wl?n:t+n}function ql(e,t,n){let r=e;for(;t-- >Wl;)r*=r,r%=n;return r}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Kl=BigInt(0),Gl=BigInt(1);function Jl(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=zl[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0)}(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze((0,v.A)({},e))}const Yl=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const Ql=BigInt(1),Zl=BigInt(2),Xl=BigInt(3),$l=BigInt(5);BigInt(8);const eu=function(e){const t=Jl(e),{P:n}=t,r=e=>Vl(e,n),i=t.montgomeryBits,s=Math.ceil(i/8),o=t.nByteLength,a=t.adjustScalarBytes||(e=>e),c=t.powPminus2||(e=>function(e,t,n){if(t<Wl)throw new Error("invalid exponent, negatives unsupported");if(n<=Wl)throw new Error("invalid modulus");if(n===Hl)return Wl;let r=Hl;for(;t>Wl;)t&Hl&&(r=r*e%n),e=e*e%n,t>>=Hl;return r}(e,n-BigInt(2),n));function l(e,t,n){const i=r(e*(t-n));return[t=r(t-i),n=r(n+i)]}const u=(t.a-BigInt(2))/BigInt(4);function d(e){return Ll(r(e),s)}function h(e,t){const h=function(e){const t=Bl("u coordinate",e,s);return 32===o&&(t[31]&=127),Ul(t)}(t),f=function(e){const t=Bl("scalar",e),n=t.length;if(n!==s&&n!==o)throw new Error("invalid scalar, expected "+s+" or "+o+" bytes, got "+n);return Ul(a(t))}(e),p=function(e,t){jl("u",e,Kl,n),jl("scalar",t,Kl,n);const s=t,o=e;let a,d=Gl,h=Kl,f=e,p=Gl,g=Kl;for(let n=BigInt(i-1);n>=Kl;n--){const e=s>>n&Gl;g^=e,a=l(g,d,f),d=a[0],f=a[1],a=l(g,h,p),h=a[0],p=a[1],g=e;const t=d+h,i=r(t*t),c=d-h,m=r(c*c),v=i-m,y=f+p,b=r((f-p)*t),w=r(y*c),A=b+w,E=b-w;f=r(A*A),p=r(o*r(E*E)),d=r(i*m),h=r(v*(i+r(u*v)))}a=l(g,d,f),d=a[0],f=a[1],a=l(g,h,p),h=a[0],p=a[1];const m=c(h);return r(d*m)}(h,f);if(p===Kl)throw new Error("invalid private or public key received");return d(p)}const f=d(t.Gu);function p(e){return h(e,f)}return{scalarMult:h,scalarMultBase:p,getSharedSecret:(e,t)=>h(e,t),getPublicKey:e=>p(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:f}}({P:Yl,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=Yl,{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Yl,o=e*e%s*e%s,a=ql(o,Zl,s)*o%s,c=ql(a,Ql,s)*e%s,l=ql(c,$l,s)*c%s,u=ql(l,t,s)*l%s,d=ql(u,n,s)*u%s,h=ql(d,r,s)*d%s,f=ql(h,i,s)*h%s,p=ql(f,i,s)*h%s,g=ql(p,t,s)*l%s;return{pow_p_5_8:ql(g,Zl,s)*e%s,b2:o}}(e);return Vl(ql(n,Xl,t)*r,t)},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},randomBytes:qa}),tu="base10",nu="base16",ru="base64pad",iu="base64url",su="utf8";function ou(){return Go(qa(32),nu)}function au(e){return Go(Sl(Ko(e,nu)),nu)}function cu(e){return Go(Sl(Ko(e,su)),nu)}function lu(e){return Ko("".concat(e),tu)}function uu(e){return Number(Go(e,tu))}function du(e){const{encoding:t=ru}=e;if(2===uu(e.type))return Go(vs([e.type,e.sealed]),t);if(1===uu(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Go(vs([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return Go(vs([e.type,e.iv,e.sealed]),t)}function hu(e){const{encoded:t,encoding:n=ru}=e,r=Ko(t,n),i=r.slice(0,1);if(1===uu(i)){const e=33,t=e+12,n=r.slice(1,e),s=r.slice(e,t);return{type:i,sealed:r.slice(t),iv:s,senderPublicKey:n}}if(2===uu(i)){return{type:i,sealed:r.slice(1),iv:qa(12)}}const s=r.slice(1,13);return{type:i,sealed:r.slice(13),iv:s}}function fu(e){const t=(null===e||void 0===e?void 0:e.type)||0;if(1===t){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function pu(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function gu(e){return 2===e.type}function mu(e,t){const[n,r,i]=e.split("."),s=function(e){return Buffer.from(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n>0&&(t+="=".repeat(4-n)),t}(e),"base64")}(i);if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c="".concat(n,".").concat(r),l=Sl(c),u=function(e){return new Jo.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}(t),d=Go(l,nu);if(!u.verify(d,{r:o,s:a}))throw new Error("Invalid signature");return Qr(e).payload}function vu(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:"irn"}}function yu(e){const t=Yo[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}function bu(e){const t={},n="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach((r=>{if(r.startsWith(n)){const i=r.replace(n,""),s=e[r];t[i]=s}})),t}function wu(e){if(!e.includes("wc:")){const t=xa(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a={};o.forEach(((e,t)=>{a[t]=e}));const c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:Au(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:bu(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Au(e){return e.startsWith("//")?e.substring(2):e}function Eu(e){const t=new URLSearchParams,n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const n={};return Object.keys(e).forEach((r=>{const i=r,s="relay"+t+i;e[i]&&(n[s]=e[i])})),n}(e.relay);Object.keys(n).sort().forEach((e=>{t.set(e,n[e])})),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?").concat(r)}function Su(e,t,n){return"".concat(e,"?wc_ev=").concat(n,"&topic=").concat(t)}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function Cu(e){const t=[];return e.forEach((e=>{const[n,r]=e.split(":");t.push("".concat(n,":").concat(r))})),t}function _u(e){return e.includes(":")}function ku(e){return _u(e)?e.split(":")[0]:e}function xu(e,t){t=t.map((e=>e.replace("did:pkh:","")));const n=function(e){const t={};return null!==e&&void 0!==e&&e.forEach((e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push("".concat(r,":").concat(i))})),t}(t);for(const[r,i]of Object.entries(n))i.methods?i.methods=Ea(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}const Iu={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Nu={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Tu(e,t){const{message:n,code:r}=Nu[e];return{message:t?"".concat(n," ").concat(t):n,code:r}}function Pu(e,t){const{message:n,code:r}=Iu[e];return{message:t?"".concat(n," ").concat(t):n,code:r}}function Ou(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function Ru(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Mu(e){return typeof e>"u"}function Du(e,t){return!(!t||!Mu(e))||"string"==typeof e&&!!e.trim().length}function Uu(e,t){return!(!t||!Mu(e))||"number"==typeof e&&!isNaN(e)}function Lu(e){return!(!Du(e,!1)||!e.includes(":"))&&2===e.split(":").length}function Bu(e){let t=!0;return Ou(e)?e.length&&(t=e.every((e=>Du(e,!1)))):t=!1,t}function Fu(e,t,n){let r=null;return Object.entries(e).forEach((e=>{let[i,s]=e;if(r)return;const o=function(e,t,n){let r=null;return Ou(t)&&t.length?t.forEach((e=>{r||Lu(e)||(r=Pu("UNSUPPORTED_CHAINS","".concat(n,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))})):Lu(e)||(r=Pu("UNSUPPORTED_CHAINS","".concat(n,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),r}(i,Xo(i,s),"".concat(t," ").concat(n));o&&(r=o)})),r}function ju(e,t){let n=null;return Ou(e)?e.forEach((e=>{n||function(e){if(Du(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&Lu(e)}}return!1}(e)||(n=Pu("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))})):n=Pu("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),n}function zu(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=function(e,t){let n=null;return Bu(null===e||void 0===e?void 0:e.methods)?Bu(null===e||void 0===e?void 0:e.events)||(n=Pu("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):n=Pu("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),n}(e,"".concat(t,", namespace"));r&&(n=r)})),n}function Wu(e,t){let n=null;if(e&&Ru(e)){const r=zu(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=ju(null===e||void 0===e?void 0:e.accounts,"".concat(t," namespace"));r&&(n=r)})),n}(e,t);i&&(n=i)}else n=Tu("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return n}function Hu(e){return Du(e.protocol,!0)}function Vu(e){return typeof e<"u"&&null!==typeof e}function qu(e,t){return!(!Lu(t)||!function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...Cu(e.accounts))})),t}(e).includes(t))}function Ku(e,t,n){return!!Du(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{Cu(e.accounts).includes(t)&&n.push(...e.methods)})),n}(e,t).includes(n)}function Gu(e,t,n){return!!Du(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{Cu(e.accounts).includes(t)&&n.push(...e.events)})),n}(e,t).includes(n)}function Ju(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach((n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((r=>{t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),s=function(e){const t={};return Object.keys(e).forEach((n=>{if(n.includes(":"))t[n]=e[n];else{const r=Cu(e[n].accounts);null===r||void 0===r||r.forEach((r=>{t[r]={accounts:e[n].accounts.filter((e=>e.includes("".concat(r,":")))),methods:e[n].methods,events:e[n].events}}))}})),t}(t),o=Object.keys(i),a=Object.keys(s),c=Yu(Object.keys(e)),l=Yu(Object.keys(t)),u=c.filter((e=>!l.includes(e)));return u.length&&(r=Tu("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(u.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),ha(o,a)||(r=Tu("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(o.toString(),"\n      Approved: ").concat(a.toString()))),Object.keys(t).forEach((e=>{if(!e.includes(":")||r)return;const i=Cu(t[e].accounts);i.includes(e)||(r=Tu("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(i.toString())))})),o.forEach((e=>{r||(ha(i[e].methods,s[e].methods)?ha(i[e].events,s[e].events)||(r=Tu("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(e))):r=Tu("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(e)))})),r}function Yu(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function Qu(){const e=aa();return new Promise((t=>{switch(e){case ta:t(function(){var e;return oa()&&(null===(e=navigator)||void 0===e?void 0:e.onLine)}());break;case $o:t(async function(){if(sa()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return null===e||void 0===e?void 0:e.isConnected}return!0}());break;default:t(!0)}}))}function Zu(e){switch(aa()){case ta:!function(e){!sa()&&oa()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case $o:!function(e){var t;sa()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&(null===(t=n.g)||void 0===t||t.NetInfo.addEventListener((t=>e(null===t||void 0===t?void 0:t.isConnected))))}(e)}}const Xu={};class $u{static get(e){return Xu[e]}static set(e,t){Xu[e]=t}static delete(e){delete Xu[e]}}const ed="PARSE_ERROR",td="INVALID_REQUEST",nd="METHOD_NOT_FOUND",rd="INVALID_PARAMS",id="INTERNAL_ERROR",sd="SERVER_ERROR",od=[-32700,-32600,-32601,-32602,-32603],ad={[ed]:{code:-32700,message:"Parse error"},[td]:{code:-32600,message:"Invalid Request"},[nd]:{code:-32601,message:"Method not found"},[rd]:{code:-32602,message:"Invalid params"},[id]:{code:-32603,message:"Internal error"},[sd]:{code:-32e3,message:"Server error"}},cd=sd;function ld(e){return od.includes(e)}function ud(e){return Object.keys(ad).includes(e)?ad[e]:ad[cd]}function dd(e){const t=Object.values(ad).find((t=>t.code===e));return t||ad[cd]}function hd(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(n," RPC url at ").concat(t)):e}var fd=n(8129);function pd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function gd(){return BigInt(pd(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function md(e,t,n){return{id:n||pd(),jsonrpc:"2.0",method:e,params:t}}function vd(e,t){return{id:e,jsonrpc:"2.0",result:t}}function yd(e,t,n){return{id:e,jsonrpc:"2.0",error:bd(t,n)}}function bd(e,t){return"undefined"===typeof e?ud(id):("string"===typeof e&&(e=Object.assign(Object.assign({},ud(sd)),{message:e})),"undefined"!==typeof t&&(e.data=t),ld(e.code)&&(e=dd(e.code)),e)}class wd{}class Ad extends wd{constructor(){super()}}class Ed extends Ad{constructor(e){super()}}function Sd(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return"undefined"!==typeof n&&new RegExp(t).test(n)}function Cd(e){return Sd(e,"^https?:")}function _d(e){return Sd(e,"^wss?:")}function kd(e){return"object"===typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function xd(e){return kd(e)&&"method"in e}function Id(e){return kd(e)&&(Nd(e)||Td(e))}function Nd(e){return"result"in e}function Td(e){return"error"in e}class Pd extends Ed{constructor(e){super(e),this.events=new y.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(md(e.method,e.params||[],e.id||gd().toString()),t)}async requestStrict(e,t){return new Promise((async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(E){r(E)}this.events.on("".concat(e.id),(e=>{Td(e)?r(e.error):n(e.result)}));try{await this.connection.send(e,t)}catch(E){r(E)}}))}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),Id(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const Od=e=>e.split("?")[0],Rd=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(1198);class Md{constructor(e){if(this.url=e,this.events=new y.EventEmitter,this.registering=!1,!_d(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,Y.h)(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!_d(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,r)=>{const i=(0,fd.isReactNative)()?void 0:{rejectUnauthorized:(o=e,!new RegExp("wss?://localhost(:d{2,5})?").test(o))},s=new Rd(e,[],i);var o;typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?s.onerror=e=>{const t=e;r(this.emitError(t.error))}:s.on("error",(e=>{r(this.emitError(e))})),s.onopen=()=>{this.onOpen(s),t(s)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,Y.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=yd(e,n.message||n.toString());this.events.emit("payload",r)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return hd(e,Od(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null===e||void 0===e?void 0:e.message)||"WebSocket connection failed for host: ".concat(Od(this.url))));return this.events.emit("register_error",t),t}}const Dd="core",Ud="".concat("wc","@2:").concat(Dd,":"),Ld="error",Bd={database:":memory:"},Fd="client_ed25519_seed",jd=w.ONE_DAY,zd=w.SIX_HOURS,Wd="wss://relay.walletconnect.org",Hd="relayer_message",Vd="relayer_message_ack",qd="relayer_connect",Kd="relayer_disconnect",Gd="relayer_error",Jd="relayer_connection_stalled",Yd="relayer_publish",Qd="payload",Zd="connect",Xd="disconnect",$d="error",eh="2.19.1",th={link_mode:"link_mode",relay:"relay"},nh="inbound",rh="outbound",ih="WALLETCONNECT_LINK_MODE_APPS",sh="subscription_created",oh="subscription_deleted",ah="subscription_sync",ch="subscription_resubscribed",lh=(w.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:w.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:w.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:w.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:w.ONE_DAY,prompt:!1,tag:0},res:{ttl:w.ONE_DAY,prompt:!1,tag:0}}}),uh="pairing_create",dh="pairing_expire",hh="pairing_delete",fh="pairing_ping",ph="history_created",gh="history_updated",mh="history_deleted",vh="history_sync",yh="expirer_created",bh="expirer_deleted",wh="expirer_expired",Ah="expirer_sync",Eh="https://verify.walletconnect.org",Sh=Eh,Ch="".concat(Sh,"/v3"),_h=["https://verify.walletconnect.com",Eh],kh="pairing_started",xh="pairing_uri_validation_success",Ih="pairing_uri_not_expired",Nh="store_new_pairing",Th="subscribing_pairing_topic",Ph="subscribe_pairing_topic_success",Oh="existing_pairing",Rh="pairing_not_expired",Mh="emit_inactive_pairing",Dh="emit_session_proposal",Uh="no_internet_connection",Lh="malformed_pairing_uri",Bh="active_pairing_already_exists",Fh="subscribe_pairing_topic_failure",jh="pairing_expired",zh="proposal_listener_not_found",Wh="session_approve_started",Hh="session_namespaces_validation_success",Vh="subscribing_session_topic",qh="subscribe_session_topic_success",Kh="publishing_session_approve",Gh="session_approve_publish_success",Jh="store_session",Yh="publishing_session_settle",Qh="session_settle_publish_success",Zh="no_internet_connection",Xh="proposal_expired",$h="subscribe_session_topic_failure",ef="session_approve_publish_failure",tf="session_settle_publish_failure",nf="session_approve_namespace_validation_failure",rf="proposal_not_found",sf="authenticated_session_approve_started",of="create_authenticated_session_topic",af="cacaos_verified",cf="store_authenticated_session",lf="subscribing_authenticated_session_topic",uf="subscribe_authenticated_session_topic_success",df="publishing_authenticated_session_approve",hf="no_internet_connection",ff="invalid_cacao",pf="subscribe_authenticated_session_topic_failure",gf="authenticated_session_approve_publish_failure",mf="authenticated_session_pending_request_not_found";var vf=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var d=t[i],h=0,f=o-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},yf=vf;const bf=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class wf{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class Af{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Sf(this,e)}}class Ef{constructor(e){this.decoders=e}or(e){return Sf(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const Sf=(e,t)=>new Ef((0,v.A)((0,v.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class Cf{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new wf(e,t,n),this.decoder=new Af(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _f=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new Cf(t,n,r,i)},kf=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=yf(r,n);return _f({prefix:t,name:n,encode:i,decode:e=>bf(s(e))})},xf=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return _f({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},If=_f({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var Nf=Object.freeze({__proto__:null,identity:If});const Tf=xf({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Pf=Object.freeze({__proto__:null,base2:Tf});const Of=xf({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Rf=Object.freeze({__proto__:null,base8:Of});const Mf=kf({prefix:"9",name:"base10",alphabet:"0123456789"});var Df=Object.freeze({__proto__:null,base10:Mf});const Uf=xf({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Lf=xf({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Bf=Object.freeze({__proto__:null,base16:Uf,base16upper:Lf});const Ff=xf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jf=xf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zf=xf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Wf=xf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Hf=xf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Vf=xf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qf=xf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Kf=xf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Gf=xf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Jf=Object.freeze({__proto__:null,base32:Ff,base32upper:jf,base32pad:zf,base32padupper:Wf,base32hex:Hf,base32hexupper:Vf,base32hexpad:qf,base32hexpadupper:Kf,base32z:Gf});const Yf=kf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Qf=kf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Zf=Object.freeze({__proto__:null,base36:Yf,base36upper:Qf});const Xf=kf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$f=kf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ep=Object.freeze({__proto__:null,base58btc:Xf,base58flickr:$f});const tp=xf({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),np=xf({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rp=xf({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ip=xf({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var sp=Object.freeze({__proto__:null,base64:tp,base64pad:np,base64url:rp,base64urlpad:ip});const op=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),ap=op.reduce(((e,t,n)=>(e[n]=t,e)),[]),cp=op.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const lp=_f({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=ap[t]),"")},decode:function(e){const t=[];for(const n of e){const e=cp[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var up=Object.freeze({__proto__:null,base256emoji:lp}),dp=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=pp;)n[r++]=255&t|hp,t/=128;for(;t&fp;)n[r++]=255&t|hp,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},hp=128,fp=-128,pp=Math.pow(2,31);var gp=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&vp)<<s:(r&vp)*Math.pow(2,s),s+=7}while(r>=mp);return e.bytes=o-n,i},mp=128,vp=127;var yp=Math.pow(2,7),bp=Math.pow(2,14),wp=Math.pow(2,21),Ap=Math.pow(2,28),Ep=Math.pow(2,35),Sp=Math.pow(2,42),Cp=Math.pow(2,49),_p=Math.pow(2,56),kp=Math.pow(2,63),xp={encode:dp,decode:gp,encodingLength:function(e){return e<yp?1:e<bp?2:e<wp?3:e<Ap?4:e<Ep?5:e<Sp?6:e<Cp?7:e<_p?8:e<kp?9:10}},Ip=xp;const Np=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ip.encode(e,t,n),t},Tp=e=>Ip.encodingLength(e),Pp=(e,t)=>{const n=t.byteLength,r=Tp(e),i=r+Tp(n),s=new Uint8Array(i+n);return Np(e,s,0),Np(n,s,r),s.set(t,i),new Op(e,n,t,s)};class Op{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Rp=e=>{let{name:t,code:n,encode:r}=e;return new Mp(t,n,r)};class Mp{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Pp(this.code,t):t.then((e=>Pp(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Dp=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Up=Rp({name:"sha2-256",code:18,encode:Dp("SHA-256")}),Lp=Rp({name:"sha2-512",code:19,encode:Dp("SHA-512")});var Bp=Object.freeze({__proto__:null,sha256:Up,sha512:Lp});const Fp=bf,jp={code:0,name:"identity",encode:Fp,digest:e=>Pp(0,Fp(e))};var zp=Object.freeze({__proto__:null,identity:jp});new TextEncoder,new TextDecoder;const Wp=(0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)((0,v.A)({},Nf),Pf),Rf),Df),Bf),Jf),Zf),ep),sp),up);function Hp(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,v.A)((0,v.A)({},Bp),zp);const Vp=Hp("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),qp=Hp("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Kp=(0,v.A)({utf8:Vp,"utf-8":Vp,hex:Wp.base16,latin1:qp,ascii:qp,binary:qp},Wp);var Gp=Object.defineProperty,Jp=(e,t,n)=>((e,t,n)=>t in e?Gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Yp{constructor(e,t){this.core=e,this.logger=t,Jp(this,"keychain",new Map),Jp(this,"name","keychain"),Jp(this,"version","0.3"),Jp(this,"initialized",!1),Jp(this,"storagePrefix",Ud),Jp(this,"init",(async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}})),Jp(this,"has",(e=>(this.isInitialized(),this.keychain.has(e)))),Jp(this,"set",(async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()})),Jp(this,"get",(e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=Tu("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t})),Jp(this,"del",(async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()})),this.core=e,this.logger=(0,ie.U5)(t,this.name)}get context(){return(0,ie.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fa(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?pa(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Qp=Object.defineProperty,Zp=(e,t,n)=>((e,t,n)=>t in e?Qp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Xp{constructor(e,t,n){this.core=e,this.logger=t,Zp(this,"name","crypto"),Zp(this,"keychain"),Zp(this,"randomSessionIdentifier",ou()),Zp(this,"initialized",!1),Zp(this,"init",(async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)})),Zp(this,"hasKeys",(e=>(this.isInitialized(),this.keychain.has(e)))),Zp(this,"getClientId",(async()=>{this.isInitialized();return Jr(Zr(await this.getClientSeed()).publicKey)})),Zp(this,"generateKeyPair",(()=>{this.isInitialized();const e=function(){const e=eu.utils.randomPrivateKey(),t=eu.getPublicKey(e);return{privateKey:Go(e,nu),publicKey:Go(t,nu)}}();return this.setPrivateKey(e.publicKey,e.privateKey)})),Zp(this,"signJWT",(async e=>{this.isInitialized();const t=Zr(await this.getClientSeed()),n=this.randomSessionIdentifier,r=jd;return await Xr(n,e,r,t)})),Zp(this,"generateSharedKey",((e,t,n)=>{this.isInitialized();const r=function(e,t){const n=eu.getSharedSecret(Ko(e,nu),Ko(t,nu));return Go(gl(Sl,n,void 0,void 0,32),nu)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)})),Zp(this,"setSymKey",(async(e,t)=>{this.isInitialized();const n=t||au(e);return await this.keychain.set(n,e),n})),Zp(this,"deleteKeyPair",(async e=>{this.isInitialized(),await this.keychain.del(e)})),Zp(this,"deleteSymKey",(async e=>{this.isInitialized(),await this.keychain.del(e)})),Zp(this,"encode",(async(e,t,n)=>{this.isInitialized();const r=fu(n),i=(0,Y.h)(t);if(gu(r))return function(e,t){const n=lu(2),r=qa(12);return du({type:n,sealed:Ko(e,su),iv:r,encoding:t})}(i,null===n||void 0===n?void 0:n.encoding);if(pu(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return function(e){const t=lu(typeof e.type<"u"?e.type:0);if(1===uu(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Ko(e.senderPublicKey,nu):void 0,r=typeof e.iv<"u"?Ko(e.iv,nu):qa(12),i=Ko(e.symKey,nu);return du({type:t,sealed:ul(i,r).encrypt(Ko(e.message,su)),iv:r,senderPublicKey:n,encoding:e.encoding})}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:null===n||void 0===n?void 0:n.encoding})})),Zp(this,"decode",(async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=hu({encoded:e,encoding:null===t||void 0===t?void 0:t.encoding});return fu({type:uu(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Go(n.senderPublicKey,nu):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}(t,n);if(gu(r)){const e=function(e,t){const{sealed:n}=hu({encoded:e,encoding:t});return Go(n,su)}(t,null===n||void 0===n?void 0:n.encoding);return(0,Y.j)(e)}if(pu(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=function(e){const t=Ko(e.symKey,nu),{sealed:n,iv:r}=hu(e),i=ul(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return Go(i,su)}({symKey:this.getSymKey(e),encoded:t,encoding:null===n||void 0===n?void 0:n.encoding});return(0,Y.j)(r)}catch($){this.logger.error("Failed to decode message from topic: '".concat(e,"', clientId: '").concat(await this.getClientId(),"'")),this.logger.error($)}})),Zp(this,"getPayloadType",(function(e){return uu(hu({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:ru}).type)})),Zp(this,"getPayloadSenderPublicKey",(function(e){const t=hu({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:ru});return t.senderPublicKey?Go(t.senderPublicKey,nu):void 0})),this.core=e,this.logger=(0,ie.U5)(t,this.name),this.keychain=n||new Yp(this.core,this.logger)}get context(){return(0,ie.oI)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Fd)}catch(t){e=ou(),await this.keychain.set(Fd,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Kp[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}}var $p=Object.defineProperty,eg=Object.defineProperties,tg=Object.getOwnPropertyDescriptors,ng=Object.getOwnPropertySymbols,rg=Object.prototype.hasOwnProperty,ig=Object.prototype.propertyIsEnumerable,sg=(e,t,n)=>t in e?$p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,og=(e,t,n)=>sg(e,"symbol"!=typeof t?t+"":t,n);class ag extends de{constructor(e,t){super(e,t),this.logger=e,this.core=t,og(this,"messages",new Map),og(this,"messagesWithoutClientAck",new Map),og(this,"name","messages"),og(this,"version","0.3"),og(this,"initialized",!1),og(this,"storagePrefix",Ud),og(this,"init",(async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(S){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(S)}finally{this.initialized=!0}}})),og(this,"set",(async(e,t,n)=>{this.isInitialized();const r=cu(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===nh){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>eg(e,tg(t)))(((e,t)=>{for(var n in t||(t={}))rg.call(t,n)&&sg(e,n,t[n]);if(ng)for(var n of ng(t))ig.call(t,n)&&sg(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r})),og(this,"get",(e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t})),og(this,"getWithoutAck",(e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t})),og(this,"has",((e,t)=>{this.isInitialized();return typeof this.get(e)[cu(t)]<"u"})),og(this,"ack",(async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);if(typeof n>"u")return;delete n[cu(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist()})),og(this,"del",(async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()})),this.logger=(0,ie.U5)(e,this.name),this.core=t}get context(){return(0,ie.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fa(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,fa(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?pa(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?pa(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}}var cg=Object.defineProperty,lg=Object.defineProperties,ug=Object.getOwnPropertyDescriptors,dg=Object.getOwnPropertySymbols,hg=Object.prototype.hasOwnProperty,fg=Object.prototype.propertyIsEnumerable,pg=(e,t,n)=>t in e?cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gg=(e,t)=>{for(var n in t||(t={}))hg.call(t,n)&&pg(e,n,t[n]);if(dg)for(var n of dg(t))fg.call(t,n)&&pg(e,n,t[n]);return e},mg=(e,t)=>lg(e,ug(t)),vg=(e,t,n)=>pg(e,"symbol"!=typeof t?t+"":t,n);class yg extends he{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,vg(this,"events",new y.EventEmitter),vg(this,"name","publisher"),vg(this,"queue",new Map),vg(this,"publishTimeout",(0,w.toMiliseconds)(w.ONE_MINUTE)),vg(this,"initialPublishTimeout",(0,w.toMiliseconds)(15*w.ONE_SECOND)),vg(this,"needsTransportRestart",!1),vg(this,"publish",(async(e,t,n)=>{var r;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const i=(null===n||void 0===n?void 0:n.ttl)||zd,s=vu(n),o=(null===n||void 0===n?void 0:n.prompt)||!1,a=(null===n||void 0===n?void 0:n.tag)||0,c=(null===n||void 0===n?void 0:n.id)||gd().toString(),l={topic:e,message:t,opts:{ttl:i,relay:s,prompt:o,tag:a,id:c,attestation:null===n||void 0===n?void 0:n.attestation,tvf:null===n||void 0===n?void 0:n.tvf}},u="Failed to publish payload, please try again. id:".concat(c," tag:").concat(a);try{const r=new Promise((async r=>{const s=e=>{let{id:t}=e;l.opts.id===t&&(this.removeRequestFromQueue(t),this.relayer.events.removeListener(Yd,s),r(l))};this.relayer.events.on(Yd,s);const u=ma(new Promise(((r,s)=>{this.rpcPublish({topic:e,message:t,ttl:i,prompt:o,tag:a,id:c,attestation:null===n||void 0===n?void 0:n.attestation,tvf:null===n||void 0===n?void 0:n.tvf}).then(r).catch((e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),s(e)}))})),this.initialPublishTimeout,"Failed initial publish, retrying.... id:".concat(c," tag:").concat(a));try{await u,this.events.removeListener(Yd,s)}catch(d){this.queue.set(c,mg(gg({},l),{attempt:1})),this.logger.warn(d,null===d||void 0===d?void 0:d.message)}}));this.logger.trace({type:"method",method:"publish",params:{id:c,topic:e,message:t,opts:n}}),await ma(r,this.publishTimeout,u)}catch(X){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(X),null!=(r=null===n||void 0===n?void 0:n.internal)&&r.throwOnFailedPublish)throw X}finally{this.queue.delete(c)}})),vg(this,"on",((e,t)=>{this.events.on(e,t)})),vg(this,"once",((e,t)=>{this.events.once(e,t)})),vg(this,"off",((e,t)=>{this.events.off(e,t)})),vg(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.relayer=e,this.logger=(0,ie.U5)(t,this.name),this.registerEventListeners()}get context(){return(0,ie.oI)(this.logger)}async rpcPublish(e){var t,n,r,i;const{topic:s,message:o,ttl:a=zd,prompt:c,tag:l,id:u,attestation:d,tvf:h}=e,f={method:yu(vu().protocol).publish,params:gg({topic:s,message:o,ttl:a,prompt:c,tag:l,attestation:d},h),id:u};Mu(null==(t=f.params)?void 0:t.prompt)&&(null==(n=f.params)||delete n.prompt),Mu(null==(r=f.params)?void 0:r.tag)&&(null==(i=f.params)||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f});const p=await this.relayer.request(f);return this.relayer.events.emit(Yd,e),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async(e,t)=>{const n=e.attempt+1;this.queue.set(t,mg(gg({},e),{attempt:n}));const{topic:r,message:i,opts:s,attestation:o}=e;this.logger.warn({},"Publisher: queue->publishing: ".concat(e.opts.id,", tag: ").concat(e.opts.tag,", attempt: ").concat(n)),await this.rpcPublish(mg(gg({},e),{topic:r,message:i,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:o,tvf:s.tvf})),this.logger.warn({},"Publisher: queue->published: ".concat(e.opts.id))}))}registerEventListeners(){this.relayer.core.heartbeat.on(C,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(Jd);this.checkQueue()})),this.relayer.on(Vd,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}var bg=Object.defineProperty,wg=(e,t,n)=>((e,t,n)=>t in e?bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Ag{constructor(){wg(this,"map",new Map),wg(this,"set",((e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])})),wg(this,"get",(e=>this.map.get(e)||[])),wg(this,"exists",((e,t)=>this.get(e).includes(t))),wg(this,"delete",((e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter((e=>e!==t));r.length?this.map.set(e,r):this.map.delete(e)})),wg(this,"clear",(()=>{this.map.clear()}))}get topics(){return Array.from(this.map.keys())}}var Eg=Object.defineProperty,Sg=Object.defineProperties,Cg=Object.getOwnPropertyDescriptors,_g=Object.getOwnPropertySymbols,kg=Object.prototype.hasOwnProperty,xg=Object.prototype.propertyIsEnumerable,Ig=(e,t,n)=>t in e?Eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ng=(e,t)=>{for(var n in t||(t={}))kg.call(t,n)&&Ig(e,n,t[n]);if(_g)for(var n of _g(t))xg.call(t,n)&&Ig(e,n,t[n]);return e},Tg=(e,t)=>Sg(e,Cg(t)),Pg=(e,t,n)=>Ig(e,"symbol"!=typeof t?t+"":t,n);class Og extends ge{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Pg(this,"subscriptions",new Map),Pg(this,"topicMap",new Ag),Pg(this,"events",new y.EventEmitter),Pg(this,"name","subscription"),Pg(this,"version","0.3"),Pg(this,"pending",new Map),Pg(this,"cached",[]),Pg(this,"initialized",!1),Pg(this,"storagePrefix",Ud),Pg(this,"subscribeTimeout",(0,w.toMiliseconds)(w.ONE_MINUTE)),Pg(this,"initialSubscribeTimeout",(0,w.toMiliseconds)(15*w.ONE_SECOND)),Pg(this,"clientId"),Pg(this,"batchSubscribeTopicsLimit",500),Pg(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0})),Pg(this,"subscribe",(async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const n=vu(t),r={topic:e,relay:n,transportType:null===t||void 0===t?void 0:t.transportType};this.pending.set(e,r);const i=await this.rpcSubscribe(e,n,t);return"string"==typeof i&&(this.onSubscribe(i,r),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),i}catch(E){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(E),E}})),Pg(this,"unsubscribe",(async(e,t)=>{this.isInitialized(),typeof(null===t||void 0===t?void 0:t.id)<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)})),Pg(this,"isSubscribed",(e=>new Promise((t=>{t(this.topicMap.topics.includes(e))})))),Pg(this,"isKnownTopic",(e=>new Promise((t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some((t=>t.topic===e)))})))),Pg(this,"on",((e,t)=>{this.events.on(e,t)})),Pg(this,"once",((e,t)=>{this.events.once(e,t)})),Pg(this,"off",((e,t)=>{this.events.off(e,t)})),Pg(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),Pg(this,"start",(async()=>{await this.onConnect()})),Pg(this,"stop",(async()=>{await this.onDisconnect()})),Pg(this,"restart",(async()=>{await this.restore(),await this.onRestart()})),Pg(this,"checkPending",(async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e)})),Pg(this,"registerEventListeners",(()=>{this.relayer.core.heartbeat.on(C,(async()=>{await this.checkPending()})),this.events.on(sh,(async e=>{const t=sh;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(oh,(async e=>{const t=oh;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))})),this.relayer=e,this.logger=(0,ie.U5)(t,this.name),this.clientId=""}get context(){return(0,ie.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch(r){}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map((async n=>await this.unsubscribeById(e,n,t))))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=vu(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=Pu("USER_DISCONNECTED","".concat(this.name,", ").concat(e));await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(Ae){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Ae),Ae}}async rpcSubscribe(e,t,n){var r;(!n||(null===n||void 0===n?void 0:n.transportType)===th.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const i={method:yu(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const s=null==(r=null===n||void 0===n?void 0:n.internal)?void 0:r.throwOnFailedPublish;try{const t=await this.getSubscriptionId(e);if((null===n||void 0===n?void 0:n.transportType)===th.link_mode)return setTimeout((()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch((e=>this.logger.warn(e)))}),(0,w.toMiliseconds)(w.ONE_SECOND)),t;const r=new Promise((async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(sh,n),t(r.id))};this.events.on(sh,n);try{const r=await ma(new Promise(((e,t)=>{this.relayer.request(i).catch((e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})).then(e)})),this.initialSubscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));this.events.removeListener(sh,n),t(r)}catch(r){}})),o=await ma(r,this.subscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));if(!o&&s)throw new Error("Subscribing to ".concat(e," failed, please try again"));return o?t:null}catch(se){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Jd),s)throw se}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:yu(e[0].relay.protocol).batchSubscribe,params:{topics:e.map((e=>e.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await ma(new Promise((e=>{this.relayer.request(t).catch((e=>this.logger.warn(e))).then(e)})),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch(n){this.relayer.events.emit(Jd)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:yu(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map((e=>e.topic))}};let n;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{n=await await ma(new Promise(((e,n)=>{this.relayer.request(t).catch((e=>{this.logger.warn(e),n(e)})).then(e)})),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch(r){this.relayer.events.emit(Jd)}return n}rpcUnsubscribe(e,t,n){const r={method:yu(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,Tg(Ng({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((e=>{this.setSubscription(e.id,Ng({},e)),this.pending.delete(e.topic)}))}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,Ng({},t)),this.topicMap.set(t.topic,e),this.events.emit(sh,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=Tu("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(oh,Tg(Ng({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ah)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(ch)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:e}=Tu("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map((async e=>Tg(Ng({},e),{id:await this.getSubscriptionId(e.topic)}))))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace("Fetching batch messages for ".concat(e.length," subscriptions"));const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise((t=>setTimeout(t,e)))}((0,w.toMiliseconds)(w.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return cu(e+await this.getClientId())}}var Rg=Object.defineProperty,Mg=Object.getOwnPropertySymbols,Dg=Object.prototype.hasOwnProperty,Ug=Object.prototype.propertyIsEnumerable,Lg=(e,t,n)=>t in e?Rg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bg=(e,t)=>{for(var n in t||(t={}))Dg.call(t,n)&&Lg(e,n,t[n]);if(Mg)for(var n of Mg(t))Ug.call(t,n)&&Lg(e,n,t[n]);return e},Fg=(e,t,n)=>Lg(e,"symbol"!=typeof t?t+"":t,n);class jg extends fe{constructor(e){super(e),Fg(this,"protocol","wc"),Fg(this,"version",2),Fg(this,"core"),Fg(this,"logger"),Fg(this,"events",new y.EventEmitter),Fg(this,"provider"),Fg(this,"messages"),Fg(this,"subscriber"),Fg(this,"publisher"),Fg(this,"name","relayer"),Fg(this,"transportExplicitlyClosed",!1),Fg(this,"initialized",!1),Fg(this,"connectionAttemptInProgress",!1),Fg(this,"relayUrl"),Fg(this,"projectId"),Fg(this,"packageName"),Fg(this,"bundleId"),Fg(this,"hasExperiencedNetworkDisruption",!1),Fg(this,"pingTimeout"),Fg(this,"heartBeatTimeout",(0,w.toMiliseconds)(w.THIRTY_SECONDS+w.FIVE_SECONDS)),Fg(this,"reconnectTimeout"),Fg(this,"connectPromise"),Fg(this,"reconnectInProgress",!1),Fg(this,"requestsInFlight",[]),Fg(this,"connectTimeout",(0,w.toMiliseconds)(15*w.ONE_SECOND)),Fg(this,"request",(async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||gd().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i="".concat(r,":").concat((null==(n=e.params)?void 0:n.tag)||"");this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter((e=>e!==i)),s}catch(i){throw this.logger.debug("Failed to Publish Request: ".concat(r)),i}})),Fg(this,"resetPingTimeout",(()=>{ia()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(i){this.logger.warn(i,null===i||void 0===i?void 0:i.message)}}),this.heartBeatTimeout))})),Fg(this,"onPayloadHandler",(e=>{this.onProviderPayload(e),this.resetPingTimeout()})),Fg(this,"onConnectHandler",(()=>{this.logger.warn({},"Relayer connected \ud83d\udedc"),this.startPingTimeout(),this.events.emit(qd)})),Fg(this,"onDisconnectHandler",(()=>{this.logger.warn({},"Relayer disconnected \ud83d\uded1"),this.requestsInFlight=[],this.onProviderDisconnect()})),Fg(this,"onProviderErrorHandler",(e=>{this.logger.fatal("Fatal socket error: ".concat(e.message)),this.events.emit(Gd,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()})),Fg(this,"registerProviderListeners",(()=>{this.provider.on(Qd,this.onPayloadHandler),this.provider.on(Zd,this.onConnectHandler),this.provider.on(Xd,this.onDisconnectHandler),this.provider.on($d,this.onProviderErrorHandler)})),this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?(0,ie.U5)(e.logger,this.name):(0,ie.h6)((0,ie.iP)({level:e.logger||"error"})),this.messages=new ag(this.logger,e.core),this.subscriber=new Og(this,this.logger),this.publisher=new yg(this,this.logger),this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||Wd,this.projectId=e.projectId,sa()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"android"===(null==n.g?void 0:n.g.Platform.OS)?this.packageName=ca():sa()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"ios"===(null==n.g?void 0:n.g.Platform.OS)&&(this.bundleId=ca()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,null===e||void 0===e?void 0:e.message)}}get context(){return(0,ie.oI)(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:th.relay},rh)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===(null===t||void 0===t?void 0:t.transportType))&&await this.toEstablishConnection();const s=typeof(null==(n=null===t||void 0===t?void 0:t.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=null===t||void 0===t?void 0:t.internal)?void 0:r.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(sh,c),o())};return await Promise.all([new Promise((e=>{o=e,this.subscriber.on(sh,c)})),new Promise((async(n,r)=>{a=await this.subscriber.subscribe(e,Bg({internal:{throwOnFailedPublish:s}},t)).catch((e=>{s&&r(e)}))||a,n()}))]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ma(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise((async(t,n)=>{await this.connect(e).then(t).catch(n).finally((()=>{this.connectPromise=void 0}))})),await this.connectPromise),!this.connected)throw new Error("Couldn't establish socket connection to the relay server: ".concat(this.relayUrl))}else this.logger.warn("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Qu())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===(null===e||void 0===e?void 0:e.length))return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort(((e,t)=>e.publishedAt-t.publishedAt));this.logger.debug("Batch of ".concat(t.length," message events sorted"));for(const n of t)try{await this.onMessageEvent(n)}catch(Ae){this.logger.warn(Ae,"Error while processing batch message event: "+(null===Ae||void 0===Ae?void 0:Ae.message))}this.logger.trace("Batch of ".concat(t.length," message events processed"))}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:ba(w.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(Hd,e),await this.recordMessageEvent(e,nh)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},"Connecting to ".concat(this.relayUrl,", attempt: ").concat(t,"...")),await this.createProvider(),await new Promise((async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Xd,n),await ma(new Promise(((e,t)=>{this.provider.connect().then(e).catch(t)})),this.connectTimeout,"Socket stalled when trying to connect to ".concat(this.relayUrl)).catch((e=>{t(e)})).finally((()=>{this.provider.off(Xd,n),clearTimeout(this.reconnectTimeout)})),await new Promise((async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Xd,n),await this.subscriber.start().then(e).catch(t).finally((()=>{this.provider.off(Xd,n)}))})),this.hasExperiencedNetworkDisruption=!1,e()}))}catch(S){await this.subscriber.stop();const t=S;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},"Connected to ".concat(this.relayUrl," successfully on attempt: ").concat(t));break}await new Promise((e=>setTimeout(e,(0,w.toMiliseconds)(1*t)))),t++}}startPingTimeout(){var e,t,n,r,i;if(ia())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(s){this.logger.warn(s,null===s||void 0===s?void 0:s.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Pd(new Md(da({sdkVersion:eh,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn("Ignoring invalid/empty message: ".concat(n)),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn("Ignoring message for unknown topic ".concat(t)),!0;const r=this.messages.has(t,n);return r&&this.logger.warn("Ignoring duplicate message: ".concat(n)),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),xd(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:s}=t.data,o={topic:n,message:r,publishedAt:i,transportType:th.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Bg({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Id(e)&&this.events.emit(Vd,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,nh),this.events.emit(Hd,e))}async acknowledgePayload(e){const t=vd(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Qd,this.onPayloadHandler),this.provider.off(Zd,this.onConnectHandler),this.provider.off(Xd,this.onDisconnectHandler),this.provider.off($d,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Qu();Zu((async t=>{e!==t&&(e=t,t?await this.transportOpen().catch((e=>this.logger.error(e,null===e||void 0===e?void 0:e.message))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Kd),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout((async()=>{await this.transportOpen().catch((e=>this.logger.error(e,null===e||void 0===e?void 0:e.message))),this.reconnectTimeout=void 0,this.reconnectInProgress=!1}),(0,w.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function zg(){}function Wg(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function Hg(e){return Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)))}function Vg(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const qg="[object Arguments]",Kg="[object Object]";function Gg(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return Jg(e,t,s,o)}return Jg(e,t,s,o)}function Jg(e,t,n,r){if(Object.is(e,t))return!0;let i=Vg(e),s=Vg(t);if(i===qg&&(i=Kg),s===qg&&(s=Kg),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(n=null!==n&&void 0!==n?n:new Map).get(e),a=n.get(t);if(null!=o&&null!=a)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!Gg(s,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],c=s.findIndex((i=>Gg(a,i,void 0,e,t,n,r)));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Gg(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&Jg(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&Jg(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case Kg:{if(!(Jg(e.constructor,t.constructor,n,r)||Wg(e)&&Wg(t)))return!1;const i=[...Object.keys(e),...Hg(e)],s=[...Object.keys(t),...Hg(t)];if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++){const s=i[o],a=e[s];if(!Object.hasOwn(t,s))return!1;if(!Gg(a,t[s],s,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function Yg(e,t){return function(e,t,n){return Gg(e,t,void 0,void 0,void 0,void 0,n)}(e,t,zg)}var Qg=Object.defineProperty,Zg=Object.getOwnPropertySymbols,Xg=Object.prototype.hasOwnProperty,$g=Object.prototype.propertyIsEnumerable,em=(e,t,n)=>t in e?Qg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tm=(e,t)=>{for(var n in t||(t={}))Xg.call(t,n)&&em(e,n,t[n]);if(Zg)for(var n of Zg(t))$g.call(t,n)&&em(e,n,t[n]);return e},nm=(e,t,n)=>em(e,"symbol"!=typeof t?t+"":t,n);class rm extends pe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ud,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,n,r),this.core=e,this.logger=t,this.name=n,nm(this,"map",new Map),nm(this,"version","0.3"),nm(this,"cached",[]),nm(this,"initialized",!1),nm(this,"getKey"),nm(this,"storagePrefix",Ud),nm(this,"recentlyDeleted",[]),nm(this,"recentlyDeletedLimit",200),nm(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>{this.getKey&&null!==e&&!Mu(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return null===e||void 0===e?void 0:e.topic}(e)&&this.map.set(e.topic,e)})),this.cached=[],this.initialized=!0)})),nm(this,"set",(async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())})),nm(this,"get",(e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)))),nm(this,"getAll",(e=>(this.isInitialized(),e?this.values.filter((t=>Object.keys(e).every((n=>Yg(t[n],e[n]))))):this.values))),nm(this,"update",(async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=tm(tm({},this.getData(e)),t);this.map.set(e,n),await this.persist()})),nm(this,"delete",(async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())})),this.logger=(0,ie.U5)(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return(0,ie.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=Tu("MISSING_OR_INVALID","Record was recently deleted - ".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}const{message:t}=Tu("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=Tu("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}}var im=Object.defineProperty,sm=(e,t,n)=>((e,t,n)=>t in e?im(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class om{constructor(e,t){this.core=e,this.logger=t,sm(this,"name","pairing"),sm(this,"version","0.3"),sm(this,"events",new(b())),sm(this,"pairings"),sm(this,"initialized",!1),sm(this,"storagePrefix",Ud),sm(this,"ignoredPayloadTypes",[1]),sm(this,"registeredMethods",[]),sm(this,"init",(async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))})),sm(this,"register",(e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]})),sm(this,"create",(async e=>{this.isInitialized();const t=ou(),n=await this.core.crypto.setSymKey(t),r=ba(w.FIVE_MINUTES),i={protocol:"irn"},s={topic:n,expiry:r,relay:i,active:!1,methods:null===e||void 0===e?void 0:e.methods},o=Eu({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:null===e||void 0===e?void 0:e.methods});return this.events.emit(uh,s),this.core.expirer.set(n,r),await this.pairings.set(n,s),await this.core.relayer.subscribe(n,{transportType:null===e||void 0===e?void 0:e.transportType}),{topic:n,uri:o}})),sm(this,"pair",(async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:null===e||void 0===e?void 0:e.uri,trace:[kh]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:s,methods:o}=wu(e.uri);let a;if(t.props.properties.topic=n,t.addTrace(xh),t.addTrace(Ih),this.pairings.keys.includes(n)){if(a=this.pairings.get(n),t.addTrace(Oh),a.active)throw t.setError(Bh),new Error("Pairing already exists: ".concat(n,". Please try again with a new connection URI."));t.addTrace(Rh)}const c=s||ba(w.FIVE_MINUTES),l={topic:n,relay:i,expiry:c,active:!1,methods:o};this.core.expirer.set(n,c),await this.pairings.set(n,l),t.addTrace(Nh),e.activatePairing&&await this.activate({topic:n}),this.events.emit(uh,l),t.addTrace(Mh),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace(Th);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(u){t.setError(Uh)}try{await this.core.relayer.subscribe(n,{relay:i})}catch(Z){throw t.setError(Fh),Z}return t.addTrace(Ph),l})),sm(this,"activate",(async e=>{let{topic:t}=e;this.isInitialized();const n=ba(w.FIVE_MINUTES);this.core.expirer.set(t,n),await this.pairings.update(t,{active:!0,expiry:n})})),sm(this,"ping",(async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=ga();this.events.once(Aa("pairing_ping",e),(e=>{let{error:t}=e;t?i(t):r()})),await n()}})),sm(this,"updateExpiry",(async e=>{let{topic:t,expiry:n}=e;this.isInitialized(),await this.pairings.update(t,{expiry:n})})),sm(this,"updateMetadata",(async e=>{let{topic:t,metadata:n}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:n})})),sm(this,"getPairings",(()=>(this.isInitialized(),this.pairings.values))),sm(this,"disconnect",(async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",Pu("USER_DISCONNECTED")),await this.deletePairing(t))})),sm(this,"formatUriFromPairing",(e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,s=this.core.crypto.keychain.get(t);return Eu({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:n,expiryTimestamp:r,methods:i})})),sm(this,"sendRequest",(async(e,t,n)=>{const r=md(t,n),i=await this.core.crypto.encode(e,r),s=lh[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id})),sm(this,"sendResult",(async(e,t,n)=>{const r=vd(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=lh[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)})),sm(this,"sendError",(async(e,t,n)=>{const r=yd(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=lh[s]?lh[s].res:lh.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)})),sm(this,"deletePairing",(async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,Pu("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])})),sm(this,"cleanup",(async()=>{const e=this.pairings.getAll().filter((e=>wa(e.expiry)));await Promise.all(e.map((e=>this.deletePairing(e.topic))))})),sm(this,"onRelayEventRequest",(async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}})),sm(this,"onRelayEventResponse",(async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)})),sm(this,"onPairingPingRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit(fh,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}})),sm(this,"onPairingPingResponse",((e,t)=>{const{id:n}=t;setTimeout((()=>{Nd(t)?this.events.emit(Aa("pairing_ping",n),{}):Td(t)&&this.events.emit(Aa("pairing_ping",n),{error:t.error})}),500)})),sm(this,"onPairingDeleteRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(hh,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}})),sm(this,"onUnknownRpcMethodRequest",(async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=Pu("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(se){await this.sendError(n,e,se),this.logger.error(se)}})),sm(this,"onUnknownRpcMethodResponse",(e=>{this.registeredMethods.includes(e)||this.logger.error(Pu("WC_METHOD_UNSUPPORTED",e))})),sm(this,"isValidPair",((e,t)=>{var n;if(!Vu(e)){const{message:n}=Tu("MISSING_OR_INVALID","pair() params: ".concat(e));throw t.setError(Lh),new Error(n)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch(t){return!1}}try{if(Du(e,!1))return!!t(e)||t(xa(e))}catch(n){}return!1}(e.uri)){const{message:n}=Tu("MISSING_OR_INVALID","pair() uri: ".concat(e.uri));throw t.setError(Lh),new Error(n)}const r=wu(null===e||void 0===e?void 0:e.uri);if(null==(n=null===r||void 0===r?void 0:r.relay)||!n.protocol){const{message:e}=Tu("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(Lh),new Error(e)}if(null==r||!r.symKey){const{message:e}=Tu("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(Lh),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,w.toMiliseconds)(null===r||void 0===r?void 0:r.expiryTimestamp)<Date.now()){t.setError(jh);const{message:e}=Tu("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}})),sm(this,"isValidPing",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)})),sm(this,"isValidDisconnect",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)})),sm(this,"isValidPairingTopic",(async e=>{if(!Du(e,!1)){const{message:t}=Tu("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=Tu("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(wa(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=Tu("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}})),this.core=e,this.logger=(0,ie.U5)(t,this.name),this.pairings=new rm(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,ie.oI)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Hd,(async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==th.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);xd(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):Id(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(E){this.logger.error(E)}}))}registerExpirerEvents(){this.core.expirer.on(wh,(async e=>{const{topic:t}=ya(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(dh,{topic:t}))}))}}var am=Object.defineProperty,cm=(e,t,n)=>((e,t,n)=>t in e?am(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class lm extends ue{constructor(e,t){super(e,t),this.core=e,this.logger=t,cm(this,"records",new Map),cm(this,"events",new y.EventEmitter),cm(this,"name","history"),cm(this,"version","0.3"),cm(this,"cached",[]),cm(this,"initialized",!1),cm(this,"storagePrefix",Ud),cm(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.records.set(e.id,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)})),cm(this,"set",((e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:ba(w.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit(ph,r)})),cm(this,"resolve",(async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=Td(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(gh,t))})),cm(this,"get",(async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)))),cm(this,"delete",((e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach((n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(mh,n)}})),this.persist()})),cm(this,"exists",(async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e))),cm(this,"on",((e,t)=>{this.events.on(e,t)})),cm(this,"once",((e,t)=>{this.events.once(e,t)})),cm(this,"off",((e,t)=>{this.events.off(e,t)})),cm(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.logger=(0,ie.U5)(t,this.name)}get context(){return(0,ie.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:md(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=Tu("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(vh)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=Tu("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e)}}registerEventListeners(){this.events.on(ph,(e=>{const t=ph;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(gh,(e=>{const t=gh;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(mh,(e=>{const t=mh;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.core.heartbeat.on(C,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach((t=>{(0,w.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info("Deleting expired history log: ".concat(t.id)),this.records.delete(t.id),this.events.emit(mh,t,!1),e=!0)})),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}}var um=Object.defineProperty,dm=(e,t,n)=>((e,t,n)=>t in e?um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class hm extends me{constructor(e,t){super(e,t),this.core=e,this.logger=t,dm(this,"expirations",new Map),dm(this,"events",new y.EventEmitter),dm(this,"name","expirer"),dm(this,"version","0.3"),dm(this,"cached",[]),dm(this,"initialized",!1),dm(this,"storagePrefix",Ud),dm(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.expirations.set(e.target,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)})),dm(this,"has",(e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch(t){return!1}})),dm(this,"set",((e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(yh,{target:n,expiration:r})})),dm(this,"get",(e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)})),dm(this,"del",(e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(bh,{target:t,expiration:n})}})),dm(this,"on",((e,t)=>{this.events.on(e,t)})),dm(this,"once",((e,t)=>{this.events.once(e,t)})),dm(this,"off",((e,t)=>{this.events.off(e,t)})),dm(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.logger=(0,ie.U5)(t,this.name)}get context(){return(0,ie.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return va("topic",e)}(e);if("number"==typeof e)return function(e){return va("id",e)}(e);const{message:t}=Tu("UNKNOWN_TYPE","Target type: ".concat(typeof e));throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ah)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=Tu("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=Tu("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,w.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(wh,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(C,(()=>this.checkExpirations())),this.events.on(yh,(e=>{const t=yh;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(wh,(e=>{const t=wh;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(bh,(e=>{const t=bh;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}}var fm=Object.defineProperty,pm=(e,t,n)=>((e,t,n)=>t in e?fm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class gm extends ve{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,pm(this,"name","verify-api"),pm(this,"abortController"),pm(this,"isDevEnv"),pm(this,"verifyUrlV3",Ch),pm(this,"storagePrefix",Ud),pm(this,"version",2),pm(this,"publicKey"),pm(this,"fetchPromise"),pm(this,"init",(async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,w.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))})),pm(this,"register",(async e=>{if(!oa()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i="".concat(this.verifyUrlV3,"/attestation?projectId=").concat(this.core.projectId,"&origin=").concat(t,"&id=").concat(n,"&decryptedId=").concat(r);try{const e=(0,di.getDocument)(),t=this.startAbortTimer(5*w.ONE_SECOND),r=await new Promise(((r,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if(Qr(s.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),r(null===s.attestation?"":s.attestation)}}catch(s){this.logger.warn(s)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})}));return this.logger.debug("jwt attestation",r),r}catch(re){this.logger.warn(re)}return""})),pm(this,"resolve",(async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if(Qr(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(null===e||void 0===e?void 0:e.verifyUrl);return this.fetchAttestation(n,i)})),pm(this,"fetchAttestation",(async(e,t)=>{this.logger.debug("resolving attestation: ".concat(e," from url: ").concat(t));const n=this.startAbortTimer(5*w.ONE_SECOND),r=await fetch("".concat(t,"/attestation/").concat(e,"?v2Supported=true"),{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0})),pm(this,"getVerifyUrl",(e=>{let t=e||Sh;return _h.includes(t)||(this.logger.info("verify url: ".concat(t,", not included in trusted list, assigning default: ").concat(Sh)),t=Sh),t})),pm(this,"fetchPublicKey",(async()=>{try{this.logger.debug("fetching public key from: ".concat(this.verifyUrlV3));const e=this.startAbortTimer(w.FIVE_SECONDS),t=await fetch("".concat(this.verifyUrlV3,"/public-key"),{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(Ae){this.logger.warn(Ae)}})),pm(this,"persistPublicKey",(async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e})),pm(this,"removePublicKey",(async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0})),pm(this,"isValidJwtAttestation",(async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(se){this.logger.error(se),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(se){this.logger.error(se),this.logger.warn("error validating attestation")}})),pm(this,"getPublicKey",(async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey())),pm(this,"fetchAndPersistPublicKey",(async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise((async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))}));const e=await this.fetchPromise;return this.fetchPromise=void 0,e})),pm(this,"validateAttestation",((e,t)=>{const n=mu(e,t.publicKey),r={hasExpired:(0,w.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}})),this.logger=(0,ie.U5)(t,this.name),this.abortController=new AbortController,this.isDevEnv=ka(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,ie.oI)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,w.toMiliseconds)(e))}}var mm=Object.defineProperty,vm=(e,t,n)=>((e,t,n)=>t in e?mm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ym extends ye{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,vm(this,"context","echo"),vm(this,"registerDeviceToken",(async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,s="".concat("https://echo.walletconnect.com","/").concat(this.projectId,"/clients");await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})})),this.logger=(0,ie.U5)(t,this.context)}}var bm=Object.defineProperty,wm=Object.getOwnPropertySymbols,Am=Object.prototype.hasOwnProperty,Em=Object.prototype.propertyIsEnumerable,Sm=(e,t,n)=>t in e?bm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cm=(e,t)=>{for(var n in t||(t={}))Am.call(t,n)&&Sm(e,n,t[n]);if(wm)for(var n of wm(t))Em.call(t,n)&&Sm(e,n,t[n]);return e},_m=(e,t,n)=>Sm(e,"symbol"!=typeof t?t+"":t,n);class km extends be{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,n),this.core=e,this.logger=t,_m(this,"context","event-client"),_m(this,"storagePrefix",Ud),_m(this,"storageVersion",.1),_m(this,"events",new Map),_m(this,"shouldPersist",!1),_m(this,"init",(async()=>{if(!ka())try{const e={eventId:_a(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:ua(this.core.relayer.protocol,this.core.relayer.version,eh)}}};await this.sendEvent([e])}catch(Ae){this.logger.warn(Ae)}})),_m(this,"createEvent",(e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,s=_a(),o=this.core.projectId||"",a=Date.now(),c=Cm({eventId:s,timestamp:a,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c})),_m(this,"getEvent",(e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find((e=>e.props.properties.topic===n));return r?Cm(Cm({},r),this.setMethods(r.eventId)):void 0})),_m(this,"deleteEvent",(e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0})),_m(this,"setEventListeners",(()=>{this.core.heartbeat.on(C,(async()=>{this.shouldPersist&&await this.persist(),this.events.forEach((e=>{(0,w.fromMiliseconds)(Date.now())-(0,w.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)}))}))})),_m(this,"setMethods",(e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)}))),_m(this,"addTrace",((e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)})),_m(this,"setError",((e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)})),_m(this,"persist",(async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1})),_m(this,"restore",(async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach((e=>{this.events.set(e.eventId,Cm(Cm({},e),this.setMethods(e.eventId)))}))}catch(Ae){this.logger.warn(Ae)}})),_m(this,"submit",(async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,n]of this.events)n.props.type&&e.push(n);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(E){this.logger.warn(E)}})),_m(this,"sendEvent",(async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch("".concat("https://pulse.walletconnect.org/batch","?projectId=").concat(this.core.projectId,"&st=events_sdk&sv=js-").concat(eh).concat(t),{method:"POST",body:JSON.stringify(e)})})),_m(this,"getAppDomain",(()=>la().url)),this.logger=(0,ie.U5)(t,this.context),this.telemetryEnabled=n,n?this.restore().then((async()=>{await this.submit(),this.setEventListeners()})):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var xm=Object.defineProperty,Im=Object.getOwnPropertySymbols,Nm=Object.prototype.hasOwnProperty,Tm=Object.prototype.propertyIsEnumerable,Pm=(e,t,n)=>t in e?xm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Om=(e,t)=>{for(var n in t||(t={}))Nm.call(t,n)&&Pm(e,n,t[n]);if(Im)for(var n of Im(t))Tm.call(t,n)&&Pm(e,n,t[n]);return e},Rm=(e,t,n)=>Pm(e,"symbol"!=typeof t?t+"":t,n);class Mm extends ae{constructor(e){var t;super(e),Rm(this,"protocol","wc"),Rm(this,"version",2),Rm(this,"name",Dd),Rm(this,"relayUrl"),Rm(this,"projectId"),Rm(this,"customStoragePrefix"),Rm(this,"events",new y.EventEmitter),Rm(this,"logger"),Rm(this,"heartbeat"),Rm(this,"relayer"),Rm(this,"crypto"),Rm(this,"storage"),Rm(this,"history"),Rm(this,"expirer"),Rm(this,"pairing"),Rm(this,"verify"),Rm(this,"echoClient"),Rm(this,"linkModeSupportedApps"),Rm(this,"eventClient"),Rm(this,"initialized",!1),Rm(this,"logChunkController"),Rm(this,"on",((e,t)=>this.events.on(e,t))),Rm(this,"once",((e,t)=>this.events.once(e,t))),Rm(this,"off",((e,t)=>this.events.off(e,t))),Rm(this,"removeListener",((e,t)=>this.events.removeListener(e,t))),Rm(this,"dispatchEnvelope",(e=>{let{topic:t,message:n,sessionExists:r}=e;if(!t||!n)return;const i={topic:t,message:n,publishedAt:Date.now(),transportType:th.link_mode};this.relayer.onLinkMessageEvent(i,{sessionExists:r})})),this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||Wd,this.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";const n=(0,ie.iP)({level:"string"==typeof(null===e||void 0===e?void 0:e.logger)&&e.logger?e.logger:Ld,name:Dd}),{logger:r,chunkLoggerController:i}=(0,ie.D5)({opts:n,maxSizeInBytes:null===e||void 0===e?void 0:e.maxLogBlobSizeInBytes,loggerOverride:null===e||void 0===e?void 0:e.logger});this.logChunkController=i,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,ie.U5)(r,this.name),this.heartbeat=new _,this.crypto=new Xp(this,this.logger,null===e||void 0===e?void 0:e.keychain),this.history=new lm(this,this.logger),this.expirer=new hm(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new re(Om(Om({},Bd),null===e||void 0===e?void 0:e.storageOptions)),this.relayer=new jg({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new om(this,this.logger),this.verify=new gm(this,this.logger,this.storage),this.echoClient=new ym(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new km(this,this.logger,null===e||void 0===e?void 0:e.telemetryEnabled)}static async init(e){const t=new Mm(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return(0,ie.oI)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(ih,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(ih)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e),this.logger.error(e.message),e}}}const Dm=Mm,Um="client",Lm="".concat("wc","@").concat(2,":").concat(Um,":"),Bm=Um,Fm="error",jm="WALLETCONNECT_DEEPLINK_CHOICE",zm="Proposal expired",Wm=w.SEVEN_DAYS,Hm={wc_sessionPropose:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1104},res:{ttl:w.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1106},res:{ttl:w.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1112},res:{ttl:w.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1114},res:{ttl:w.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:w.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:w.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1119}}},Vm={min:w.FIVE_MINUTES,max:w.SEVEN_DAYS},qm="IDLE",Km="ACTIVE",Gm={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Jm=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Ym="".concat("wc","@",1.5,":").concat("auth",":"),Qm="".concat(Ym,":PUB_KEY");var Zm=Object.defineProperty,Xm=Object.defineProperties,$m=Object.getOwnPropertyDescriptors,ev=Object.getOwnPropertySymbols,tv=Object.prototype.hasOwnProperty,nv=Object.prototype.propertyIsEnumerable,rv=(e,t,n)=>t in e?Zm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iv=(e,t)=>{for(var n in t||(t={}))tv.call(t,n)&&rv(e,n,t[n]);if(ev)for(var n of ev(t))nv.call(t,n)&&rv(e,n,t[n]);return e},sv=(e,t)=>Xm(e,$m(t)),ov=(e,t,n)=>rv(e,"symbol"!=typeof t?t+"":t,n);class av extends Se{constructor(e){var t;super(e),t=this,ov(this,"name","engine"),ov(this,"events",new(b())),ov(this,"initialized",!1),ov(this,"requestQueue",{state:qm,queue:[]}),ov(this,"sessionRequestQueue",{state:qm,queue:[]}),ov(this,"requestQueueDelay",w.ONE_SECOND),ov(this,"expectedPairingMethodMap",new Map),ov(this,"recentlyDeletedMap",new Map),ov(this,"recentlyDeletedLimit",200),ov(this,"relayMessageCache",[]),ov(this,"pendingSessions",new Map),ov(this,"init",(async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Hm)}),this.initialized=!0,setTimeout((async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,w.toMiliseconds)(this.requestQueueDelay)))})),ov(this,"connect",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=sv(iv({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:a}=t;let c,l=n,u=!1;try{if(l){const e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(we){throw this.client.logger.error("connect() -> pairing.get(".concat(l,") failed")),we}if(!l||!u){const{topic:e,uri:t}=await this.client.core.pairing.create();l=e,c=t}if(!l){const{message:e}=Tu("NO_MATCHING_KEY","connect() pairing topic: ".concat(l));throw new Error(e)}const d=await this.client.core.crypto.generateKeyPair(),h=Hm.wc_sessionPropose.req.ttl||w.FIVE_MINUTES,f=ba(h),p=sv(iv(iv({requiredNamespaces:r,optionalNamespaces:i,relays:null!==a&&void 0!==a?a:[{protocol:"irn"}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:pd()}),g=Aa("session_connect",p.id),{reject:m,resolve:v,done:y}=ga(h,zm),b=e=>{let{id:t}=e;t===p.id&&(this.client.events.off("proposal_expire",b),this.pendingSessions.delete(p.id),this.events.emit(g,{error:{message:zm,code:0}}))};return this.client.events.on("proposal_expire",b),this.events.once(g,(e=>{let{error:t,session:n}=e;this.client.events.off("proposal_expire",b),t?m(t):n&&v(n)})),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:p,throwOnFailedPublish:!0,clientRpcId:p.id}),await this.setProposal(p.id,p),{uri:c,approval:y}})),ov(this,"pair",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error("pair() failed"),t}})),ov(this,"approve",(async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=null===e||void 0===e?void 0:e.id)?void 0:t.toString(),trace:[Wh]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw i.setError(Zh),S}try{await this.isValidProposalId(null===e||void 0===e?void 0:e.id)}catch(S){throw this.client.logger.error("approve() -> proposal.get(".concat(null===e||void 0===e?void 0:e.id,") failed")),i.setError(rf),S}try{await this.isValidApprove(e)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(nf),S}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:u}=e,d=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:h,proposer:f,requiredNamespaces:p,optionalNamespaces:g}=d;let m=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:h});m||(m=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:Wh,properties:{topic:h,trace:[Wh,Hh]}}));const v=await this.client.core.crypto.generateKeyPair(),y=f.publicKey,b=await this.client.core.crypto.generateSharedKey(v,y),w=iv(iv(iv({relay:{protocol:null!==o&&void 0!==o?o:"irn"},namespaces:a,controller:{publicKey:v,metadata:this.client.metadata},expiry:ba(Wm)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),A=th.relay;m.addTrace(Vh);try{await this.client.core.relayer.subscribe(b,{transportType:A})}catch(S){throw m.setError($h),S}m.addTrace(qh);const E=sv(iv({},w),{topic:b,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:h,acknowledged:!1,self:w.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:v,transportType:th.relay});await this.client.session.set(b,E),m.addTrace(Jh);try{m.addTrace(Yh),await this.sendRequest({topic:b,method:"wc_sessionSettle",params:w,throwOnFailedPublish:!0}).catch((e=>{var t;throw null!==(t=m)&&void 0!==t&&t.setError(tf),e})),m.addTrace(Qh),m.addTrace(Kh),await this.sendResult({id:s,topic:h,result:{relay:{protocol:null!==o&&void 0!==o?o:"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch((e=>{var t;throw null!==(t=m)&&void 0!==t&&t.setError(ef),e})),m.addTrace(Gh)}catch(S){throw this.client.logger.error(S),this.client.session.delete(b,Pu("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),S}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:f.metadata}),await this.client.proposal.delete(s,Pu("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(b,ba(Wm)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}})),ov(this,"reject",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(i){throw this.client.logger.error("reject() -> isValidReject() failed"),i}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(i){throw this.client.logger.error("reject() -> proposal.get(".concat(t,") failed")),i}r&&(await this.sendError({id:t,topic:r,error:n,rpcOpts:Hm.wc_sessionPropose.reject}),await this.client.proposal.delete(t,Pu("USER_DISCONNECTED")))})),ov(this,"update",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(re){throw this.client.logger.error("update() -> isValidUpdate() failed"),re}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:s}=ga(),o=pd(),a=gd().toString(),c=this.client.session.get(t).namespaces;return this.events.once(Aa("session_update",o),(e=>{let{error:t}=e;t?s(t):i()})),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch((e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)})),{acknowledged:r}})),ov(this,"extend",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(se){throw this.client.logger.error("extend() -> isValidExtend() failed"),se}const{topic:t}=e,n=pd(),{done:r,resolve:i,reject:s}=ga();return this.events.once(Aa("session_extend",n),(e=>{let{error:t}=e;t?s(t):i()})),await this.setExpiry(t,ba(Wm)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch((e=>{s(e)})),{acknowledged:r}})),ov(this,"request",(async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(Z){throw this.client.logger.error("request() -> isValidRequest() failed"),Z}const{chainId:t,request:n,topic:r,expiry:i=Hm.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(r);(null===s||void 0===s?void 0:s.transportType)===th.relay&&await this.confirmOnlineStateOrThrow();const o=pd(),a=gd().toString(),{done:c,resolve:l,reject:u}=ga(i,"Request expired. Please try again.");this.events.once(Aa("session_request",o),(e=>{let{error:t,result:n}=e;t?u(t):l(n)}));const d="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:d,params:{request:sv(iv({},n),{expiryTimestamp:ba(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch((e=>u(e))),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),await c();const f={request:sv(iv({},n),{expiryTimestamp:ba(i)}),chainId:t},p=this.shouldSetTVF(d,f);return await Promise.all([new Promise((async e=>{await this.sendRequest(iv({clientRpcId:o,relayRpcId:a,topic:r,method:d,params:f,expiry:i,throwOnFailedPublish:!0},p&&{tvf:this.getTVFParams(o,f)})).catch((e=>u(e))),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()})),new Promise((async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let n="";try{if(oa()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(i){console.error(i)}return n}(this.client.core.storage,jm);await Sa({id:o,topic:r,wcDeepLink:e})}e()})),c()]).then((e=>e[2]))})),ov(this,"respond",(async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:n}=e,{id:r}=n,i=this.client.session.get(t);i.transportType===th.relay&&await this.confirmOnlineStateOrThrow();const s=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);Nd(n)?await this.sendResult({id:r,topic:t,result:n.result,throwOnFailedPublish:!0,appLink:s}):Td(n)&&await this.sendError({id:r,topic:t,error:n.error,appLink:s}),this.cleanupAfterResponse(e)})),ov(this,"ping",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(S){throw this.client.logger.error("ping() -> isValidPing() failed"),S}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=pd(),n=gd().toString(),{done:r,resolve:i,reject:s}=ga();this.events.once(Aa("session_ping",e),(e=>{let{error:t}=e;t?s(t):i()})),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))})),ov(this,"emit",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=gd().toString(),s=pd();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})})),ov(this,"disconnect",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:Pu("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=Tu("MISMATCHED_TOPIC","Session or pairing topic not found: ".concat(t));throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}})),ov(this,"find",(e=>(this.isInitialized(),this.client.session.getAll().filter((t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!ha(i,r)&&(r.forEach((t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=Cu(r),c=n[t];(!ha(Xo(t,c),a)||!ha(c.methods,i)||!ha(c.events,o))&&(s=!1)})),s)}(t,e)))))),ov(this,"getPendingSessionRequests",(()=>this.client.pendingRequest.getAll())),ov(this,"authenticate",(async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?th.link_mode:th.relay;i===th.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:u,exp:d,nbf:h,methods:f=[],expiry:p}=e,g=[...e.resources||[]],{topic:m,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:v}});const y=await this.client.core.crypto.generateKeyPair(),b=au(y);if(await Promise.all([this.client.auth.authKeys.set(Qm,{responseTopic:b,publicKey:y}),this.client.auth.pairingTopics.set(b,{topic:b,pairingTopic:m})]),await this.client.core.relayer.subscribe(b,{transportType:i}),this.client.logger.info("sending request to new pairing topic: ".concat(m)),f.length>0){const{namespace:e}=Zo(s[0]);let t=Nc(e,"request",f);Dc(g)&&(t=Pc(t,g.pop())),g.push(t)}const w=p&&p>Hm.wc_sessionAuthenticate.req.ttl?p:Hm.wc_sessionAuthenticate.req.ttl,A={authPayload:{type:null!==u&&void 0!==u?u:"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:d,nbf:h,resources:g},requester:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:ba(w)},E={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...f])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:ba(Hm.wc_sessionPropose.req.ttl),id:pd()},{done:S,resolve:C,reject:_}=ga(w,"Request expired"),k=pd(),x=Aa("session_connect",E.id),I=Aa("session_request",k),N=async e=>{let{error:t,session:n}=e;this.events.off(I,T),t?_(t):n&&C({session:n})},T=async e=>{var n,r,s;if(await this.deletePendingAuthRequest(k,{message:"fulfilled",code:0}),e.error){const t=Pu("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(x,N),_(e.error.message))}await this.deleteProposal(E.id),this.events.off(x,N);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const t of o){await Sc({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),_(Pu("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,n=Dc(e.resources),r=[Ac(e.iss)],i=Ec(e.iss);if(n){const e=Rc(n),t=Mc(n);c.push(...e),r.push(...t)}for(const t of r)l.push("".concat(t,":").concat(i))}const u=await this.client.core.crypto.generateSharedKey(y,a.publicKey);let d;c.length>0&&(d={topic:u,acknowledged:!0,self:{publicKey:y,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:ba(Wm),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:xu([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,d),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:a.metadata}),d=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=a.metadata.redirect)&&r.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:th.link_mode})),C({auths:o,session:d})};let P;this.events.once(x,N),this.events.once(I,T);try{if(r){const e=md("wc_sessionAuthenticate",A,k);this.client.core.history.set(m,e);const n=await this.client.core.crypto.encode("",e,{type:2,encoding:iu});P=Su(t,m,n)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:A,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:k}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:E,expiry:Hm.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:E.id})])}catch(O){throw this.events.off(x,N),this.events.off(I,T),O}return await this.setProposal(E.id,E),await this.setAuthRequest(k,{request:sv(iv({},A),{verifyContext:{}}),pairingTopic:m,transportType:i}),{uri:null!==P&&void 0!==P?P:v,response:S}})),ov(this,"approveSessionAuthenticate",(async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[sf]}});try{this.isInitialized()}catch(pe){throw r.setError(hf),pe}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError(mf),new Error("Could not find pending auth request with id ".concat(t));const s=i.transportType||th.relay;s===th.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=au(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],d=[];for(const p of n){if(!await Sc({cacao:p,projectId:this.client.core.projectId})){r.setError(ff);const e=Pu("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}r.addTrace(af);const{p:e}=p,n=Dc(e.resources),i=[Ac(e.iss)],s=Ec(e.iss);if(n){const e=Rc(n),t=Mc(n);u.push(...e),i.push(...t)}for(const t of i)d.push("".concat(t,":").concat(s))}const h=await this.client.core.crypto.generateSharedKey(a,o);let f;if(r.addTrace(of),(null===u||void 0===u?void 0:u.length)>0){f={topic:h,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:ba(Wm),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:xu([...new Set(u)],[...new Set(d)]),transportType:s},r.addTrace(lf);try{await this.client.core.relayer.subscribe(h,{transportType:s})}catch(pe){throw r.setError(pf),pe}r.addTrace(uf),await this.client.session.set(h,f),r.addTrace(cf),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace(df);try{await this.sendResult({topic:c,id:t,result:{cacaos:n,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(pe){throw r.setError(gf),pe}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:f}})),ov(this,"rejectSessionAuthenticate",(async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error("Could not find pending auth request with id ".concat(t));r.transportType===th.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=au(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:n,encodeOpts:a,rpcOpts:Hm.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,Pu("USER_DISCONNECTED"))})),ov(this,"formatAuthMessage",(e=>{this.isInitialized();const{request:t,iss:n}=e;return Cc(t,n)})),ov(this,"processRelayMessageCache",(()=>{setTimeout((async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}}),50)})),ov(this,"cleanupDuplicatePairings",(async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter((n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic}));if(0===n.length)return;this.client.logger.info("Cleaning up ".concat(n.length," duplicate pairing(s)")),await Promise.all(n.map((e=>this.client.core.pairing.disconnect({topic:e.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}})),ov(this,"deleteSession",(async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,Pu("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(jm).catch((e=>this.client.logger.warn(e))),this.getPendingSessionRequests().forEach((e=>{e.topic===n&&this.deletePendingSessionRequest(e.id,Pu("USER_DISCONNECTED"))})),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=qm),i&&this.client.events.emit("session_delete",{id:s,topic:n})})),ov(this,"deleteProposal",(async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});null===n||void 0===n||n.setError(Xh)}catch(n){}await Promise.all([this.client.proposal.delete(e,Pu("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")})),ov(this,"deletePendingSessionRequest",(async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.pendingRequest.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)]),t.addToRecentlyDeleted(e,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter((t=>t.id!==e)),r&&(t.sessionRequestQueue.state=qm,t.client.events.emit("session_request_expire",{id:e}))})),ov(this,"deletePendingAuthRequest",(async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.auth.requests.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)])})),ov(this,"setExpiry",(async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))})),ov(this,"setProposal",(async(e,t)=>{this.client.core.expirer.set(e,ba(Hm.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)})),ov(this,"setAuthRequest",(async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=th.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})})),ov(this,"setPendingSessionRequest",(async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,s=r.request.expiryTimestamp||ba(Hm.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})})),ov(this,"sendRequest",(async e=>{const{topic:t,method:r,params:i,expiry:s,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:c,appLink:l,tvf:u}=e,d=md(r,i,a);let h;const f=!!l;try{const e=f?iu:ru;h=await this.client.core.crypto.encode(t,d,{encoding:e})}catch(Z){throw await this.cleanup(),this.client.logger.error("sendRequest() -> core.crypto.encode() for topic ".concat(t," failed")),Z}let p;if(Jm.includes(r)){const e=cu(JSON.stringify(d)),t=cu(h);p=await this.client.core.verify.register({id:t,decryptedId:e})}const g=Hm[r].req;if(g.attestation=p,s&&(g.ttl=s),o&&(g.id=o),this.client.core.history.set(t,d),f){const e=Su(l,t,h);await n.g.Linking.openURL(e,this.client.name)}else{const e=Hm[r].req;s&&(e.ttl=s),o&&(e.id=o),e.tvf=sv(iv({},u),{correlationId:d.id}),c?(e.internal=sv(iv({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,h,e)):this.client.core.relayer.publish(t,h,e).catch((e=>this.client.logger.error(e)))}return d.id})),ov(this,"sendResult",(async e=>{const{id:t,topic:r,result:i,throwOnFailedPublish:s,encodeOpts:o,appLink:a}=e,c=vd(t,i);let l;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?iu:ru;l=await this.client.core.crypto.encode(r,c,sv(iv({},o||{}),{encoding:e}))}catch(f){throw await this.cleanup(),this.client.logger.error("sendResult() -> core.crypto.encode() for topic ".concat(r," failed")),f}let d,h;try{d=await this.client.core.history.get(r,t);const e=d.request;try{this.shouldSetTVF(e.method,e.params)&&(h=this.getTVFParams(t,e.params,i))}catch(he){this.client.logger.warn("sendResult() -> getTVFParams() failed",he)}}catch(f){throw this.client.logger.error("sendResult() -> history.get(".concat(r,", ").concat(t,") failed")),f}if(u){const e=Su(a,r,l);await n.g.Linking.openURL(e,this.client.name)}else{const e=d.request.method,n=Hm[e].res;n.tvf=sv(iv({},h),{correlationId:t}),s?(n.internal=sv(iv({},n.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,l,n)):this.client.core.relayer.publish(r,l,n).catch((e=>this.client.logger.error(e)))}await this.client.core.history.resolve(c)})),ov(this,"sendError",(async e=>{const{id:t,topic:r,error:i,encodeOpts:s,rpcOpts:o,appLink:a}=e,c=yd(t,i);let l;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?iu:ru;l=await this.client.core.crypto.encode(r,c,sv(iv({},s||{}),{encoding:e}))}catch(fe){throw await this.cleanup(),this.client.logger.error("sendError() -> core.crypto.encode() for topic ".concat(r," failed")),fe}let d;try{d=await this.client.core.history.get(r,t)}catch(fe){throw this.client.logger.error("sendError() -> history.get(".concat(r,", ").concat(t,") failed")),fe}if(u){const e=Su(a,r,l);await n.g.Linking.openURL(e,this.client.name)}else{const e=d.request.method,t=o||Hm[e].res;this.client.core.relayer.publish(r,l,t)}await this.client.core.history.resolve(c)})),ov(this,"cleanup",(async()=>{const e=[],t=[];this.client.session.getAll().forEach((t=>{let n=!1;wa(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)})),this.client.proposal.getAll().forEach((e=>{wa(e.expiryTimestamp)&&t.push(e.id)})),await Promise.all([...e.map((e=>this.deleteSession({topic:e}))),...t.map((e=>this.deleteProposal(e)))])})),ov(this,"onProviderMessageEvent",(async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)})),ov(this,"onRelayEventRequest",(async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()})),ov(this,"processRequestsQueue",(async()=>{if(this.requestQueue.state!==Km){for(this.client.logger.info("Request queue starting with ".concat(this.requestQueue.queue.length," requests"));this.requestQueue.queue.length>0;){this.requestQueue.state=Km;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=qm}else this.client.logger.info("Request queue already active, skipping...")})),ov(this,"processRequest",(async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:s}=e,o=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});default:return this.client.logger.info("Unsupported request method ".concat(o))}})),ov(this,"onRelayEventResponse",(async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info("Unsupported response method ".concat(i))}})),ov(this,"onRelayEventUnknownPayload",(e=>{const{topic:t}=e,{message:n}=Tu("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response."));throw new Error(n)})),ov(this,"shouldIgnorePairingRequest",(e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n))&&!!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)})),ov(this,"onSessionProposeRequest",(async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:s,id:o}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),null!==e&&void 0!==e&&e.setError(zh)),this.isValidConnect(iv({},n.params));const a=s.expiryTimestamp||ba(Hm.wc_sessionPropose.req.ttl),c=iv({id:o,pairingTopic:t,expiryTimestamp:a},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:r,hash:cu(JSON.stringify(n)),encryptedId:i,metadata:c.proposer.metadata});null!==e&&void 0!==e&&e.addTrace(Dh),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(X){await this.sendError({id:o,topic:t,error:X,rpcOpts:Hm.wc_sessionPropose.autoReject}),this.client.logger.error(X)}})),ov(this,"onSessionProposeResponse",(async(e,t,n)=>{const{id:r}=t;if(Nd(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(r,{sessionTopic:c,pairingTopic:e,proposalId:r,publicKey:o});const l=await this.client.core.relayer.subscribe(c,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if(Td(t)){await this.client.proposal.delete(r,Pu("USER_DISCONNECTED"));const e=Aa("session_connect",r);if(0===this.events.listenerCount(e))throw new Error("emitting ".concat(e," without any listeners, 954"));this.events.emit(e,{error:t.error})}})),ov(this,"onSessionSettleRequest",(async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l}=t.params,u=[...this.pendingSessions.values()].find((t=>t.sessionTopic===e));if(!u)return this.client.logger.error("Pending session not found for topic ".concat(e));const d=this.client.proposal.get(u.proposalId),h=sv(iv(iv(iv({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:th.relay});await this.client.session.set(h.topic,h),await this.setExpiry(h.topic,h.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:h.peer.metadata}),this.client.events.emit("session_connect",{session:h}),this.events.emit(Aa("session_connect",u.proposalId),{session:h}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(h),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}})),ov(this,"onSessionSettleResponse",(async(e,t)=>{const{id:n}=t;Nd(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(Aa("session_approve",n),{})):Td(t)&&(await this.client.session.delete(e,Pu("USER_DISCONNECTED")),this.events.emit(Aa("session_approve",n),{error:t.error}))})),ov(this,"onSessionUpdateRequest",(async(e,t)=>{const{params:n,id:r}=t;try{const t="".concat(e,"_session_update"),i=$u.get(t);if(i&&this.isRequestOutOfSync(i,r))return this.client.logger.warn("Discarding out of sync request - ".concat(r)),void this.sendError({id:r,topic:e,error:Pu("INVALID_UPDATE_REQUEST")});this.isValidUpdate(iv({topic:e},n));try{$u.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0})}catch(se){throw $u.delete(t),se}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(i){await this.sendError({id:r,topic:e,error:i}),this.client.logger.error(i)}})),ov(this,"isRequestOutOfSync",((e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3))),ov(this,"onSessionUpdateResponse",((e,t)=>{const{id:n}=t,r=Aa("session_update",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));Nd(t)?this.events.emit(Aa("session_update",n),{}):Td(t)&&this.events.emit(Aa("session_update",n),{error:t.error})})),ov(this,"onSessionExtendRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,ba(Wm)),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(Ae){await this.sendError({id:n,topic:e,error:Ae}),this.client.logger.error(Ae)}})),ov(this,"onSessionExtendResponse",((e,t)=>{const{id:n}=t,r=Aa("session_extend",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));Nd(t)?this.events.emit(Aa("session_extend",n),{}):Td(t)&&this.events.emit(Aa("session_extend",n),{error:t.error})})),ov(this,"onSessionPingRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(Ae){await this.sendError({id:n,topic:e,error:Ae}),this.client.logger.error(Ae)}})),ov(this,"onSessionPingResponse",((e,t)=>{const{id:n}=t,r=Aa("session_ping",n);setTimeout((()=>{if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners 2176"));Nd(t)?this.events.emit(Aa("session_ping",n),{}):Td(t)&&this.events.emit(Aa("session_ping",n),{error:t.error})}),500)})),ov(this,"onSessionDeleteRequest",(async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise((t=>{this.client.core.relayer.once(Yd,(async()=>{t(await this.deleteSession({topic:e,id:n}))}))})),this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:Pu("USER_DISCONNECTED")})]).catch((e=>this.client.logger.error(e)))}catch(Ae){this.client.logger.error(Ae)}})),ov(this,"onSessionRequest",(async e=>{var t,n,r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest(iv({topic:i},u));const e=this.client.session.get(i),s={id:l,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:cu(JSON.stringify(md("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===th.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(fe){await this.sendError({id:l,topic:i,error:fe}),this.client.logger.error(fe)}})),ov(this,"onSessionRequestResponse",((e,t)=>{const{id:n}=t,r=Aa("session_request",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));Nd(t)?this.events.emit(Aa("session_request",n),{result:t.result}):Td(t)&&this.events.emit(Aa("session_request",n),{error:t.error})})),ov(this,"onSessionEventRequest",(async(e,t)=>{const{id:n,params:r}=t;try{const t="".concat(e,"_session_event_").concat(r.event.name),i=$u.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info("Discarding out of sync request - ".concat(n));this.isValidEmit(iv({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),$u.set(t,n)}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}})),ov(this,"onSessionAuthenticateResponse",((e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),Nd(t)?this.events.emit(Aa("session_request",n),{result:t.result}):Td(t)&&this.events.emit(Aa("session_request",n),{error:t.error})})),ov(this,"onSessionAuthenticateRequest",(async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=r.params,l=await this.getVerifyContext({attestationId:i,hash:cu(JSON.stringify(r)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:n,id:r.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:o}),o===th.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:l})}catch(X){this.client.logger.error(X);const t=r.params.requester.publicKey,i=await this.client.core.crypto.generateKeyPair(),s=this.getAppLinkIfEnabled(r.params.requester.metadata,o),a={type:1,receiverPublicKey:t,senderPublicKey:i};await this.sendError({id:r.id,topic:n,error:X,encodeOpts:a,rpcOpts:Hm.wc_sessionAuthenticate.autoReject,appLink:s})}})),ov(this,"addSessionRequestToSessionRequestQueue",(e=>{this.sessionRequestQueue.queue.push(e)})),ov(this,"cleanupAfterResponse",(e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=qm,this.processSessionRequestQueue()}),(0,w.toMiliseconds)(this.requestQueueDelay))})),ov(this,"cleanupPendingSentRequestsForTopic",(e=>{let{topic:t,error:n}=e;const r=this.client.core.history.pending;r.length>0&&r.filter((e=>e.topic===t&&"wc_sessionRequest"===e.request.method)).forEach((e=>{const t=Aa("session_request",e.request.id);if(0===this.events.listenerCount(t))throw new Error("emitting ".concat(t," without any listeners"));this.events.emit(Aa("session_request",e.request.id),{error:n})}))})),ov(this,"processSessionRequestQueue",(()=>{if(this.sessionRequestQueue.state===Km)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.sessionRequestQueue.state=Km,this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}else this.client.logger.info("session request queue is empty.")})),ov(this,"emitSessionRequest",(e=>{this.client.events.emit("session_request",e)})),ov(this,"onPairingCreated",(e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find((t=>t.pairingTopic===e.topic));t&&this.onSessionProposeRequest({topic:e.topic,payload:md("wc_sessionPropose",sv(iv({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})})),ov(this,"isValidConnect",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(e)));throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s,relays:o}=e;if(Mu(t)||await this.isValidPairingTopic(t),!function(e,t){let n=!1;return t&&!e?n=!0:e&&Ou(e)&&e.length&&e.forEach((e=>{n=Hu(e)})),n}(o,!0)){const{message:e}=Tu("MISSING_OR_INVALID","connect() relays: ".concat(o));throw new Error(e)}if(!Mu(n)&&0!==Ru(n)&&this.validateNamespaces(n,"requiredNamespaces"),!Mu(r)&&0!==Ru(r)&&this.validateNamespaces(r,"optionalNamespaces"),Mu(i)||this.validateSessionProps(i,"sessionProperties"),!Mu(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(s).every((t=>e.includes(t))))throw new Error("Scoped properties must be a subset of required/optional namespaces, received: ".concat(JSON.stringify(s),", required/optional namespaces: ").concat(JSON.stringify(e)))}})),ov(this,"validateNamespaces",((e,t)=>{const n=function(e,t,n){let r=null;if(e&&Ru(e)){const i=zu(e,t);i&&(r=i);const s=Fu(e,t,n);s&&(r=s)}else r=Tu("MISSING_OR_INVALID","".concat(t,", ").concat(n," should be an object with data"));return r}(e,"connect()",t);if(n)throw new Error(n.message)})),ov(this,"isValidApprove",(async e=>{if(!Vu(e))throw new Error(Tu("MISSING_OR_INVALID","approve() params: ".concat(e)).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=Wu(n,"approve()");if(a)throw new Error(a.message);const c=Ju(o.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!Du(r,!0)){const{message:e}=Tu("MISSING_OR_INVALID","approve() relayProtocol: ".concat(r));throw new Error(e)}if(Mu(i)||this.validateSessionProps(i,"sessionProperties"),!Mu(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(s).every((t=>e.has(t))))throw new Error("Scoped properties must be a subset of approved namespaces, received: ".concat(JSON.stringify(s),", approved namespaces: ").concat(Array.from(e).join(", ")))}})),ov(this,"isValidReject",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","reject() params: ".concat(e));throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!Uu(e.code,!1)||!e.message||!Du(e.message,!1))}(n)){const{message:e}=Tu("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(n)));throw new Error(e)}})),ov(this,"isValidSessionSettleRequest",(e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e));throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!Hu(t)){const{message:e}=Tu("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let n=null;return Du(null===e||void 0===e?void 0:e.publicKey,!1)||(n=Tu("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),n}(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=Wu(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(wa(i)){const{message:e}=Tu("EXPIRED","onSessionSettleRequest()");throw new Error(e)}})),ov(this,"isValidUpdate",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","update() params: ".concat(e));throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=Wu(n,"update()");if(i)throw new Error(i.message);const s=Ju(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)})),ov(this,"isValidExtend",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","extend() params: ".concat(e));throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)})),ov(this,"isValidRequest",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","request() params: ".concat(e));throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!qu(s,r)){const{message:e}=Tu("MISSING_OR_INVALID","request() chainId: ".concat(r));throw new Error(e)}if(!function(e){return!(Mu(e)||!Du(e.method,!1))}(n)){const{message:e}=Tu("MISSING_OR_INVALID","request() ".concat(JSON.stringify(n)));throw new Error(e)}if(!Ku(s,r,n.method)){const{message:e}=Tu("MISSING_OR_INVALID","request() method: ".concat(n.method));throw new Error(e)}if(i&&!function(e,t){return Uu(e,!1)&&e<=t.max&&e>=t.min}(i,Vm)){const{message:e}=Tu("MISSING_OR_INVALID","request() expiry: ".concat(i,". Expiry must be a number (in seconds) between ").concat(Vm.min," and ").concat(Vm.max));throw new Error(e)}})),ov(this,"isValidRespond",(async e=>{var t;if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","respond() params: ".concat(e));throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(i){throw null!=(t=null===e||void 0===e?void 0:e.response)&&t.id&&this.cleanupAfterResponse(e),i}if(!function(e){return!(Mu(e)||Mu(e.result)&&Mu(e.error)||!Uu(e.id,!1)||!Du(e.jsonrpc,!1))}(r)){const{message:e}=Tu("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(r)));throw new Error(e)}})),ov(this,"isValidPing",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)})),ov(this,"isValidEmit",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","emit() params: ".concat(e));throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!qu(i,r)){const{message:e}=Tu("MISSING_OR_INVALID","emit() chainId: ".concat(r));throw new Error(e)}if(!function(e){return!(Mu(e)||!Du(e.name,!1))}(n)){const{message:e}=Tu("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw new Error(e)}if(!Gu(i,r,n.name)){const{message:e}=Tu("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw new Error(e)}})),ov(this,"isValidDisconnect",(async e=>{if(!Vu(e)){const{message:t}=Tu("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)})),ov(this,"isValidAuthenticate",(e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!Du(n,!1))throw new Error("uri is required parameter");if(!Du(r,!1))throw new Error("domain is required parameter");if(!Du(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map((e=>Zo(e).namespace)))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=Zo(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")})),ov(this,"getVerifyContext",(async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||Sh,validation:"UNKNOWN",origin:i.url||""}};try{if(s===th.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(X){this.client.logger.warn(X)}return this.client.logger.debug("Verify context: ".concat(JSON.stringify(o))),o})),ov(this,"validateSessionProps",((e,t)=>{Object.values(e).forEach(((n,r)=>{if(null==n){const{message:i}=Tu("MISSING_OR_INVALID","".concat(t," must contain an existing value for each key. Received: ").concat(n," for key ").concat(Object.keys(e)[r]));throw new Error(i)}}))})),ov(this,"getPendingAuthRequest",(e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0})),ov(this,"addToRecentlyDeleted",((e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}})),ov(this,"checkRecentlyDeleted",(e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=Tu("MISSING_OR_INVALID","Record was recently deleted - ".concat(t,": ").concat(e));throw new Error(n)}})),ov(this,"isLinkModeEnabled",((e,t)=>{var r,i,s,o,a,c,l,u,d;return!(!e||t!==th.link_mode)&&(!0===(null==(i=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:i.linkMode)&&void 0!==(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)&&""!==(null==(c=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:c.universal)&&void 0!==(null==(l=null===e||void 0===e?void 0:e.redirect)?void 0:l.universal)&&""!==(null==(u=null===e||void 0===e?void 0:e.redirect)?void 0:u.universal)&&!0===(null==(d=null===e||void 0===e?void 0:e.redirect)?void 0:d.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==n.g?void 0:n.g.Linking)<"u")})),ov(this,"getAppLinkIfEnabled",((e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=null===e||void 0===e?void 0:e.redirect)?void 0:n.universal:void 0})),ov(this,"handleLinkModeMessage",(e=>{let{url:t}=e;if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const n=Ca(t,"topic")||"",r=decodeURIComponent(Ca(t,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:th.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:r,sessionExists:i})})),ov(this,"registerLinkModeListeners",(async()=>{var e;if(ka()||sa()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==n.g?void 0:n.g.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout((()=>{this.handleLinkModeMessage({url:t})}),50)}}})),ov(this,"shouldSetTVF",((e,t)=>{if(!t||"wc_sessionRequest"!==e)return!1;const{request:n}=t;return Object.keys(Gm).includes(n.method)})),ov(this,"getTVFParams",((e,t,n)=>{var r,i;try{const s=t.request.method,o=this.extractTxHashesFromResult(s,n);return sv(iv({correlationId:e,rpcMethods:[s],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[null==(i=null==(r=t.request.params)?void 0:r[0])?void 0:i.to]}),{txHashes:o})}catch(s){this.client.logger.warn("Error getting TVF params",s)}return{}})),ov(this,"isValidContractData",(e=>{var t;if(!e)return!1;try{const n=(null===e||void 0===e?void 0:e.data)||(null==(t=null===e||void 0===e?void 0:e[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0}catch(n){}return!1})),ov(this,"extractTxHashesFromResult",((e,t)=>{try{if("string"==typeof t)return[t];const n=t[Gm[e].key];if(Ou(n))return"solana_signAllTransactions"===e?n.map((e=>function(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(e,"base64").slice(1,65);return gs.A.encode(s)}(e))):n;if("string"==typeof n)return[n]}catch(S){this.client.logger.warn("Error extracting tx hashes from result",S)}return[]}))}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,i]of Object.entries(n))for(const t of i)try{await this.onProviderMessageEvent({topic:r,message:t,publishedAt:Date.now()})}catch(e){this.client.logger.warn("Error processing pending message event for topic: ".concat(r,", message: ").concat(t))}}catch(E){this.client.logger.warn("processPendingMessageEvents failed",E)}}isInitialized(){if(!this.initialized){const{message:e}=Tu("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Hd,(e=>{this.onProviderMessageEvent(e)}))}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(Qm)?this.client.auth.authKeys.get(Qm):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s,encoding:i===th.link_mode?iu:ru});xd(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:cu(n)})):Id(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,n)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(wh,(async e=>{const{topic:t,id:n}=ya(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,Tu("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,Tu("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))}))}registerPairingEvents(){this.client.core.pairing.events.on(uh,(e=>this.onPairingCreated(e))),this.client.core.pairing.events.on(hh,(e=>{this.addToRecentlyDeleted(e.topic,"pairing")}))}isValidPairingTopic(e){if(!Du(e,!1)){const{message:t}=Tu("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=Tu("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(wa(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=Tu("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}}async isValidSessionTopic(e){if(!Du(e,!1)){const{message:t}=Tu("MISSING_OR_INVALID","session topic should be a string: ".concat(e));throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=Tu("NO_MATCHING_KEY","session topic doesn't exist: ".concat(e));throw new Error(t)}if(wa(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=Tu("EXPIRED","session topic: ".concat(e));throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=Tu("MISSING_OR_INVALID","session topic does not exist in keychain: ".concat(e));throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(Du(e,!1)){const{message:t}=Tu("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(e));throw new Error(t)}{const{message:t}=Tu("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(e));throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=Tu("MISSING_OR_INVALID","proposal id should be a number: ".concat(e));throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=Tu("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(e));throw new Error(t)}if(wa(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=Tu("EXPIRED","proposal id: ".concat(e));throw new Error(t)}}}class cv extends rm{constructor(e,t){super(e,t,"proposal",Lm),this.core=e,this.logger=t}}class lv extends rm{constructor(e,t){super(e,t,"session",Lm),this.core=e,this.logger=t}}class uv extends rm{constructor(e,t){super(e,t,"request",Lm,(e=>e.id)),this.core=e,this.logger=t}}class dv extends rm{constructor(e,t){super(e,t,"authKeys",Ym,(()=>Qm)),this.core=e,this.logger=t}}class hv extends rm{constructor(e,t){super(e,t,"pairingTopics",Ym),this.core=e,this.logger=t}}class fv extends rm{constructor(e,t){super(e,t,"requests",Ym,(e=>e.id)),this.core=e,this.logger=t}}var pv=Object.defineProperty,gv=(e,t,n)=>((e,t,n)=>t in e?pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class mv{constructor(e,t){this.core=e,this.logger=t,gv(this,"authKeys"),gv(this,"pairingTopics"),gv(this,"requests"),this.authKeys=new dv(this.core,this.logger),this.pairingTopics=new hv(this.core,this.logger),this.requests=new fv(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var vv=Object.defineProperty,yv=(e,t,n)=>((e,t,n)=>t in e?vv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class bv extends Ee{constructor(e){super(e),yv(this,"protocol","wc"),yv(this,"version",2),yv(this,"name",Bm),yv(this,"metadata"),yv(this,"core"),yv(this,"logger"),yv(this,"events",new y.EventEmitter),yv(this,"engine"),yv(this,"session"),yv(this,"proposal"),yv(this,"pendingRequest"),yv(this,"auth"),yv(this,"signConfig"),yv(this,"on",((e,t)=>this.events.on(e,t))),yv(this,"once",((e,t)=>this.events.once(e,t))),yv(this,"off",((e,t)=>this.events.off(e,t))),yv(this,"removeListener",((e,t)=>this.events.removeListener(e,t))),yv(this,"removeAllListeners",(e=>this.events.removeAllListeners(e))),yv(this,"connect",(async e=>{try{return await this.engine.connect(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"pair",(async e=>{try{return await this.engine.pair(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"approve",(async e=>{try{return await this.engine.approve(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"reject",(async e=>{try{return await this.engine.reject(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"update",(async e=>{try{return await this.engine.update(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"extend",(async e=>{try{return await this.engine.extend(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"request",(async e=>{try{return await this.engine.request(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"respond",(async e=>{try{return await this.engine.respond(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"ping",(async e=>{try{return await this.engine.ping(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"emit",(async e=>{try{return await this.engine.emit(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"disconnect",(async e=>{try{return await this.engine.disconnect(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"find",(e=>{try{return this.engine.find(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"getPendingSessionRequests",(()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}})),yv(this,"authenticate",(async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(Ae){throw this.logger.error(Ae.message),Ae}})),yv(this,"formatAuthMessage",(e=>{try{return this.engine.formatAuthMessage(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"approveSessionAuthenticate",(async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(S){throw this.logger.error(S.message),S}})),yv(this,"rejectSessionAuthenticate",(async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(S){throw this.logger.error(S.message),S}})),this.name=(null===e||void 0===e?void 0:e.name)||Bm,this.metadata=(null===e||void 0===e?void 0:e.metadata)||la(),this.signConfig=null===e||void 0===e?void 0:e.signConfig;const t=typeof(null===e||void 0===e?void 0:e.logger)<"u"&&"string"!=typeof(null===e||void 0===e?void 0:e.logger)?e.logger:(0,ie.h6)((0,ie.iP)({level:(null===e||void 0===e?void 0:e.logger)||Fm}));this.core=(null===e||void 0===e?void 0:e.core)||new Dm(e),this.logger=(0,ie.U5)(t,this.name),this.session=new lv(this.core,this.logger),this.proposal=new cv(this.core,this.logger),this.pendingRequest=new uv(this.core,this.logger),this.engine=new av(this),this.auth=new mv(this.core,this.logger)}static async init(e){const t=new bv(e);return await t.initialize(),t}get context(){return(0,ie.oI)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout((()=>{this.engine.processRelayMessageCache()}),(0,w.toMiliseconds)(w.ONE_SECOND))}catch(E){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(E.message),E}}}var wv=n(9038),Av=n.n(wv),Ev=Object.defineProperty,Sv=Object.defineProperties,Cv=Object.getOwnPropertyDescriptors,_v=Object.getOwnPropertySymbols,kv=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,Iv=(e,t,n)=>t in e?Ev(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nv=(e,t)=>{for(var n in t||(t={}))kv.call(t,n)&&Iv(e,n,t[n]);if(_v)for(var n of _v(t))xv.call(t,n)&&Iv(e,n,t[n]);return e},Tv=(e,t)=>Sv(e,Cv(t));const Pv={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Ov{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new y.EventEmitter,this.isAvailable=!1,this.registering=!1,!Cd(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=(0,Y.h)(e),n=await(await Av()(this.url,Tv(Nv({},Pv),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!Cd(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()}))}))}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=(0,Y.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await Av()(e,Tv(Nv({},Pv),{body:t}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,Y.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=yd(e,n.message||n.toString());this.events.emit("payload",r)}parseError(e){return hd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Rv="error",Mv="".concat("wc","@2:").concat("universal_provider",":"),Dv="https://rpc.walletconnect.org/v1/",Uv="generic",Lv="".concat(Dv,"bundler"),Bv="default_chain_changed";function Fv(){}function jv(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function zv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wv(e){return"object"==typeof e&&null!==e}function Hv(e){return Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)))}function Vv(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const qv="[object RegExp]",Kv="[object String]",Gv="[object Number]",Jv="[object Boolean]",Yv="[object Arguments]",Qv="[object Symbol]",Zv="[object Date]",Xv="[object Map]",$v="[object Set]",ey="[object Array]",ty="[object ArrayBuffer]",ny="[object Object]",ry="[object DataView]",iy="[object Uint8Array]",sy="[object Uint8ClampedArray]",oy="[object Uint16Array]",ay="[object Uint32Array]",cy="[object Int8Array]",ly="[object Int16Array]",uy="[object Int32Array]",dy="[object Float32Array]",hy="[object Float64Array]";function fy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const s=null===i||void 0===i?void 0:i(e,t,n,r);if(null!=s)return s;if(jv(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=fy(e[s],s,n,r,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[s,o]of e)t.set(s,fy(o,s,n,r,i));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const s of e)t.add(fy(s,void 0,n,r,i));return t}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(zv(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=fy(e[s],s,n,r,i);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),py(t,e,n,r,i),t}if(typeof File<"u"&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),py(t,e,n,r,i),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),py(t,e,n,r,i),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,py(t,e,n,r,i),t}if("object"==typeof e&&function(e){switch(Vv(e)){case Yv:case ey:case ty:case ry:case Jv:case Zv:case dy:case hy:case cy:case ly:case uy:case Xv:case Gv:case ny:case qv:case $v:case Kv:case Qv:case iy:case sy:case oy:case ay:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),py(t,e,n,r,i),t}return e}function py(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...Hv(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=fy(t[a],a,n,r,i))}}function gy(e,t){return function(e,t){return fy(e,void 0,e,new Map,t)}(e,((n,r,i,s)=>{const o=null===t||void 0===t?void 0:t(n,r,i,s);if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case Gv:case Kv:case Jv:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return py(t,e),t}case Yv:{const t={};return py(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}}))}function my(e){return gy(e)}function vy(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===Vv(e)}function yy(e){return zv(e)}function by(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];return!(null==n||null===(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))||void 0===t||!t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function wy(e,t,n,r){if(jv(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(r.has(t))return function(e){if(jv(e))return e;if(Array.isArray(e)||zv(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const t=new n(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const t=new n(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){const n=Object.create(t);return Object.assign(n,e)}return e}(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++){var i;t[e]=null!==(i=t[e])&&void 0!==i?i:void 0}}const s=[...Object.keys(t),...Hv(t)];for(let o=0;o<s.length;o++){const i=s[o];let a=t[i],c=e[i];if(vy(a)&&(a=(0,v.A)({},a)),vy(c)&&(c=(0,v.A)({},c)),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=my(a)),Array.isArray(a))if("object"==typeof c&&null!=c){const e=[],t=Reflect.ownKeys(c);for(let n=0;n<t.length;n++){const r=t[n];e[r]=c[r]}c=e}else c=[];const l=n(c,a,i,e,t,r);null!=l?e[i]=l:Array.isArray(a)||Wv(c)&&Wv(a)?e[i]=wy(c,a,n,r):null==c&&by(a)?e[i]=wy({},a,n,r):null==c&&yy(a)?e[i]=my(a):(void 0===c||void 0!==a)&&(e[i]=a)}return e}function Ay(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.slice(0,-1),s=n[n.length-1];let o=e;for(let a=0;a<i.length;a++)o=wy(o,i[a],s,new Map);return o}(e,...n,Fv)}var Ey=Object.defineProperty,Sy=Object.defineProperties,Cy=Object.getOwnPropertyDescriptors,_y=Object.getOwnPropertySymbols,ky=Object.prototype.hasOwnProperty,xy=Object.prototype.propertyIsEnumerable,Iy=(e,t,n)=>t in e?Ey(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ny=(e,t)=>{for(var n in t||(t={}))ky.call(t,n)&&Iy(e,n,t[n]);if(_y)for(var n of _y(t))xy.call(t,n)&&Iy(e,n,t[n]);return e},Ty=(e,t)=>Sy(e,Cy(t));function Py(e,t,n){var r;const i=Zo(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||"".concat(Dv,"?chainId=").concat(i.namespace,":").concat(i.reference,"&projectId=").concat(n)}function Oy(e){return e.includes(":")?e.split(":")[1]:e}function Ry(e){return e.map((e=>"".concat(e.split(":")[0],":").concat(e.split(":")[1])))}function My(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ay(Dy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Dy(e))}function Dy(e){var t,n,r,i;const s={};if(!Ru(e))return s;for(const[o,a]of Object.entries(e)){const e=_u(o)?[o]:a.chains,c=a.methods||[],l=a.events||[],u=a.rpcMap||{},d=ku(o);s[d]=Ty(Ny(Ny({},s[d]),a),{chains:Ea(e,null==(t=s[d])?void 0:t.chains),methods:Ea(c,null==(n=s[d])?void 0:n.methods),events:Ea(l,null==(r=s[d])?void 0:r.events),rpcMap:Ny(Ny({},u),null==(i=s[d])?void 0:i.rpcMap)})}return s}function Uy(e){return e.includes(":")?e.split(":")[2]:e}function Ly(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],s=r.accounts||[],o=_u(n)?[n]:r.chains?r.chains:Ry(r.accounts);t[n]={chains:o,methods:e,events:i,accounts:s}}return t}function By(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const Fy={},jy=e=>Fy[e],zy=(e,t)=>{Fy[e]=t};var Wy=Object.defineProperty,Hy=(e,t,n)=>((e,t,n)=>t in e?Wy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Vy{constructor(e){Hy(this,"name","polkadot"),Hy(this,"client"),Hy(this,"httpProviders"),Hy(this,"events"),Hy(this,"namespace"),Hy(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Bv,"".concat(this.name,":").concat(e))}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Oy(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Pd(new Ov(n,jy("disableProviderPing")))}}var qy=Object.defineProperty,Ky=Object.defineProperties,Gy=Object.getOwnPropertyDescriptors,Jy=Object.getOwnPropertySymbols,Yy=Object.prototype.hasOwnProperty,Qy=Object.prototype.propertyIsEnumerable,Zy=(e,t,n)=>t in e?qy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xy=(e,t)=>{for(var n in t||(t={}))Yy.call(t,n)&&Zy(e,n,t[n]);if(Jy)for(var n of Jy(t))Qy.call(t,n)&&Zy(e,n,t[n]);return e},$y=(e,t)=>Ky(e,Gy(t)),eb=(e,t,n)=>Zy(e,"symbol"!=typeof t?t+"":t,n);class tb{constructor(e){eb(this,"name","eip155"),eb(this,"client"),eb(this,"chainId"),eb(this,"namespace"),eb(this,"httpProviders"),eb(this,"events"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(Bv,"".concat(this.name,":").concat(e))}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||Py("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Pd(new Ov(n,jy("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=parseInt(Oy(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:"0x".concat(r);const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain("".concat(i));else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error("Failed to switch to chain 'eip155:".concat(i,"'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method."));await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain("".concat(i))}return null}isChainApproved(e){return this.namespace.chains.includes("".concat(this.name,":").concat(e))}async getCapabilities(e){var t,n,r;const i=null==(n=null==(t=e.request)?void 0:t.params)?void 0:n[0];if(!i)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const s=this.client.session.get(e.topic),o=(null==(r=null===s||void 0===s?void 0:s.sessionProperties)?void 0:r.capabilities)||{};if(null!=o&&o[i])return null===o||void 0===o?void 0:o[i];const a=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:$y(Xy({},s.sessionProperties||{}),{capabilities:$y(Xy({},o||{}),{[i]:a})})})}catch(le){console.warn("Failed to update session with capabilities",le)}return a}async getCallStatus(e){var t,n;const r=this.client.session.get(e.topic),i=null==(t=r.sessionProperties)?void 0:t.bundler_name;if(i){const t=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(t,e)}catch(re){console.warn("Failed to fetch call status from bundler",re,t)}}const s=null==(n=r.sessionProperties)?void 0:n.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch($){console.warn("Failed to fetch call status from custom bundler",$,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var n;const r=new URL(e),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(md("eth_getUserOperationReceipt",[null==(n=t.request.params)?void 0:n[0]]))});if(!i.ok)throw new Error("Failed to fetch user operation receipt - ".concat(i.status));return await i.json()}getBundlerUrl(e,t){return"".concat(Lv,"?projectId=").concat(this.client.core.projectId,"&chainId=").concat(e,"&bundler=").concat(t)}}var nb=Object.defineProperty,rb=(e,t,n)=>((e,t,n)=>t in e?nb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ib{constructor(e){rb(this,"name","solana"),rb(this,"client"),rb(this,"httpProviders"),rb(this,"events"),rb(this,"namespace"),rb(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Bv,"".concat(this.name,":").concat(e))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Oy(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Pd(new Ov(n,jy("disableProviderPing")))}}var sb=Object.defineProperty,ob=(e,t,n)=>((e,t,n)=>t in e?sb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ab{constructor(e){ob(this,"name","cosmos"),ob(this,"client"),ob(this,"httpProviders"),ob(this,"events"),ob(this,"namespace"),ob(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Bv,"".concat(this.name,":").concat(this.chainId))}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Oy(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Pd(new Ov(n,jy("disableProviderPing")))}}var cb=Object.defineProperty,lb=(e,t,n)=>((e,t,n)=>t in e?cb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ub{constructor(e){lb(this,"name","algorand"),lb(this,"client"),lb(this,"httpProviders"),lb(this,"events"),lb(this,"namespace"),lb(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const n=t||Py("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Bv,"".concat(this.name,":").concat(this.chainId))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;e[t]=this.createHttpProvider(t,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Pd(new Ov(n,jy("disableProviderPing")))}}var db=Object.defineProperty,hb=(e,t,n)=>((e,t,n)=>t in e?db(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class fb{constructor(e){hb(this,"name","cip34"),hb(this,"client"),hb(this,"httpProviders"),hb(this,"events"),hb(this,"namespace"),hb(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Bv,"".concat(this.name,":").concat(this.chainId))}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=this.getCardanoRPCUrl(t),r=Oy(t);e[r]=this.createHttpProvider(r,n)})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||this.getCardanoRPCUrl(e);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Pd(new Ov(n,jy("disableProviderPing")))}}var pb=Object.defineProperty,gb=(e,t,n)=>((e,t,n)=>t in e?pb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class mb{constructor(e){gb(this,"name","elrond"),gb(this,"client"),gb(this,"httpProviders"),gb(this,"events"),gb(this,"namespace"),gb(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Bv,"".concat(this.name,":").concat(e))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Oy(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Pd(new Ov(n,jy("disableProviderPing")))}}var vb=Object.defineProperty,yb=(e,t,n)=>((e,t,n)=>t in e?vb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class bb{constructor(e){yb(this,"name","multiversx"),yb(this,"client"),yb(this,"httpProviders"),yb(this,"events"),yb(this,"namespace"),yb(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Bv,"".concat(this.name,":").concat(e))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Oy(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Pd(new Ov(n,jy("disableProviderPing")))}}var wb=Object.defineProperty,Ab=(e,t,n)=>((e,t,n)=>t in e?wb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Eb{constructor(e){Ab(this,"name","near"),Ab(this,"client"),Ab(this,"httpProviders"),Ab(this,"events"),Ab(this,"namespace"),Ab(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||Py("".concat(this.name,":").concat(e),this.namespace);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,n)}this.events.emit(Bv,"".concat(this.name,":").concat(this.chainId))}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;e[t]=this.createHttpProvider(t,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace);return typeof n>"u"?void 0:new Pd(new Ov(n,jy("disableProviderPing")))}}var Sb=Object.defineProperty,Cb=(e,t,n)=>((e,t,n)=>t in e?Sb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class _b{constructor(e){Cb(this,"name","tezos"),Cb(this,"client"),Cb(this,"httpProviders"),Cb(this,"events"),Cb(this,"namespace"),Cb(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||Py("".concat(this.name,":").concat(e),this.namespace);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,n)}this.events.emit(Bv,"".concat(this.name,":").concat(this.chainId))}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{e[t]=this.createHttpProvider(t)})),e}getHttpProvider(){const e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace);return typeof n>"u"?void 0:new Pd(new Ov(n))}}var kb=Object.defineProperty,xb=(e,t,n)=>((e,t,n)=>t in e?kb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Ib{constructor(e){xb(this,"name",Uv),xb(this,"client"),xb(this,"httpProviders"),xb(this,"events"),xb(this,"namespace"),xb(this,"chainId"),this.namespace=e.namespace,this.events=jy("events"),this.client=jy("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Bv,"".concat(this.name,":").concat(e))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){var e,t;const n={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach((e=>{const t=Zo(e);n["".concat(t.namespace,":").concat(t.reference)]=this.createHttpProvider(e)})),n}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Py(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Pd(new Ov(n,jy("disableProviderPing")))}}var Nb=Object.defineProperty,Tb=Object.defineProperties,Pb=Object.getOwnPropertyDescriptors,Ob=Object.getOwnPropertySymbols,Rb=Object.prototype.hasOwnProperty,Mb=Object.prototype.propertyIsEnumerable,Db=(e,t,n)=>t in e?Nb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ub=(e,t)=>{for(var n in t||(t={}))Rb.call(t,n)&&Db(e,n,t[n]);if(Ob)for(var n of Ob(t))Mb.call(t,n)&&Db(e,n,t[n]);return e},Lb=(e,t)=>Tb(e,Pb(t)),Bb=(e,t,n)=>Db(e,"symbol"!=typeof t?t+"":t,n);class Fb{constructor(e){Bb(this,"client"),Bb(this,"namespaces"),Bb(this,"optionalNamespaces"),Bb(this,"sessionProperties"),Bb(this,"scopedProperties"),Bb(this,"events",new(b())),Bb(this,"rpcProviders",{}),Bb(this,"session"),Bb(this,"providerOpts"),Bb(this,"logger"),Bb(this,"uri"),Bb(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(null===e||void 0===e?void 0:e.logger)<"u"&&"string"!=typeof(null===e||void 0===e?void 0:e.logger)?e.logger:(0,ie.h6)((0,ie.iP)({level:(null===e||void 0===e?void 0:e.logger)||Rv})),this.disableProviderPing=(null===e||void 0===e?void 0:e.disableProviderPing)||!1}static async init(e){const t=new Fb(e);return await t.initialize(),t}async request(e,t,n){const[r,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:Ub({},e),chainId:"".concat(r,":").concat(i),topic:this.session.topic,expiry:n})}sendAsync(e,t,n,r){const i=(new Date).getTime();this.request(e,n,r).then((e=>t(null,vd(i,e)))).catch((e=>t(e,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:Pu("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:r}=await this.client.authenticate(e,t);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();if(this.session=i.session,this.session){const e=Ly(this.session.namespaces);this.namespaces=My(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const r=await n();this.session=r;const i=Ly(r.namespaces);return this.namespaces=My(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e),i=this.getProvider(n);i.name===Uv?i.setDefaultChain("".concat(n,":").concat(r),t):i.setDefaultChain(r,t)}catch(Ae){if(!/Please call connect/.test(Ae.message))throw Ae}}async cleanupPendingPairings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(Ou(t)){for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info("Inactive pairings cleared: ".concat(t.length))}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await bv.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Rv,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(Ae){throw this.logger.error("Failed to get session",Ae),new Error("The provided session: ".concat(null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic," doesn't exist in the Sign client"))}else{const e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map((e=>ku(e))))];zy("client",this.client),zy("events",this.events),zy("disableProviderPing",this.disableProviderPing),e.forEach((e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter((t=>t.includes(e)));if(!n.length)return[];const r=[];return n.forEach((e=>{const n=t.namespaces[e].accounts;r.push(...n)})),r}(e,this.session),n=Ry(t),r=My(this.namespaces,this.optionalNamespaces),i=Lb(Ub({},r[e]),{accounts:t,chains:n});switch(e){case"eip155":this.rpcProviders[e]=new tb({namespace:i});break;case"algorand":this.rpcProviders[e]=new ub({namespace:i});break;case"solana":this.rpcProviders[e]=new ib({namespace:i});break;case"cosmos":this.rpcProviders[e]=new ab({namespace:i});break;case"polkadot":this.rpcProviders[e]=new Vy({namespace:i});break;case"cip34":this.rpcProviders[e]=new fb({namespace:i});break;case"elrond":this.rpcProviders[e]=new mb({namespace:i});break;case"multiversx":this.rpcProviders[e]=new bb({namespace:i});break;case"near":this.rpcProviders[e]=new Eb({namespace:i});break;case"tezos":this.rpcProviders[e]=new _b({namespace:i});break;default:this.rpcProviders[Uv]?this.rpcProviders[Uv].updateNamespace(i):this.rpcProviders[Uv]=new Ib({namespace:i})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(e=>{var t;const{topic:n}=e;n===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)})),this.client.on("session_event",(e=>{var t;const{params:n,topic:r}=e;if(r!==(null==(t=this.session)?void 0:t.topic))return;const{event:i}=n;if("accountsChanged"===i.name){const e=i.data;e&&Ou(e)&&this.events.emit("accountsChanged",e.map(Uy))}else if("chainChanged"===i.name){const e=n.chainId,t=n.event.data,r=ku(e),i=By(e)!==By(t)?"".concat(r,":").concat(By(t)):e;this.onChainChanged(i)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)})),this.client.on("session_update",(e=>{let{topic:t,params:n}=e;var r,i;if(t!==(null==(r=this.session)?void 0:r.topic))return;const{namespaces:s}=n,o=null==(i=this.client)?void 0:i.session.get(t);this.session=Lb(Ub({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})})),this.client.on("session_delete",(async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Lb(Ub({},Pu("USER_DISCONNECTED")),{data:e.topic})))})),this.on(Bv,(e=>{this.onChainChanged(e,!0)}))}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Uv]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])}))}setNamespaces(e){const{namespaces:t,optionalNamespaces:n,sessionProperties:r,scopedProperties:i}=e;t&&Object.keys(t).length&&(this.namespaces=t),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=r,this.scopedProperties=i}validateChain(e){const[t,n]=(null===e||void 0===e?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map((e=>ku(e))).includes(t))throw new Error("Namespace '".concat(t,"' is not configured. Please call connect() first with namespace config."));if(t&&n)return[t,n];const r=ku(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.namespaces)return;const[n,r]=this.validateChain(e);r&&(t||this.getProvider(n).setDefaultChain(r),this.namespaces[n]?this.namespaces[n].defaultChain=r:this.namespaces["".concat(n,":").concat(r)]?this.namespaces["".concat(n,":").concat(r)].defaultChain=r:this.namespaces["".concat(n,":").concat(r)]={defaultChain:r},this.events.emit("chainChanged",r),await this.persist("namespaces",this.namespaces))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var n;const r=(null==(n=this.session)?void 0:n.topic)||"";await this.client.core.storage.setItem("".concat(Mv,"/").concat(e).concat(r),t)}async getFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem("".concat(Mv,"/").concat(e).concat(n))}async deleteFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem("".concat(Mv,"/").concat(e).concat(n))}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const e of t)e.startsWith(Mv)&&await this.client.core.storage.removeItem(e)}catch(t){this.logger.warn("Failed to cleanup storage",t)}}}},2538:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});const r=/^0x(?:[0-9A-Fa-f]{64})$/,i=/^0x(?:[0-9A-Fa-f]{62,})$/;var s=n(9979),o=n(7887);const a=3e4,c={checkIfAllowedToTriggerEmail(){const e=o.o.get(s.s1.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<a){const e=Math.ceil((a-t)/1e3);throw new Error("Please try again after ".concat(e," seconds"))}}},getTimeToNextEmailLogin(){const e=o.o.get(s.s1.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<a)return Math.ceil((a-t)/1e3)}return 0},checkIfRequestExists:e=>s.Vl.NOT_SAFE_RPC_METHODS.includes(e.method)||s.Vl.SAFE_RPC_METHODS.includes(e.method),getResponseType:e=>"string"===typeof e&&((null===e||void 0===e?void 0:e.match(r))||(null===e||void 0===e?void 0:e.match(i)))?s.s1.RPC_RESPONSE_TYPE_TX:s.s1.RPC_RESPONSE_TYPE_OBJECT,checkIfRequestIsSafe:e=>s.Vl.SAFE_RPC_METHODS.includes(e.method),isClient:"undefined"!==typeof window}},2624:(e,t,n)=>{"use strict";t.sha1=n(2236),t.sha224=n(3291),t.sha256=n(3410),t.sha384=n(4282),t.sha512=n(2155)},2629:(e,t,n)=>{"use strict";var r=n(7643),i=n(5482);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,s=8;s<this.padLength;s++)r[i++]=0;return r}},2658:function(e){e.exports=function(){"use strict";return function(e,t,n){n.updateLocale=function(e,t){var r=n.Ls[e];if(r)return(t?Object.keys(t):[]).forEach((function(e){r[e]=t[e]})),r}}}()},2661:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var r=n(9379),i=n(574),s=n(6844),o=n(7038),a=n(4657);const c={getFeatureValue(e,t){const n=null===t||void 0===t?void 0:t[e];return void 0===n?o.oU.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(a.w.isTelegram()){if(a.w.isIos())return e.filter((e=>"google"!==e));if(a.w.isMac())return e.filter((e=>"x"!==e));if(a.w.isAndroid())return e.filter((e=>!["facebook","x"].includes(e)))}return e}},l=(0,i.BX)({features:o.oU.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:o.oU.DEFAULT_ACCOUNT_TYPES}),u={state:l,subscribeKey:(e,t)=>(0,s.u$)(l,e,t),setOptions(e){Object.assign(l,e)},setFeatures(e){if(!e)return;l.features||(l.features=o.oU.DEFAULT_FEATURES);const t=(0,r.A)((0,r.A)({},l.features),e);l.features=t,l.features.socials&&(l.features.socials=c.filterSocialsByPlatform(l.features.socials))},setProjectId(e){l.projectId=e},setCustomRpcUrls(e){l.customRpcUrls=e},setAllWallets(e){l.allWallets=e},setIncludeWalletIds(e){l.includeWalletIds=e},setExcludeWalletIds(e){l.excludeWalletIds=e},setFeaturedWalletIds(e){l.featuredWalletIds=e},setTokens(e){l.tokens=e},setTermsConditionsUrl(e){l.termsConditionsUrl=e},setPrivacyPolicyUrl(e){l.privacyPolicyUrl=e},setCustomWallets(e){l.customWallets=e},setIsSiweEnabled(e){l.isSiweEnabled=e},setIsUniversalProvider(e){l.isUniversalProvider=e},setSdkVersion(e){l.sdkVersion=e},setMetadata(e){l.metadata=e},setDisableAppend(e){l.disableAppend=e},setEIP6963Enabled(e){l.enableEIP6963=e},setDebug(e){l.debug=e},setEnableWalletConnect(e){l.enableWalletConnect=e},setEnableWalletGuide(e){l.enableWalletGuide=e},setEnableAuthLogger(e){l.enableAuthLogger=e},setEnableWallets(e){l.enableWallets=e},setHasMultipleAddresses(e){l.hasMultipleAddresses=e},setSIWX(e){l.siwx=e},setConnectMethodsOrder(e){l.features=(0,r.A)((0,r.A)({},l.features),{},{connectMethodsOrder:e})},setWalletFeaturesOrder(e){l.features=(0,r.A)((0,r.A)({},l.features),{},{walletFeaturesOrder:e})},setSocialsOrder(e){l.features=(0,r.A)((0,r.A)({},l.features),{},{socials:e})},setCollapseWallets(e){l.features=(0,r.A)((0,r.A)({},l.features),{},{collapseWallets:e})},setEnableEmbedded(e){l.enableEmbedded=e},setAllowUnsupportedChain(e){l.allowUnsupportedChain=e},setManualWCControl(e){l.manualWCControl=e},setDefaultAccountTypes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach((e=>{let[t,n]=e;n&&(l.defaultAccountTypes[t]=n)}))},getSnapshot:()=>(0,i.P9)(l)}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},2819:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});const r={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"}},3005:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(9379),i=n(2661),s=n(3939),o=n(8861),a=n(4657),c=n(6496),l=n(629),u=n(1391);const d={filterOutDuplicatesByRDNS(e){const t=i.H.state.enableEIP6963?s.a.state.connectors:[],n=o.i.getRecentWallets(),r=t.map((e=>{var t;return null===(t=e.info)||void 0===t?void 0:t.rdns})).filter(Boolean),c=n.map((e=>e.rdns)).filter(Boolean),l=r.concat(c);if(l.includes("io.metamask.mobile")&&a.w.isMobile()){const e=l.indexOf("io.metamask.mobile");l[e]="io.metamask"}return e.filter((e=>!l.includes(String(null===e||void 0===e?void 0:e.rdns))))},filterOutDuplicatesByIds(e){const t=s.a.state.connectors.filter((e=>"ANNOUNCED"===e.type||"INJECTED"===e.type)),n=o.i.getRecentWallets(),r=t.map((e=>e.explorerId)),i=n.map((e=>e.id)),a=r.concat(i);return e.filter((e=>!a.includes(null===e||void 0===e?void 0:e.id)))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=s.a.state,n=t.filter((e=>"ANNOUNCED"===e.type)).reduce(((e,t)=>{var n;return null!==(n=t.info)&&void 0!==n&&n.rdns?(e[t.info.rdns]=!0,e):e}),{});return e.map((e=>{var t;return(0,r.A)((0,r.A)({},e),{},{installed:Boolean(e.rdns)&&Boolean(n[null!==(t=e.rdns)&&void 0!==t?t:""])})})).sort(((e,t)=>Number(t.installed)-Number(e.installed)))},getConnectOrderMethod(e,t){var n;const r=(null===e||void 0===e?void 0:e.connectMethodsOrder)||(null===(n=i.H.state.features)||void 0===n?void 0:n.connectMethodsOrder),o=t||s.a.state.connectors;if(r)return r;const{injected:a,announced:d}=l.g.getConnectorsByType(o,c.N.state.recommended,c.N.state.featured),h=a.filter(l.g.showConnector),f=d.filter(l.g.showConnector);return h.length||f.length?["wallet","email","social"]:u.o.DEFAULT_CONNECT_METHOD_ORDER}}},3022:(e,t,n)=>{"use strict";n.d(t,{x:()=>m});var r=n(574),i=n(6844),s=n(4657),o=n(3237),a=n(8861),c=n(5814),l=n(3939),u=n(9323),d=n(3609),h=n(1139),f=n(8231);const p=(0,r.BX)({wcError:!1,buffering:!1,status:"disconnected"});let g;const m={state:p,subscribeKey:(e,t)=>(0,i.u$)(p,e,t),_getClient:()=>p._client,setClient(e){p._client=(0,r.KR)(e)},async connectWalletConnect(){if(s.w.isTelegram()||s.w.isSafari()&&s.w.isIos()){var e,t;if(g)return await g,void(g=void 0);if(!s.w.isPairingExpired(null===p||void 0===p?void 0:p.wcPairingExpiry)){const e=p.wcUri;return void(p.wcUri=e)}g=null===(e=this._getClient())||void 0===e||null===(t=e.connectWalletConnect)||void 0===t?void 0:t.call(e).catch((()=>{})),this.state.status="connecting",await g,g=void 0,p.wcPairingExpiry=void 0,this.state.status="connected"}else{var n,r;await(null===(n=this._getClient())||void 0===n||null===(r=n.connectWalletConnect)||void 0===r?void 0:r.call(n))}},async connectExternal(e,t){var n,r;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];await(null===(n=this._getClient())||void 0===n||null===(r=n.connectExternal)||void 0===r?void 0:r.call(n,e)),i&&c.W.setActiveNamespace(t)},async reconnectExternal(e){var t,n;await(null===(t=this._getClient())||void 0===t||null===(n=t.reconnectExternal)||void 0===n?void 0:n.call(t,e));const r=e.chain||c.W.state.activeChain;r&&l.a.setConnectorId(e.id,r)},async setPreferredAccountType(e){var t;d.W.setLoading(!0,c.W.state.activeChain);const n=l.a.getAuthConnector();n&&(await(null===n||void 0===n?void 0:n.provider.setPreferredAccount(e)),await this.reconnectExternal(n),d.W.setLoading(!1,c.W.state.activeChain),u.E.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:(null===(t=c.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)||""}}))},async signMessage(e){var t;return null===(t=this._getClient())||void 0===t?void 0:t.signMessage(e)},parseUnits(e,t){var n;return null===(n=this._getClient())||void 0===n?void 0:n.parseUnits(e,t)},formatUnits(e,t){var n;return null===(n=this._getClient())||void 0===n?void 0:n.formatUnits(e,t)},async sendTransaction(e){var t;return null===(t=this._getClient())||void 0===t?void 0:t.sendTransaction(e)},async getCapabilities(e){var t;return null===(t=this._getClient())||void 0===t?void 0:t.getCapabilities(e)},async grantPermissions(e){var t;return null===(t=this._getClient())||void 0===t?void 0:t.grantPermissions(e)},async walletGetAssets(e){var t,n;return null!==(t=null===(n=this._getClient())||void 0===n?void 0:n.walletGetAssets(e))&&void 0!==t?t:{}},async estimateGas(e){var t;return null===(t=this._getClient())||void 0===t?void 0:t.estimateGas(e)},async writeContract(e){var t;return null===(t=this._getClient())||void 0===t?void 0:t.writeContract(e)},async getEnsAddress(e){var t;return null===(t=this._getClient())||void 0===t?void 0:t.getEnsAddress(e)},async getEnsAvatar(e){var t;return null===(t=this._getClient())||void 0===t?void 0:t.getEnsAvatar(e)},checkInstalled(e){var t,n;return(null===(t=this._getClient())||void 0===t||null===(n=t.checkInstalled)||void 0===n?void 0:n.call(t,e))||!1},resetWcConnection(){p.wcUri=void 0,p.wcPairingExpiry=void 0,p.wcLinking=void 0,p.recentWallet=void 0,p.status="disconnected",f.W.resetTransactions(),a.i.deleteWalletConnectDeepLink()},resetUri(){p.wcUri=void 0,p.wcPairingExpiry=void 0},finalizeWcConnection(){var e;const{wcLinking:t,recentWallet:n}=m.state;t&&a.i.setWalletConnectDeepLink(t),n&&a.i.setAppKitRecent(n),u.E.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:(null===(e=h.I.state.data)||void 0===e||null===(e=e.wallet)||void 0===e?void 0:e.name)||"Unknown"}})},setWcBasic(e){p.wcBasic=e},setUri(e){p.wcUri=e,p.wcPairingExpiry=s.w.getPairingExpiry()},setWcLinking(e){p.wcLinking=e},setWcError(e){p.wcError=e,p.buffering=!1},setRecentWallet(e){p.recentWallet=e},setBuffering(e){p.buffering=e},setStatus(e){p.status=e},async disconnect(e){try{d.W.setLoading(!0,e),await o.U.clearSessions(),await c.W.disconnect(e),d.W.setLoading(!1,e),l.a.setFilterByNamespace(void 0)}catch(t){throw new Error("Failed to disconnect")}}}},3035:(e,t,n)=>{"use strict";var r=n(6373),i=n(6864),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},3144:(e,t,n)=>{"use strict";n.d(t,{R:()=>_});var r=n(574),i=n(6844),s=n(8833);const o=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],a=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var c=n(883);const l=e=>c.o.USDT_CONTRACT_ADDRESSES.includes(e)?a:o;var u=n(9979),d=n(7038),h=n(4657),f=n(9379),p=n(595),g=n(5618),m=n(5814),v=n(3022),y=n(306);const b={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:"native"===e.address?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance(e){let{hex:t,decimals:n}=e;return(0,y.J)(BigInt(t),n)},convertAddressToCAIP10Address:(e,t)=>"".concat(t,":").concat(e),createCAIP2ChainId:(e,t)=>"".concat(t,":").concat(parseInt(e,16)),getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":"0x".concat(r.toString(16))},isWalletGetAssetsResponse(e){return"object"===typeof e&&null!==e&&Object.values(e).every((e=>Array.isArray(e)&&e.every((e=>this.isValidAsset(e)))))},isValidAsset:e=>"object"===typeof e&&null!==e&&"string"===typeof e.address&&"string"===typeof e.balance&&("ERC20"===e.type||"NATIVE"===e.type)&&"object"===typeof e.metadata&&null!==e.metadata&&"string"===typeof e.metadata.name&&"string"===typeof e.metadata.symbol&&"number"===typeof e.metadata.decimals&&"number"===typeof e.metadata.price&&"string"===typeof e.metadata.iconUrl},w={async getMyTokensWithBalance(e){const t=p.U.state.address,n=m.W.state.activeCaipNetwork;if(!t||!n)return[];if("eip155"===n.chainNamespace){const e=await this.getEIP155Balances(t,n);if(e)return this.filterLowQualityTokens(e)}const r=await g.T.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(e,t){try{var n;const r=b.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),i=await v.x.getCapabilities(e);if(null===i||void 0===i||null===(n=i[r])||void 0===n||null===(n=n.assetDiscovery)||void 0===n||!n.supported)return null;const s=await v.x.walletGetAssets({account:e,chainFilter:[r]});if(!b.isWalletGetAssetsResponse(s))return null;return(s[r]||[]).map((e=>b.createBalance(e,t.caipNetworkId)))}catch(r){return null}},filterLowQualityTokens:e=>e.filter((e=>"0"!==e.quantity.decimals)),mapBalancesToSwapTokens:e=>(null===e||void 0===e?void 0:e.map((e=>(0,f.A)((0,f.A)({},e),{},{address:null!==e&&void 0!==e&&e.address?e.address:m.W.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))))||[]};var A=n(9323),E=n(1139),S=n(7258);const C=(0,r.BX)({tokenBalances:[],loading:!1}),_={state:C,subscribe:e=>(0,r.B1)(C,(()=>e(C))),subscribeKey:(e,t)=>(0,i.u$)(C,e,t),setToken(e){e&&(C.token=(0,r.KR)(e))},setTokenAmount(e){C.sendTokenAmount=e},setReceiverAddress(e){C.receiverAddress=e},setReceiverProfileImageUrl(e){C.receiverProfileImageUrl=e},setReceiverProfileName(e){C.receiverProfileName=e},setGasPrice(e){C.gasPrice=e},setGasPriceInUsd(e){C.gasPriceInUSD=e},setNetworkBalanceInUsd(e){C.networkBalanceInUSD=e},setLoading(e){C.loading=e},sendToken(){var e;switch(null===(e=m.W.state.activeCaipNetwork)||void 0===e?void 0:e.chainNamespace){case"eip155":return void this.sendEvmToken();case"solana":return void this.sendSolanaToken();default:throw new Error("Unsupported chain")}},sendEvmToken(){var e,t,n;if(null!==(e=this.state.token)&&void 0!==e&&e.address&&this.state.sendTokenAmount&&this.state.receiverAddress)A.E.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:p.U.state.preferredAccountType===u.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:(null===(n=m.W.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals});else if(this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&null!==(t=this.state.token)&&void 0!==t&&t.quantity.decimals){var r,i;A.E.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:p.U.state.preferredAccountType===u.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:null===(r=this.state.token)||void 0===r?void 0:r.symbol,amount:this.state.sendTokenAmount,network:(null===(i=m.W.state.activeCaipNetwork)||void 0===i?void 0:i.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals})}},async fetchTokenBalance(e){var t,n;C.loading=!0;const r=null===(t=m.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId,i=null===(n=m.W.state.activeCaipNetwork)||void 0===n?void 0:n.chainNamespace,s=m.W.state.activeCaipAddress,o=s?h.w.getPlainAddress(s):void 0;if(C.lastRetry&&!h.w.isAllowedRetry(C.lastRetry,30*d.oU.ONE_SEC_MS))return C.loading=!1,[];try{if(o&&r&&i){const e=await w.getMyTokensWithBalance();return C.tokenBalances=e,C.lastRetry=void 0,e}}catch(a){C.lastRetry=Date.now(),null===e||void 0===e||e(a),S.P.showError("Token Balance Unavailable")}finally{C.loading=!1}return[]},fetchNetworkBalance(){if(0===C.tokenBalances.length)return;const e=w.mapBalancesToSwapTokens(C.tokenBalances);if(!e)return;const t=e.find((e=>e.address===m.W.getActiveNetworkTokenAddress()));t&&(C.networkBalanceInUSD=t?s.S.multiply(t.quantity.numeric,t.price).toString():"0")},isInsufficientNetworkTokenForGas(e,t){const n=t||"0";return!!s.S.bigNumber(e).eq(0)||s.S.bigNumber(s.S.bigNumber(n)).gt(e)},hasInsufficientGasFunds(){let e=!0;return p.U.state.preferredAccountType===u.Vl.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:C.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(C.networkBalanceInUSD,C.gasPriceInUSD)),e},async sendNativeToken(e){E.I.pushTransactionStack({view:"Account",goBack:!1});const t=e.receiverAddress,n=p.U.state.address,r=v.x.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));try{var i,s;await v.x.sendTransaction({chainNamespace:"eip155",to:t,address:n,data:"0x",value:null!==r&&void 0!==r?r:BigInt(0),gasPrice:e.gasPrice}),S.P.showSuccess("Transaction started"),A.E.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:p.U.state.preferredAccountType===u.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:(null===(i=this.state.token)||void 0===i?void 0:i.symbol)||"",amount:e.sendTokenAmount,network:(null===(s=m.W.state.activeCaipNetwork)||void 0===s?void 0:s.caipNetworkId)||""}}),this.resetSend()}catch(c){var o,a;console.error("SendController:sendERC20Token - failed to send native token",c);const t=c instanceof Error?c.message:"Unknown error";A.E.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:t,isSmartAccount:p.U.state.preferredAccountType===u.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:(null===(o=this.state.token)||void 0===o?void 0:o.symbol)||"",amount:e.sendTokenAmount,network:(null===(a=m.W.state.activeCaipNetwork)||void 0===a?void 0:a.caipNetworkId)||""}}),S.P.showError("Something went wrong")}},async sendERC20Token(e){E.I.pushTransactionStack({view:"Account",goBack:!1});const t=v.x.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));try{if(p.U.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const n=h.w.getPlainAddress(e.tokenAddress);await v.x.writeContract({fromAddress:p.U.state.address,tokenAddress:n,args:[e.receiverAddress,null!==t&&void 0!==t?t:BigInt(0)],method:"transfer",abi:l(n),chainNamespace:"eip155"}),S.P.showSuccess("Transaction started"),this.resetSend()}}catch(i){var n,r;console.error("SendController:sendERC20Token - failed to send erc20 token",i);const t=i instanceof Error?i.message:"Unknown error";A.E.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:t,isSmartAccount:p.U.state.preferredAccountType===u.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:(null===(n=this.state.token)||void 0===n?void 0:n.symbol)||"",amount:e.sendTokenAmount,network:(null===(r=m.W.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId)||""}}),S.P.showError("Something went wrong")}},sendSolanaToken(){this.state.sendTokenAmount&&this.state.receiverAddress?(E.I.pushTransactionStack({view:"Account",goBack:!1}),v.x.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then((()=>{this.resetSend(),p.U.fetchTokenBalance()})).catch((e=>{S.P.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",e)}))):S.P.showError("Please enter a valid amount and receiver address")},resetSend(){C.token=void 0,C.sendTokenAmount=void 0,C.receiverAddress=void 0,C.receiverProfileImageUrl=void 0,C.receiverProfileName=void 0,C.loading=!1,C.tokenBalances=[]}}},3237:(e,t,n)=>{"use strict";n.d(t,{U:()=>m});var r=n(9379),i=(n(2424),n(883)),s=n(9979),o=n(595),a=n(5814),c=n(3022),l=n(3939),u=n(9323),d=n(3609),h=n(2661),f=n(1139),p=n(7258),g=n(4657);const m={getSIWX:()=>h.H.state.siwx,async initializeIfEnabled(){const e=h.H.state.siwx,t=a.W.getActiveCaipAddress();if(!e||!t)return;const[n,r,i]=t.split(":");if(a.W.checkIfSupportedNetwork(n))try{if((await e.getSessions("".concat(n,":").concat(r),i)).length)return;await d.W.open({view:"SIWXSignMessage"})}catch(o){var s;console.error("SIWXUtil:initializeIfEnabled",o),u.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await(null===(s=c.x._getClient())||void 0===s?void 0:s.disconnect().catch(console.error)),f.I.reset("Connect"),p.P.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=h.H.state.siwx,t=g.w.getPlainAddress(a.W.getActiveCaipAddress()),n=a.W.getActiveCaipNetwork(),r=c.x._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),o=s.toString();l.a.getConnectorId(n.chainNamespace)===i.o.CONNECTOR_ID.AUTH&&f.I.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await r.signMessage(o);await e.addSession({data:s,message:o,signature:a}),d.W.close(),u.E.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const e=this.getSIWXEventProperties();d.W.state.open&&"ApproveTransaction"!==f.I.state.view||await d.W.open({view:"SIWXSignMessage"}),e.isSmartAccount?p.P.showError("This application might not support Smart Accounts"):p.P.showError("Signature declined"),u.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:e}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){try{var e;const t=this.getSIWX();(null===t||void 0===t||null===(e=t.getRequired)||void 0===e?void 0:e.call(t))?await c.x.disconnect():d.W.close(),f.I.reset("Connect"),u.E.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getSessions(){const e=h.H.state.siwx,t=g.w.getPlainAddress(a.W.getActiveCaipAddress()),n=a.W.getActiveCaipNetwork();return e&&t&&n?e.getSessions(n.caipNetworkId,t):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const n="ApproveTransaction"===f.I.state.view,r="SIWXSignMessage"===f.I.state.view;var t;if(n||r)return(null===(t=e.getRequired)||void 0===t?void 0:t.call(e))&&0===(await this.getSessions()).length}return!1},async universalProviderAuthenticate(e){var t,n,i;let{universalProvider:s,chains:c,methods:l}=e;const d=m.getSIWX(),h=new Set(c.map((e=>e.split(":")[0])));if(!d||1!==h.size||!h.has("eip155"))return!1;const f=await d.createMessage({chainId:(null===(t=a.W.getActiveCaipNetwork())||void 0===t?void 0:t.caipNetworkId)||"",accountAddress:""}),g=await s.authenticate({nonce:f.nonce,domain:f.domain,uri:f.uri,exp:f.expirationTime,iat:f.issuedAt,nbf:f.notBefore,requestId:f.requestId,version:f.version,resources:f.resources,statement:f.statement,chainId:f.chainId,methods:l,chains:[f.chainId,...c.filter((e=>e!==f.chainId))]});if(p.P.showLoading("Authenticating...",{autoClose:!1}),o.U.setConnectedWalletInfo((0,r.A)((0,r.A)({},g.session.peer.metadata),{},{name:g.session.peer.metadata.name,icon:null===(n=g.session.peer.metadata.icons)||void 0===n?void 0:n[0],type:"WALLET_CONNECT"}),Array.from(h)[0]),null!==g&&void 0!==g&&null!==(i=g.auths)&&void 0!==i&&i.length){const e=g.auths.map((e=>{const t=s.client.formatAuthMessage({request:e.p,iss:e.p.iss});return{data:(0,r.A)((0,r.A)({},e.p),{},{accountAddress:e.p.iss.split(":").slice(-1).join(""),chainId:e.p.iss.split(":").slice(2,4).join(":"),uri:e.p.aud,version:e.p.version||f.version,expirationTime:e.p.exp,issuedAt:e.p.iat,notBefore:e.p.nbf}),message:t,signature:e.s.s,cacao:e}}));try{await d.setSessions(e),u.E.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:m.getSIWXEventProperties()})}catch(v){throw console.error("SIWX:universalProviderAuth - failed to set sessions",v),u.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:m.getSIWXEventProperties()}),await s.disconnect().catch(console.error),v}finally{p.P.hide()}}return!0},getSIWXEventProperties(){var e;return{network:(null===(e=a.W.state.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId)||"",isSmartAccount:o.U.state.preferredAccountType===s.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}}},3291:(e,t,n)=>{"use strict";var r=n(7643),i=n(3410);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},3410:(e,t,n)=>{"use strict";var r=n(7643),i=n(2629),s=n(1510),o=n(5482),a=r.sum32,c=r.sum32_4,l=r.sum32_5,u=s.ch32,d=s.maj32,h=s.s0_256,f=s.s1_256,p=s.g0_256,g=s.g1_256,m=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(y,m),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(g(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],s=this.h[1],m=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],A=this.h[7];for(o(this.k.length===n.length),r=0;r<n.length;r++){var E=l(A,f(y),u(y,b,w),this.k[r],n[r]),S=a(h(i),d(i,s,m));A=w,w=b,b=y,y=a(v,E),v=m,m=s,s=i,i=a(E,S)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],A)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},3513:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}}}()},3542:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(574),i=n(6844),s=n(2661);const o=(0,r.BX)({message:"",variant:"info",open:!1}),a={state:o,subscribeKey:(e,t)=>(0,i.u$)(o,e,t),open(e,t){const{debug:n}=s.H.state,{shortMessage:r,longMessage:i}=e;n&&(o.message=r,o.variant=t,o.open=!0),i&&console.error("function"===typeof i?i():i)},close(){o.open=!1,o.message="",o.variant="info"}}},3609:(e,t,n)=>{"use strict";n.d(t,{W:()=>m});var r=n(574),i=n(6844),s=n(4657),o=n(595),a=n(6496),c=n(5814),l=n(3022),u=n(3939),d=n(9323),h=n(2661),f=n(4098),p=n(1139);const g=(0,r.BX)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),m={state:g,subscribe:e=>(0,r.B1)(g,(()=>e(g))),subscribeKey:(e,t)=>(0,i.u$)(g,e,t),async open(e){var t;const n="connected"===o.U.state.status;l.x.state.wcBasic?a.N.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await a.N.prefetch({fetchConnectorImages:!n,fetchFeaturedWallets:!n,fetchRecommendedWallets:!n}),null!==e&&void 0!==e&&e.namespace?(await c.W.switchActiveNamespace(e.namespace),m.setLoading(!0,e.namespace)):m.setLoading(!0),u.a.setFilterByNamespace(null===e||void 0===e?void 0:e.namespace);const r=null===(t=c.W.getAccountData(null===e||void 0===e?void 0:e.namespace))||void 0===t?void 0:t.caipAddress;c.W.state.noAdapters&&!r?s.w.isMobile()?p.I.reset("AllWallets"):p.I.reset("ConnectingWalletConnectBasic"):null!==e&&void 0!==e&&e.view?p.I.reset(e.view):r?p.I.reset("Account"):p.I.reset("Connect"),g.open=!0,f.z.set({open:!0}),d.E.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:Boolean(r)}})},close(){const e=h.H.state.enableEmbedded,t=Boolean(c.W.state.activeCaipAddress);g.open&&d.E.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),g.open=!1,m.clearLoading(),e?t?p.I.replace("Account"):p.I.push("Connect"):f.z.set({open:!1}),l.x.resetUri()},setLoading(e,t){t&&g.loadingNamespaceMap.set(t,e),g.loading=e,f.z.set({loading:e})},clearLoading(){g.loadingNamespaceMap.clear(),g.loading=!1},shake(){g.shake||(g.shake=!0,setTimeout((()=>{g.shake=!1}),500))}}},3697:(e,t,n)=>{var r=t;r.utils=n(7643),r.common=n(2629),r.sha=n(2624),r.ripemd=n(1859),r.hmac=n(7355),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},3776:()=>{},3793:(e,t,n)=>{"use strict";n.d(t,{f:()=>m});var r=n(9379),i=n(574),s=n(6844);const o=2147483648,a={convertEVMChainIdToCoinType(e){if(e>=o)throw new Error("Invalid chainId");return(o|e)>>>0}};var c=n(8861),l=n(595),u=n(5618),d=n(5814),h=n(3022),f=n(3939),p=n(1139);const g=(0,i.BX)({suggestions:[],loading:!1}),m={state:g,subscribe:e=>(0,i.B1)(g,(()=>e(g))),subscribeKey:(e,t)=>(0,s.u$)(g,e,t),async resolveName(e){try{return await u.T.lookupEnsName(e)}catch(n){var t;throw new Error((null===n||void 0===n||null===(t=n.reasons)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.description)||"Error resolving name")}},async isNameRegistered(e){try{return await u.T.lookupEnsName(e),!0}catch(t){return!1}},async getSuggestions(e){try{g.loading=!0,g.suggestions=[];const t=await u.T.getEnsNameSuggestions(e);return g.suggestions=t.suggestions.map((e=>(0,r.A)((0,r.A)({},e),{},{name:e.name})))||[],g.suggestions}catch(t){const e=this.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(e)}finally{g.loading=!1}},async getNamesForAddress(e){try{if(!d.W.state.activeCaipNetwork)return[];const t=c.i.getEnsFromCacheForAddress(e);if(t)return t;const n=await u.T.reverseLookupEnsName({address:e});return c.i.updateEnsCache({address:e,ens:n,timestamp:Date.now()}),n}catch(t){const e=this.parseEnsApiError(t,"Error fetching names for address");throw new Error(e)}},async registerName(e){const t=d.W.state.activeCaipNetwork;if(!t)throw new Error("Network not found");const n=l.U.state.address,r=f.a.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");g.loading=!0;try{const r=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});p.I.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){g.loading=!1}});const i=await h.x.signMessage(r),s=t.id;if(!s)throw new Error("Network not found");const o=a.convertEVMChainIdToCoinType(Number(s));await u.T.registerEnsName({coinType:o,address:n,signature:i,message:r}),l.U.setProfileName(e,t.chainNamespace),p.I.replace("RegisterAccountNameSuccess")}catch(i){const t=this.parseEnsApiError(i,"Error registering name ".concat(e));throw p.I.replace("RegisterAccountName"),new Error(t)}finally{g.loading=!1}},validateName:e=>/^[\x2D0-9A-Za-z]{4,}$/.test(e),parseEnsApiError(e,t){var n;return(null===e||void 0===e||null===(n=e.reasons)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.description)||t}}},3801:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var r=n(9379),i=n(595),s=n(5618),o=n(5814),a=n(3022);const c={async getTokenList(){var e;const t=o.W.state.activeCaipNetwork,n=await s.T.fetchSwapTokens({chainId:null===t||void 0===t?void 0:t.caipNetworkId});return(null===n||void 0===n||null===(e=n.tokens)||void 0===e?void 0:e.map((e=>(0,r.A)((0,r.A)({},e),{},{eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))))||[]},async fetchGasPrice(){var e;const t=o.W.state.activeCaipNetwork;if(!t)return null;try{if("solana"===t.chainNamespace){const t=null===(e=await(null===a.x||void 0===a.x?void 0:a.x.estimateGas({chainNamespace:"solana"})))||void 0===e?void 0:e.toString();return{standard:t,fast:t,instant:t}}return await s.T.fetchGasPrice({chainId:t.caipNetworkId})}catch(n){return null}},async fetchSwapAllowance(e){let{tokenAddress:t,userAddress:n,sourceTokenAmount:r,sourceTokenDecimals:i}=e;const o=await s.T.fetchSwapAllowance({tokenAddress:t,userAddress:n});if(null!==o&&void 0!==o&&o.allowance&&r&&i){const e=a.x.parseUnits(r,i)||0;return BigInt(o.allowance)>=e}return!1},async getMyTokensWithBalance(e){const t=i.U.state.address,n=o.W.state.activeCaipNetwork;if(!t||!n)return[];const r=(await s.T.getBalance(t,n.caipNetworkId,e)).balances.filter((e=>"0"!==e.quantity.decimals));return i.U.setTokenBalance(r,o.W.state.activeChain),this.mapBalancesToSwapTokens(r)},mapBalancesToSwapTokens:e=>(null===e||void 0===e?void 0:e.map((e=>(0,r.A)((0,r.A)({},e),{},{address:null!==e&&void 0!==e&&e.address?e.address:o.W.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))))||[]}},3901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1344);r.__exportStar(n(5871),t),r.__exportStar(n(1822),t),r.__exportStar(n(1067),t),r.__exportStar(n(8251),t)},3939:(e,t,n)=>{"use strict";n.d(t,{a:()=>v});var r=n(9379),i=n(574),s=n(6844),o=n(883),a=n(5347),c=n(5814);const l={handleSolanaDeeplinkRedirect(e){if(c.W.state.activeChain===o.o.CHAIN.SOLANA){const t=window.location.href,n=encodeURIComponent(t);if("Phantom"===e&&!("phantom"in window)){const e=t.startsWith("https")?"https":"http",r=t.split("/")[2],i=encodeURIComponent("".concat(e,"://").concat(r));window.location.href="https://phantom.app/ul/browse/".concat(n,"?ref=").concat(i)}"Coinbase Wallet"!==e||"coinbaseSolana"in window||(window.location.href="https://go.cb-w.com/dapp?cb_url=".concat(n))}}};var u=n(8861),d=n(6496),h=n(2661),f=n(1139),p=n(6141);const g={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},m=(0,i.BX)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:(0,r.A)({},g)}),v={state:m,subscribe:e=>(0,i.B1)(m,(()=>{e(m)})),subscribeKey:(e,t)=>(0,s.u$)(m,e,t),initialize(e){e.forEach((e=>{const t=u.i.getConnectedConnectorId(e);t&&this.setConnectorId(t,e)}))},setActiveConnector(e){e&&(m.activeConnector=(0,i.KR)(e))},setConnectors(e){e.filter((e=>!m.allConnectors.some((t=>t.id===e.id&&this.getConnectorName(t.name)===this.getConnectorName(e.name)&&t.chain===e.chain)))).forEach((e=>{"MULTI_CHAIN"!==e.type&&m.allConnectors.push((0,i.KR)(e))})),m.connectors=this.mergeMultiChainConnectors(m.allConnectors)},removeAdapter(e){m.allConnectors=m.allConnectors.filter((t=>t.chain!==e)),m.connectors=this.mergeMultiChainConnectors(m.allConnectors)},mergeMultiChainConnectors(e){const t=this.generateConnectorMapByName(e),n=[];return t.forEach((e=>{const t=e[0],r=(null===t||void 0===t?void 0:t.id)===o.o.CONNECTOR_ID.AUTH;e.length>1&&t?n.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:[...e],type:r?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(null===t||void 0===t?void 0:t.id)||""}):t&&n.push(t)})),n},generateConnectorMapByName(e){const t=new Map;return e.forEach((e=>{const{name:n}=e,r=this.getConnectorName(n);if(!r)return;const i=t.get(r)||[];i.find((t=>t.chain===e.chain))||i.push(e),t.set(r,i)})),t},getConnectorName(e){if(!e)return e;return{"Trust Wallet":"Trust"}[e]||e},getUniqueConnectorsByName(e){const t=[];return e.forEach((e=>{t.find((t=>t.chain===e.chain))||t.push(e)})),t},addConnector(e){if(e.id===o.o.CONNECTOR_ID.AUTH){var t,n,r;const s=e,o=(0,i.P9)(h.H.state),c=p.W.getSnapshot().themeMode,l=p.W.getSnapshot().themeVariables;null===s||void 0===s||null===(t=s.provider)||void 0===t||null===(n=t.syncDappData)||void 0===n||n.call(t,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType}),null===s||void 0===s||null===(r=s.provider)||void 0===r||r.syncTheme({themeMode:c,themeVariables:l,w3mThemeVariables:(0,a.o)(l,c)}),this.setConnectors([e])}else this.setConnectors([e])},getAuthConnector(e){var t;const n=e||c.W.state.activeChain,r=m.connectors.find((e=>e.id===o.o.CONNECTOR_ID.AUTH));if(r){if(null!==r&&void 0!==r&&null!==(t=r.connectors)&&void 0!==t&&t.length){return r.connectors.find((e=>e.chain===n))}return r}},getAnnouncedConnectorRdns:()=>m.connectors.filter((e=>"ANNOUNCED"===e.type)).map((e=>{var t;return null===(t=e.info)||void 0===t?void 0:t.rdns})),getConnectorById:e=>m.allConnectors.find((t=>t.id===e)),getConnector:(e,t)=>m.allConnectors.filter((e=>e.chain===c.W.state.activeChain)).find((n=>{var r;return n.explorerId===e||(null===(r=n.info)||void 0===r?void 0:r.rdns)===t})),syncIfAuthConnector(e){var t,n;if("ID_AUTH"!==e.id)return;const r=e,s=(0,i.P9)(h.H.state),o=p.W.getSnapshot().themeMode,c=p.W.getSnapshot().themeVariables;null===r||void 0===r||null===(t=r.provider)||void 0===t||null===(n=t.syncDappData)||void 0===n||n.call(t,{metadata:s.metadata,sdkVersion:s.sdkVersion,sdkType:s.sdkType,projectId:s.projectId}),r.provider.syncTheme({themeMode:o,themeVariables:c,w3mThemeVariables:(0,a.o)(c,o)})},getConnectorsByNamespace(e){const t=m.allConnectors.filter((t=>t.chain===e));return this.mergeMultiChainConnectors(t)},selectWalletConnector(e){const t=v.getConnector(e.id,e.rdns);c.W.state.activeChain===o.o.CHAIN.SOLANA&&l.handleSolanaDeeplinkRedirect((null===t||void 0===t?void 0:t.name)||e.name||""),t?f.I.push("ConnectingExternal",{connector:t}):f.I.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?this.getConnectorsByNamespace(e):this.mergeMultiChainConnectors(m.allConnectors)},setFilterByNamespace(e){m.filterByNamespace=e,m.connectors=this.getConnectors(e),d.N.setFilterByNamespace(e)},setConnectorId(e,t){e&&(m.activeConnectorIds=(0,r.A)((0,r.A)({},m.activeConnectorIds),{},{[t]:e}),u.i.setConnectedConnectorId(t,e))},removeConnectorId(e){m.activeConnectorIds=(0,r.A)((0,r.A)({},m.activeConnectorIds),{},{[e]:void 0}),u.i.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return m.activeConnectorIds[e]},isConnected:e=>e?Boolean(m.activeConnectorIds[e]):Object.values(m.activeConnectorIds).some((e=>Boolean(e))),resetConnectorIds(){m.activeConnectorIds=(0,r.A)({},g)}}},3986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})},4098:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(9379),i=n(574);const s=(0,i.BX)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),o={state:s,subscribe:e=>(0,i.B1)(s,(()=>e(s))),set(e){Object.assign(s,(0,r.A)((0,r.A)({},s),e))}}},4282:(e,t,n)=>{"use strict";var r=n(7643),i=n(2155);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||g}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var A=w.prototype=new b;A.constructor=w,m(A,y.prototype),A.isPureReactComponent=!0;var E=Array.isArray;function S(){}var C={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function k(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return T((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+N(e,0):s,E(o)?(i="",null!=u&&(i=u.replace(I,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(x(o)&&(c=o,l=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+u,o=k(c.type,l,c.props)),t.push(o)),1;u=0;var d,f=""===s?".":s+":";if(E(e))for(var g=0;g<e.length;g++)u+=T(s=e[g],t,i,a=f+N(s,g),o);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,a=f+N(s,g++),o);else if("object"===a){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},M={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=M,t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!_.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return k(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return k(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,R)}catch(s){R(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useEffectEvent=function(e){return C.H.useEffectEvent(e)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.2.0"},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4564:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3986);const i=["headers","signal","cache"],s=["headers","signal"],o=["body","headers","signal"],a=["body","headers","signal"],c=["body","headers","signal"];async function l(){const e=await fetch(...arguments);if(!e.ok){throw new Error("HTTP status code: ".concat(e.status),{cause:e})}return e}class u{constructor(e){let{baseUrl:t,clientId:n}=e;this.baseUrl=t,this.clientId=n}async get(e){let{headers:t,signal:n,cache:s}=e,o=(0,r.A)(e,i);const a=this.createUrl(o);return(await l(a,{method:"GET",headers:t,signal:n,cache:s})).json()}async getBlob(e){let{headers:t,signal:n}=e,i=(0,r.A)(e,s);const o=this.createUrl(i);return(await l(o,{method:"GET",headers:t,signal:n})).blob()}async post(e){let{body:t,headers:n,signal:i}=e,s=(0,r.A)(e,o);const a=this.createUrl(s);return(await l(a,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:i})).json()}async put(e){let{body:t,headers:n,signal:i}=e,s=(0,r.A)(e,a);const o=this.createUrl(s);return(await l(o,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:i})).json()}async delete(e){let{body:t,headers:n,signal:i}=e,s=(0,r.A)(e,c);const o=this.createUrl(s);return(await l(o,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:i})).json()}createUrl(e){let{path:t,params:n}=e;const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach((e=>{let[t,n]=e;n&&r.searchParams.append(t,n)})),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}},4657:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(883),i=n(7038),s=n(8861);const o={isMobile(){var e;return!!this.isClient()&&Boolean((null===(e=window)||void 0===e||null===(e=e.matchMedia("(pointer:coarse)"))||void 0===e?void 0:e.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent))},checkCaipNetwork(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null===e||void 0===e?void 0:e.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){var e;if(!this.isMobile())return!1;const t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return o.isMobile()&&t.includes("android")},isIos(){var e;if(!this.isMobile())return!1;const t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){var e;if(!this.isClient())return!1;return(null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>"undefined"!==typeof window,isPairingExpired:e=>!e||e-Date.now()<=i.oU.TEN_SEC_MS,isAllowedRetry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.oU.ONE_SEC_MS;return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{var e,t;return(null===(e=window)||void 0===e?void 0:e.self)!==(null===(t=window)||void 0===t?void 0:t.top)}catch(n){return!1}},getPairingExpiry:()=>Date.now()+i.oU.FOUR_MINUTES_MS,getNetworkId:e=>null===e||void 0===e?void 0:e.split(":")[1],getPlainAddress:e=>null===e||void 0===e?void 0:e.split(":")[2],wait:async e=>new Promise((t=>{setTimeout(t,e)})),debounce(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t&&clearTimeout(t),t=setTimeout((function(){e(...i)}),n)}},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),formatNativeUrl(e,t){if(o.isHttpUrl(e))return this.formatUniversalUrl(e,t);let n=e;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n="".concat(n,"://")),n.endsWith("/")||(n="".concat(n,"/")),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const r=encodeURIComponent(t);return{redirect:"".concat(n,"wc?uri=").concat(r),href:n}},formatUniversalUrl(e,t){if(!o.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n="".concat(n,"/"));const r=encodeURIComponent(t);return{redirect:"".concat(n,"wc?uri=").concat(r),href:n}},getOpenTargetForPlatform(e){return"popupWindow"===e?e:this.isTelegram()?s.i.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){var r;null===(r=window)||void 0===r||r.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){var r;return null===(r=window)||void 0===r?void 0:r.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram:()=>"undefined"!==typeof window&&(Boolean(window.TelegramWebviewProxy)||Boolean(window.Telegram)||Boolean(window.TelegramWebviewProxyProto)),async preloadImage(e){const t=new Promise(((t,n)=>{const r=new Image;r.onload=t,r.onerror=n,r.crossOrigin="anonymous",r.src=e}));return Promise.race([t,o.wait(2e3)])},formatBalance(e,t){let n="0.000";if("string"===typeof e){const t=Number(e);if(t){const e=Math.floor(1e3*t)/1e3;e&&(n=e.toString())}}return"".concat(n).concat(t?" ".concat(t):"")},formatBalance2(e,t){let n;if("0"===e)n="0";else if("string"===typeof e){const t=Number(e);var r;if(t)n=null===(r=t.toString().match(/^-?[0-9]+(?:\.[0-9]{0,3})?/))||void 0===r?void 0:r[0]}return{value:null!==n&&void 0!==n?n:"0",rest:"0"===n?"000":"",symbol:t}},getApiUrl:()=>r.o.W3M_API_URL,getBlockchainApiUrl:()=>r.o.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>r.o.PULSE_API_URL,getUUID(){var e;return null!==(e=crypto)&&void 0!==e&&e.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},parseError(e){var t;return"string"===typeof e?e:"string"===typeof(null===e||void 0===e||null===(t=e.issues)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message)?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n={};return t&&e&&(e.forEach(((e,t)=>{n[e]=t})),t.sort(((e,t)=>{const r=n[e.id],i=n[t.id];return void 0!==r&&void 0!==i?r-i:void 0!==r?-1:void 0!==i?1:0}))),t},calculateBalance(e){let t=0;for(const r of e){var n;t+=null!==(n=r.value)&&void 0!==n?n:0}return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"eip155"){case"eip155":return!!/^(?:0x)?[0-9a-f]{40}$/i.test(e)&&!(!/^(?:0x)?[0-9a-f]{40}$/i.test(e)&&!/^(?:0x)?[0-9A-F]{40}$/i.test(e));case"solana":return/[1-9A-HJ-NP-Za-km-z\u017F\u212A]{32,44}$/i.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter((e=>{const r=e[t];return!n.has(r)&&(n.add(r),!0)}))},generateSdkVersion(e,t,n){const r=0===e.length?i.oU.ADAPTER_TYPES.UNIVERSAL:e.map((e=>e.adapterType)).join(",");return"".concat(t,"-").concat(r,"-").concat(n)},createAccount:(e,t,n,r,i)=>({namespace:e,address:t,type:n,publicKey:r,path:i}),isCaipAddress(e){if("string"!==typeof e)return!1;const t=e.split(":"),n=t[0];return 3===t.filter(Boolean).length&&n in r.o.CHAIN_NAME_MAP},isMac(){var e;const t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(e){var t;const n="--".concat(encodeURIComponent(null===(t=window)||void 0===t?void 0:t.location.href)),r="state=";if("auth.magic.link"===new URL(e).host){const t="provider_authorization_url=",i=e.substring(e.indexOf(t)+t.length),s=this.injectIntoUrl(decodeURIComponent(i),r,n);return e.replace(i,encodeURIComponent(s))}return this.injectIntoUrl(e,r,n)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(-1===r)throw new Error("".concat(t," parameter not found in the URL: ").concat(e));const i=e.indexOf("&",r),s=t.length,o=-1!==i?i:e.length;return e.substring(0,r+s)+(e.substring(r+s,o)+n)+e.substring(i)}}},4661:(e,t,n)=>{"use strict";var r=n(3697),i=n(6697),s=n(6864),o=s.assert,a=s.parseBytes,c=n(5206),l=n(3035);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=u,u.prototype.sign=function(e,t){e=a(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),s=this.encodePoint(i),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),c=r.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},u.prototype.verify=function(e,t,n){if(e=a(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(s)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),i=s.intFromLE(n);return this.curve.pointFromY(i,r)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return s.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},4684:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r=n(9379),i=n(446),s=n(3513),o=n(8092),a=n(2658);i.extend(o),i.extend(a);const c=(0,r.A)((0,r.A)({},s),{},{name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}}),l=["January","February","March","April","May","June","July","August","September","October","November","December"];i.locale("en-web3-modal",c);const u={getMonthNameByIndex:e=>l[e],getYear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).toISOString();return i(e).year()},getRelativeDateFromNow:e=>i(e).locale("en-web3-modal").fromNow(!0),formatDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD MMM";return i(e).format(t)}}},4705:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>s})},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5206:(e,t,n)=>{"use strict";var r=n(6864),i=r.assert,s=r.parseBytes,o=r.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},a.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=a},5347:(e,t,n)=>{"use strict";function r(e,t){return"light"===t?{"--w3m-accent":(null===e||void 0===e?void 0:e["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(null===e||void 0===e?void 0:e["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}n.d(t,{o:()=>r})},5482:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},5618:(e,t,n)=>{"use strict";n.d(t,{T:()=>m});var r=n(9379),i=n(574),s=n(7038),o=n(4657),a=n(4564),c=n(8861),l=n(595),u=n(5814),d=n(2661),h=n(7258);const f={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},p=o.w.getBlockchainApiUrl(),g=(0,i.BX)({clientId:null,api:new a.Z({baseUrl:p,clientId:null}),supportedChains:{http:[],ws:[]}}),m={state:g,async get(e){const{st:t,sv:n}=m.getSdkProperties(),i=d.H.state.projectId,s=(0,r.A)((0,r.A)({},e.params||{}),{},{st:t,sv:n,projectId:i});return g.api.get((0,r.A)((0,r.A)({},e),{},{params:s}))},getSdkProperties(){const{sdkType:e,sdkVersion:t}=d.H.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{g.supportedChains.http.length||await m.getSupportedNetworks()}catch(t){return!1}return g.supportedChains.http.includes(e)},async getSupportedNetworks(){const e=await m.get({path:"v1/supported-chains"});return g.supportedChains=e,e},async fetchIdentity(e){let{address:t,caipNetworkId:n}=e;if(!await m.isNetworkSupported(n))return{avatar:"",name:""};const r=c.i.getIdentityFromCacheForAddress(t);if(r)return r;const i=await m.get({path:"/v1/identity/".concat(t),params:{sender:u.W.state.activeCaipAddress?o.w.getPlainAddress(u.W.state.activeCaipAddress):void 0}});return c.i.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions(e){var t;let{account:n,cursor:r,onramp:i,signal:s,cache:o,chainId:a}=e;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?m.get({path:"/v1/account/".concat(n,"/history"),params:{cursor:r,onramp:i,chainId:a},signal:s,cache:o}):{data:[],next:void 0}},async fetchSwapQuote(e){var t;let{amount:n,userAddress:r,from:i,to:s,gasPrice:o}=e;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?m.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:n,userAddress:r,from:i,to:s,gasPrice:o}}):{quotes:[]}},async fetchSwapTokens(e){var t;let{chainId:n}=e;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?m.get({path:"/v1/convert/tokens",params:{chainId:n}}):{tokens:[]}},async fetchTokenPrice(e){var t;let{addresses:n}=e;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:n,projectId:d.H.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance(e){var t;let{tokenAddress:n,userAddress:r}=e;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?m.get({path:"/v1/convert/allowance",params:{tokenAddress:n,userAddress:r},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice(e){var t;let{chainId:n}=e;const{st:r,sv:i}=m.getSdkProperties();if(!await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))throw new Error("Network not supported for Gas Price");return m.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:n,st:r,sv:i}})},async generateSwapCalldata(e){var t;let{amount:n,from:r,to:i,userAddress:o}=e;if(!await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))throw new Error("Network not supported for Swaps");return g.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:n,eip155:{slippage:s.oU.CONVERT_SLIPPAGE_TOLERANCE},projectId:d.H.state.projectId,from:r,to:i,userAddress:o}})},async generateApproveCalldata(e){var t;let{from:n,to:r,userAddress:i}=e;const{st:s,sv:o}=m.getSdkProperties();if(!await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))throw new Error("Network not supported for Swaps");return m.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:i,from:n,to:r,st:s,sv:o}})},async getBalance(e,t,n){var r;const{st:i,sv:s}=m.getSdkProperties();if(!await m.isNetworkSupported(null===(r=u.W.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId))return h.P.showError("Token Balance Unavailable"),{balances:[]};const o="".concat(t,":").concat(e),a=c.i.getBalanceCacheForCaipAddress(o);if(a)return a;const l=await m.get({path:"/v1/account/".concat(e,"/balance"),params:{currency:"usd",chainId:t,forceUpdate:n,st:i,sv:s}});return c.i.updateBalanceCache({caipAddress:o,balance:l,timestamp:Date.now()}),l},async lookupEnsName(e){var t;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?m.get({path:"/v1/profile/account/".concat(e),params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName(e){var t;let{address:n}=e;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?m.get({path:"/v1/profile/reverse/".concat(n),params:{sender:l.U.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){var t;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?m.get({path:"/v1/profile/suggestions/".concat(e),params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName(e){var t;let{coinType:n,address:r,message:i,signature:s}=e;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.api.post({path:"/v1/profile/account",body:{coin_type:n,address:r,message:i,signature:s},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL(e){var t;let{destinationWallets:n,partnerUserId:r,defaultNetwork:i,purchaseAmount:s,paymentAmount:o}=e;if(!await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))return"";return(await g.api.post({path:"/v1/generators/onrampurl",params:{projectId:d.H.state.projectId},body:{destinationWallets:n,defaultNetwork:i,partnerUserId:r,defaultExperience:"buy",presetCryptoAmount:s,presetFiatAmount:o}})).url},async getOnrampOptions(){var e;if(!await m.isNetworkSupported(null===(e=u.W.state.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await m.get({path:"/v1/onramp/options"})}catch(t){return f}},async getOnrampQuote(e){let{purchaseCurrency:t,paymentCurrency:n,amount:r,network:i}=e;try{var s;if(!await m.isNetworkSupported(null===(s=u.W.state.activeCaipNetwork)||void 0===s?void 0:s.caipNetworkId))return null;return await g.api.post({path:"/v1/onramp/quote",params:{projectId:d.H.state.projectId},body:{purchaseCurrency:t,paymentCurrency:n,amount:r,network:i}})}catch(o){return{coinbaseFee:{amount:r,currency:n.id},networkFee:{amount:r,currency:n.id},paymentSubtotal:{amount:r,currency:n.id},paymentTotal:{amount:r,currency:n.id},purchaseAmount:{amount:r,currency:n.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){var t;return await m.isNetworkSupported(null===(t=u.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?m.get({path:"/v1/sessions/".concat(e)}):[]},async revokeSmartSession(e,t,n){var r;return await m.isNetworkSupported(null===(r=u.W.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId)?g.api.post({path:"/v1/sessions/".concat(e,"/revoke"),params:{projectId:d.H.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){g.clientId=e,g.api=new a.Z({baseUrl:p,clientId:e})}}},5697:(e,t,n)=>{"use strict";var r=n(6864),i=n(6373),s=n(6329),o=n(6588),a=r.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function l(e,t,n,r,s){o.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},s(l,o.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,n,r){return new l(this,e,t,n,r)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=r.redAdd(t),o=s.redSub(n),a=r.redSub(t),c=i.redMul(o),l=s.redMul(a),u=i.redMul(a),d=o.redMul(s);return this.curve.point(c,l,d,u)},l.prototype._projDbl=function(){var e,t,n,r,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(r=this.curve._mulA(a)).redAdd(c);this.zOne?(e=o.redSub(a).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(r.redSub(c)),n=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),s=l.redSub(i).redISub(i),e=o.redSub(a).redISub(c).redMul(s),t=l.redMul(r.redSub(c)),n=l.redMul(s))}else r=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),s=r.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(r)).redMul(s),t=this.curve._mulC(r).redMul(a.redISub(c)),n=r.redMul(s);return this.curve.point(e,t,n)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(t),o=i.redSub(r),a=i.redAdd(r),c=n.redAdd(t),l=s.redMul(o),u=a.redMul(c),d=s.redMul(c),h=o.redMul(a);return this.curve.point(l,u,h,d)},l.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=i.redSub(a),l=i.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),d=r.redMul(c).redMul(u);return this.curve.twisted?(t=r.redMul(l).redMul(o.redSub(this.curve._mulA(s))),n=c.redMul(l)):(t=r.redMul(l).redMul(o.redSub(s)),n=this.curve._mulC(c).redMul(l)),this.curve.point(d,t,n)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},l.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},5711:(e,t,n)=>{"use strict";const r=n(5984);e.exports=o;const i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:h,mapHttpResponse:h,wrapRequestSerializer:f,wrapResponseSerializer:f,wrapErrorSerializer:f,req:h,res:h,err:function(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function o(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter((function(e){return"!stdSerializers.err"!==e}));return!0===e&&Object.keys(t)}(e.browser.serialize,r);let h=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(h=!1);"function"===typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");const f=e.level||"info",g=Object.create(n);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,a(m,g,"error","log"),a(m,g,"fatal","error"),a(m,g,"warn","error"),a(m,g,"info","log"),a(m,g,"debug","log"),a(m,g,"trace","log")}});const m={transmit:t,serialize:s,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:d(e)};return g.levels=o.levels,g.level=f,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=r,g._serialize=s,g._stdErrSerialize=h,g.child=function(n,i){if(!n)throw new Error("missing bindings for child Pino");i=i||{},s&&n.serializers&&(i.serializers=n.serializers);const o=i.serializers;if(s&&o){var a=Object.assign({},r,o),d=!0===e.browser.serialize?Object.keys(a):s;delete n.serializers,c([n],d,a,this._stdErrSerialize)}function h(e){this._childLevel=1+(0|e._childLevel),this.error=l(e,n,"error"),this.fatal=l(e,n,"fatal"),this.warn=l(e,n,"warn"),this.info=l(e,n,"info"),this.debug=l(e,n,"debug"),this.trace=l(e,n,"trace"),a&&(this.serializers=a,this._serialize=d),t&&(this._logEvent=u([].concat(e._logEvent.bindings,n)))}return h.prototype=this,new h(this)},t&&(g._logEvent=u()),g}function a(e,t,n,s){const a=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?p:a[n]?a[n]:i[n]||i[s]||p,function(e,t,n){if(!e.transmit&&t[n]===p)return;t[n]=(s=t[n],function(){const a=e.timestamp(),l=new Array(arguments.length),d=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var h=0;h<l.length;h++)l[h]=arguments[h];if(e.serialize&&!e.asObject&&c(l,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?s.call(d,function(e,t,n,i){e._serialize&&c(n,e._serialize,e.serializers,e._stdErrSerialize);const s=n.slice();let a=s[0];const l={};i&&(l.time=i),l.level=o.levels.values[t];let u=1+(0|e._childLevel);if(u<1&&(u=1),null!==a&&"object"===typeof a){for(;u--&&"object"===typeof s[0];)Object.assign(l,s.shift());a=s.length?r(s.shift(),s):void 0}else"string"===typeof a&&(a=r(s.shift(),s));return void 0!==a&&(l.msg=a),l}(this,n,l,a)):s.apply(d,l),e.transmit){const r=e.transmit.level||t.level,i=o.levels.values[r],s=o.levels.values[n];if(s<i)return;!function(e,t,n){const r=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,a=t.val,l=e._logEvent.bindings;c(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter((function(e){return-1===l.indexOf(e)})),e._logEvent.level.label=s,e._logEvent.level.value=o,r(s,e._logEvent,a),e._logEvent=u(l)}(this,{ts:a,methodLevel:n,methodValue:s,transmitLevel:r,transmitValue:o.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},l)}});var s}(e,t,n)}function c(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=o.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i]))for(const r in e[i])t&&t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function l(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function u(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function d(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?g:m}function h(){return{}}function f(e){return e}function p(){}function g(){return!1}function m(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},5746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},5814:(e,t,n)=>{"use strict";n.d(t,{W:()=>C});var r=n(9379),i=n(574),s=n(6844),o=n(9632),a=n(883),c=n(3939);function l(e,t){return c.a.getConnectorId(e)===t}var u=n(7038),d=n(4657),h=n(8861),f=n(595),p=n(3022),g=n(9323),m=n(3609),v=n(2661),y=n(4098),b=n(1139),w=n(3144);const A={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},E={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},S=(0,i.BX)({chains:(0,s.zC)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),C={state:S,subscribe:e=>(0,i.B1)(S,(()=>{e(S)})),subscribeKey:(e,t)=>(0,s.u$)(S,e,t),subscribeChainProp(e,t,n){let r;return(0,i.B1)(S.chains,(()=>{const i=n||S.activeChain;if(i){var s;const n=null===(s=S.chains.get(i))||void 0===s?void 0:s[e];r!==n&&(r=n,t(n))}}))},initialize(e,t,n){var s;const{chainId:o,namespace:a}=h.i.getActiveNetworkProps(),c=null===t||void 0===t?void 0:t.find((e=>e.id.toString()===(null===o||void 0===o?void 0:o.toString()))),l=e.find((e=>(null===e||void 0===e?void 0:e.namespace)===a))||(null===e||void 0===e?void 0:e[0]),u=new Set([...null!==(s=null===t||void 0===t?void 0:t.map((e=>e.chainNamespace)))&&void 0!==s?s:[]]);0!==(null===e||void 0===e?void 0:e.length)&&l||(S.noAdapters=!0),S.noAdapters||(S.activeChain=null===l||void 0===l?void 0:l.namespace,S.activeCaipNetwork=c,this.setChainNetworkData(null===l||void 0===l?void 0:l.namespace,{caipNetwork:c}),S.activeChain&&y.z.set({activeChain:null===l||void 0===l?void 0:l.namespace})),u.forEach((e=>{const s=null===t||void 0===t?void 0:t.filter((t=>t.chainNamespace===e));C.state.chains.set(e,(0,r.A)({namespace:e,networkState:(0,i.BX)((0,r.A)((0,r.A)({},E),{},{caipNetwork:null===s||void 0===s?void 0:s[0]})),accountState:(0,i.BX)(A),caipNetworks:null!==s&&void 0!==s?s:[]},n)),this.setRequestedCaipNetworks(null!==s&&void 0!==s?s:[],e)}))},removeAdapter(e){if(S.activeChain===e){const n=Array.from(S.chains.entries()).find((t=>{let[n]=t;return n!==e}));if(n){var t;const e=null===(t=n[1])||void 0===t||null===(t=t.caipNetworks)||void 0===t?void 0:t[0];e&&this.setActiveCaipNetwork(e)}}S.chains.delete(e)},addAdapter(e,t,n){var i;let{networkControllerClient:s,connectionControllerClient:o}=t;S.chains.set(e.namespace,{namespace:e.namespace,networkState:(0,r.A)((0,r.A)({},E),{},{caipNetwork:n[0]}),accountState:A,caipNetworks:n,connectionControllerClient:o,networkControllerClient:s}),this.setRequestedCaipNetworks(null!==(i=null===n||void 0===n?void 0:n.filter((t=>t.chainNamespace===e.namespace)))&&void 0!==i?i:[],e.namespace)},addNetwork(e){const t=S.chains.get(e.chainNamespace);if(t){var n;const i=[...t.caipNetworks||[]];null!==(n=t.caipNetworks)&&void 0!==n&&n.find((t=>t.id===e.id))||i.push(e),S.chains.set(e.chainNamespace,(0,r.A)((0,r.A)({},t),{},{caipNetworks:i})),this.setRequestedCaipNetworks(i,e.chainNamespace)}},removeNetwork(e,t){const n=S.chains.get(e);if(n){var i,s,o;const a=(null===(i=S.activeCaipNetwork)||void 0===i?void 0:i.id)===t,c=[...(null===(s=n.caipNetworks)||void 0===s?void 0:s.filter((e=>e.id!==t)))||[]];a&&null!==n&&void 0!==n&&null!==(o=n.caipNetworks)&&void 0!==o&&o[0]&&this.setActiveCaipNetwork(n.caipNetworks[0]),S.chains.set(e,(0,r.A)((0,r.A)({},n),{},{caipNetworks:c})),this.setRequestedCaipNetworks(c||[],e)}},setAdapterNetworkState(e,t){const n=S.chains.get(e);n&&(n.networkState=(0,r.A)((0,r.A)({},n.networkState||E),t),S.chains.set(e,n))},setChainAccountData(e,t){if(!e)throw new Error("Chain is required to update chain account data");const n=S.chains.get(e);if(n){const i=(0,r.A)((0,r.A)({},n.accountState||A),t);S.chains.set(e,(0,r.A)((0,r.A)({},n),{},{accountState:i})),1!==S.chains.size&&S.activeChain!==e||(t.caipAddress&&(S.activeCaipAddress=t.caipAddress),f.U.replaceState(i))}},setChainNetworkData(e,t){if(!e)return;const n=S.chains.get(e);if(n){const i=(0,r.A)((0,r.A)({},n.networkState||E),t);S.chains.set(e,(0,r.A)((0,r.A)({},n),{},{networkState:i}))}},setAccountProp(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.setChainAccountData(n,{[e]:t},r),"status"===e&&"disconnected"===t&&n&&c.a.removeConnectorId(n)},setActiveNamespace(e){var t;S.activeChain=e;const n=e?S.chains.get(e):void 0,r=null===n||void 0===n||null===(t=n.networkState)||void 0===t?void 0:t.caipNetwork;var i;null!==r&&void 0!==r&&r.id&&e&&(S.activeCaipAddress=null===n||void 0===n||null===(i=n.accountState)||void 0===i?void 0:i.caipAddress,S.activeCaipNetwork=r,this.setChainNetworkData(e,{caipNetwork:r}),h.i.setActiveCaipNetworkId(null===r||void 0===r?void 0:r.caipNetworkId),y.z.set({activeChain:e,selectedNetworkId:null===r||void 0===r?void 0:r.caipNetworkId}))},setActiveCaipNetwork(e){var t,n;if(!e)return;S.activeChain!==e.chainNamespace&&this.setIsSwitchingNamespace(!0);const r=S.chains.get(e.chainNamespace);var i;(S.activeChain=e.chainNamespace,S.activeCaipNetwork=e,this.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),null!==r&&void 0!==r&&null!==(t=r.accountState)&&void 0!==t&&t.address)?S.activeCaipAddress="".concat(e.chainNamespace,":").concat(e.id,":").concat(null===r||void 0===r||null===(i=r.accountState)||void 0===i?void 0:i.address):S.activeCaipAddress=void 0;this.setAccountProp("caipAddress",S.activeCaipAddress,e.chainNamespace),r&&f.U.replaceState(r.accountState),w.R.resetSend(),y.z.set({activeChain:S.activeChain,selectedNetworkId:null===(n=S.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId}),h.i.setActiveCaipNetworkId(e.caipNetworkId);this.checkIfSupportedNetwork(e.chainNamespace)||v.H.state.allowUnsupportedChain||p.x.state.wcBasic||this.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=S.chains.get(e.chainNamespace);var n;t&&(null===t||void 0===t||null===(n=t.caipNetworks)||void 0===n||n.push(e))},async switchActiveNamespace(e){var t;if(!e)return;const n=e!==C.state.activeChain,r=null===(t=C.getNetworkData(e))||void 0===t?void 0:t.caipNetwork,i=C.getCaipNetworkByNamespace(e,null===r||void 0===r?void 0:r.id);n&&i&&await C.switchActiveNetwork(i)},async switchActiveNetwork(e){var t;const n=C.state.chains.get(C.state.activeChain);!(null!==n&&void 0!==n&&null!==(t=n.caipNetworks)&&void 0!==t&&t.some((e=>{var t;return e.id===(null===(t=S.activeCaipNetwork)||void 0===t?void 0:t.id)})))&&b.I.goBack();const r=this.getNetworkControllerClient(e.chainNamespace);r&&(await r.switchCaipNetwork(e),g.E.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}}))},getNetworkControllerClient(e){const t=e||S.activeChain,n=S.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(e){const t=e||S.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=S.chains.get(t);if(null===n||void 0===n||!n.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(e,t){var n;let r=S.activeChain;if(t&&(r=t),!r)return;const i=null===(n=S.chains.get(r))||void 0===n?void 0:n.accountState;return i?i[e]:void 0},getNetworkProp(e,t){var n;const r=null===(n=S.chains.get(t))||void 0===n?void 0:n.networkState;if(r)return r[e]},getRequestedCaipNetworks(e){const t=S.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(null===t||void 0===t?void 0:t.networkState)||{};return d.w.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const e=[];return S.chains.forEach((t=>{const n=this.getRequestedCaipNetworks(t.namespace);e.push(...n)})),e},setRequestedCaipNetworks(e,t){this.setAdapterNetworkState(t,{requestedCaipNetworks:e})},getAllApprovedCaipNetworkIds(){const e=[];return S.chains.forEach((t=>{const n=this.getApprovedCaipNetworkIds(t.namespace);e.push(...n)})),e},getActiveCaipNetwork:()=>S.activeCaipNetwork,getActiveCaipAddress:()=>S.activeCaipAddress,getApprovedCaipNetworkIds(e){var t;const n=S.chains.get(e);return(null===n||void 0===n||null===(t=n.networkState)||void 0===t?void 0:t.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(e){const t=this.getNetworkControllerClient(),n=await(null===t||void 0===t?void 0:t.getApprovedCaipNetworksData());this.setAdapterNetworkState(e,{approvedCaipNetworkIds:null===n||void 0===n?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:null===n||void 0===n?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(e,t){const n=t||S.activeCaipNetwork,r=this.getRequestedCaipNetworks(e);return!r.length||(null===r||void 0===r?void 0:r.some((e=>e.id===(null===n||void 0===n?void 0:n.id))))},checkIfSupportedChainId(e){if(!S.activeChain)return!0;const t=this.getRequestedCaipNetworks(S.activeChain);return null===t||void 0===t?void 0:t.some((t=>t.id===e))},setSmartAccountEnabledNetworks(e,t){this.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){var e;const t=o.L.caipNetworkIdToNumber(null===(e=S.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId),n=S.activeChain;if(!n||!t)return!1;const r=this.getNetworkProp("smartAccountEnabledNetworks",n);return Boolean(null===r||void 0===r?void 0:r.includes(Number(t)))},getActiveNetworkTokenAddress(){var e,t;const n=(null===(e=S.activeCaipNetwork)||void 0===e?void 0:e.chainNamespace)||"eip155",r=(null===(t=S.activeCaipNetwork)||void 0===t?void 0:t.id)||1,i=u.oU.NATIVE_TOKEN_ADDRESS[n];return"".concat(n,":").concat(r,":").concat(i)},showUnsupportedChainUI(){m.W.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=S.activeCaipNetwork;return Boolean((null===e||void 0===e?void 0:e.chainNamespace)&&u.oU.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){this.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");S.activeCaipAddress=void 0,this.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),c.a.removeConnectorId(t)},async disconnect(e){const t=function(e){const t=Array.from(C.state.chains.keys());let n=[];return e?(n.push([e,C.state.chains.get(e)]),l(e,a.o.CONNECTOR_ID.WALLET_CONNECT)?t.forEach((t=>{t!==e&&l(t,a.o.CONNECTOR_ID.WALLET_CONNECT)&&n.push([t,C.state.chains.get(t)])})):l(e,a.o.CONNECTOR_ID.AUTH)&&t.forEach((t=>{t!==e&&l(t,a.o.CONNECTOR_ID.AUTH)&&n.push([t,C.state.chains.get(t)])}))):n=Array.from(C.state.chains.entries()),n}(e);try{w.R.resetSend();const n=await Promise.allSettled(t.map((async e=>{let[t,n]=e;try{var r;const{caipAddress:e}=this.getAccountData(t)||{};e&&null!==(r=n.connectionControllerClient)&&void 0!==r&&r.disconnect&&await n.connectionControllerClient.disconnect(t),this.resetAccount(t),this.resetNetwork(t)}catch(i){throw new Error("Failed to disconnect chain ".concat(t,": ").concat(i.message))}})));p.x.resetWcConnection();const r=n.filter((e=>"rejected"===e.status));if(r.length>0)throw new Error(r.map((e=>e.reason.message)).join(", "));h.i.deleteConnectedSocialProvider(),e?c.a.removeConnectorId(e):c.a.resetConnectorIds(),g.E.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),g.E.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(e){S.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(S.chains.forEach((t=>{a.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.find((e=>e===t.namespace))&&t.namespace&&e.push(t.namespace)})),e.length>0){var n;const r=e[0];return t=r?null===(n=S.chains.get(r))||void 0===n||null===(n=n.caipNetworks)||void 0===n?void 0:n[0]:void 0,t}},getAccountData(e){var t;return e?null===(t=C.state.chains.get(e))||void 0===t?void 0:t.accountState:f.U.state},getNetworkData(e){var t;const n=e||S.activeChain;if(n)return null===(t=C.state.chains.get(n))||void 0===t?void 0:t.networkState},getCaipNetworkByNamespace(e,t){var n,r,i;if(!e)return;const s=C.state.chains.get(e),o=null===s||void 0===s||null===(n=s.caipNetworks)||void 0===n?void 0:n.find((e=>e.id===t));return o||((null===s||void 0===s||null===(r=s.networkState)||void 0===r?void 0:r.caipNetwork)||(null===s||void 0===s||null===(i=s.caipNetworks)||void 0===i?void 0:i[0]))},getRequestedCaipNetworkIds(){const e=c.a.state.filterByNamespace;return(e?[S.chains.get(e)]:Array.from(S.chains.values())).flatMap((e=>(null===e||void 0===e?void 0:e.caipNetworks)||[])).map((e=>e.caipNetworkId))}}},5871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1344);r.__exportStar(n(296),t),r.__exportStar(n(568),t)},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function A(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function E(e){if(m=!1,A(e),!g)if(null!==r(l))g=!0,C||(C=!0,S());else{var t=r(u);null!==t&&O(E,t.startTime-e)}}var S,C=!1,_=-1,k=5,x=-1;function I(){return!!v||!(t.unstable_now()-x<k)}function N(){if(v=!1,C){var e=t.unstable_now();x=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(_),_=-1),p=!0;var s=f;try{t:{for(A(e),h=r(l);null!==h&&!(h.expirationTime>e&&I());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,A(e),n=!0;break t}h===r(l)&&i(l),A(e)}else i(l);h=r(l)}if(null!==h)n=!0;else{var c=r(u);null!==c&&O(E,c.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?S():C=!1}}}if("function"===typeof w)S=function(){w(N)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){y(N,0)};function O(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(m?(b(_),_=-1):m=!0,O(E,s-o))):(e.sortIndex=a,n(l,e),g||p||(g=!0,C||(C=!0,S()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5956:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,l(i)&&u({inst:i})}),[e,n,t]),o((function(){return l(i)&&u({inst:i}),e((function(){l(i)&&u({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},5984:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"===typeof e&&null!==e){var s=n.length+1;if(1===s)return e;var o=new Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(n[a]);return o.join(" ")}if("string"!==typeof e)return e;var c=n.length;if(0===c)return e;for(var l="",u=0,d=-1,h=e&&e.length||0,f=0;f<h;){if(37===e.charCodeAt(f)&&f+1<h){switch(d=d>-1?d:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c)break;if(null==n[u])break;d<f&&(l+=e.slice(d,f)),l+=Number(n[u]),d=f+2,f++;break;case 105:if(u>=c)break;if(null==n[u])break;d<f&&(l+=e.slice(d,f)),l+=Math.floor(Number(n[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c)break;if(void 0===n[u])break;d<f&&(l+=e.slice(d,f));var p=typeof n[u];if("string"===p){l+="'"+n[u]+"'",d=f+2,f++;break}if("function"===p){l+=n[u].name||"<anonymous>",d=f+2,f++;break}l+=i(n[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=e.slice(d,f)),l+=String(n[u]),d=f+2,f++;break;case 37:d<f&&(l+=e.slice(d,f)),l+="%",d=f+2,f++,u--}++u}++f}if(-1===d)return e;d<h&&(l+=e.slice(d));return l}},6141:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var r=n(9379),i=n(574),s=n(5347),o=n(3939);const a=(0,i.BX)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),c={state:a,subscribe:e=>(0,i.B1)(a,(()=>e(a))),setThemeMode(e){a.themeMode=e;try{const t=o.a.getAuthConnector();if(t){const n=c.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:(0,s.o)(n,e)})}}catch(t){console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){a.themeVariables=(0,r.A)((0,r.A)({},a.themeVariables),e);try{const e=o.a.getAuthConnector();if(e){const t=c.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:(0,s.o)(a.themeVariables,a.themeMode)})}}catch(t){console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,i.P9)(a)}},6329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},6373:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(7790).Buffer}catch(_){}function a(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function l(e,t,n,r){for(var i=0,s=Math.min(e.length,n),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},s.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},s.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=c(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=c(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,o=s%r,a=Math.min(s,s-o)+n,c=0,u=n;u<a;u+=r)c=l(e,u,u+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var d=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var u=c>>>26,d=67108863&c,h=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=h;f++){var p=l-f|0;u+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}n.words[l]=0|d,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n.strip()}s.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?u[6-c.length]+c+n:c+n}for(0!==s&&(n=s.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],f=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(f).toString(e);n=(p=p.idivn(f)).isZero()?g+n:u[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return r("undefined"!==typeof o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===t,l=new e(s),u=this.clone();if(c){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-i;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(t=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<n.length;o++)s=(t=(0|n.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,s,o=e.words,a=t.words,c=n.words,l=0,u=0|o[0],d=8191&u,h=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,m=0|o[2],v=8191&m,y=m>>>13,b=0|o[3],w=8191&b,A=b>>>13,E=0|o[4],S=8191&E,C=E>>>13,_=0|o[5],k=8191&_,x=_>>>13,I=0|o[6],N=8191&I,T=I>>>13,P=0|o[7],O=8191&P,R=P>>>13,M=0|o[8],D=8191&M,U=M>>>13,L=0|o[9],B=8191&L,F=L>>>13,j=0|a[0],z=8191&j,W=j>>>13,H=0|a[1],V=8191&H,q=H>>>13,K=0|a[2],G=8191&K,J=K>>>13,Y=0|a[3],Q=8191&Y,Z=Y>>>13,X=0|a[4],$=8191&X,ee=X>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ce=8191&ae,le=ae>>>13,ue=0|a[8],de=8191&ue,he=ue>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(l+(r=Math.imul(d,z))|0)+((8191&(i=(i=Math.imul(d,W))+Math.imul(h,z)|0))<<13)|0;l=((s=Math.imul(h,W))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(p,z),i=(i=Math.imul(p,W))+Math.imul(g,z)|0,s=Math.imul(g,W);var ve=(l+(r=r+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,q)|0)+Math.imul(h,V)|0))<<13)|0;l=((s=s+Math.imul(h,q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,z),i=(i=Math.imul(v,W))+Math.imul(y,z)|0,s=Math.imul(y,W),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,q)|0;var ye=(l+(r=r+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,G)|0))<<13)|0;l=((s=s+Math.imul(h,J)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(w,z),i=(i=Math.imul(w,W))+Math.imul(A,z)|0,s=Math.imul(A,W),r=r+Math.imul(v,V)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,q)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,J)|0;var be=(l+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(h,Q)|0))<<13)|0;l=((s=s+Math.imul(h,Z)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,z),i=(i=Math.imul(S,W))+Math.imul(C,z)|0,s=Math.imul(C,W),r=r+Math.imul(w,V)|0,i=(i=i+Math.imul(w,q)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,q)|0,r=r+Math.imul(v,G)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,J)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,Z)|0;var we=(l+(r=r+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,$)|0))<<13)|0;l=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(k,z),i=(i=Math.imul(k,W))+Math.imul(x,z)|0,s=Math.imul(x,W),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,q)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,J)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,Z)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,ee)|0;var Ae=(l+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;l=((s=s+Math.imul(h,re)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(N,z),i=(i=Math.imul(N,W))+Math.imul(T,z)|0,s=Math.imul(T,W),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,q)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(C,G)|0,s=s+Math.imul(C,J)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,Z)|0,r=r+Math.imul(v,$)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(y,$)|0,s=s+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,s=s+Math.imul(g,re)|0;var Ee=(l+(r=r+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,oe)|0)+Math.imul(h,se)|0))<<13)|0;l=((s=s+Math.imul(h,oe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(O,z),i=(i=Math.imul(O,W))+Math.imul(R,z)|0,s=Math.imul(R,W),r=r+Math.imul(N,V)|0,i=(i=i+Math.imul(N,q)|0)+Math.imul(T,V)|0,s=s+Math.imul(T,q)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,J)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,Z)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(y,ne)|0,s=s+Math.imul(y,re)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var Se=(l+(r=r+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(h,ce)|0))<<13)|0;l=((s=s+Math.imul(h,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,z),i=(i=Math.imul(D,W))+Math.imul(U,z)|0,s=Math.imul(U,W),r=r+Math.imul(O,V)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,q)|0,r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,J)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,Z)|0,r=r+Math.imul(S,$)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,$)|0,s=s+Math.imul(C,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(A,ne)|0,s=s+Math.imul(A,re)|0,r=r+Math.imul(v,se)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(y,se)|0,s=s+Math.imul(y,oe)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,le)|0;var Ce=(l+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;l=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,z),i=(i=Math.imul(B,W))+Math.imul(F,z)|0,s=Math.imul(F,W),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,q)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,J)|0,r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(T,Q)|0,s=s+Math.imul(T,Z)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(C,ne)|0,s=s+Math.imul(C,re)|0,r=r+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,r=r+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(y,ce)|0,s=s+Math.imul(y,le)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,de)|0,s=s+Math.imul(g,he)|0;var _e=(l+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ge)|0)+Math.imul(h,pe)|0))<<13)|0;l=((s=s+Math.imul(h,ge)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,q))+Math.imul(F,V)|0,s=Math.imul(F,q),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(U,G)|0,s=s+Math.imul(U,J)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,Z)|0,r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(T,$)|0,s=s+Math.imul(T,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(x,ne)|0,s=s+Math.imul(x,re)|0,r=r+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(C,se)|0,s=s+Math.imul(C,oe)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(A,ce)|0,s=s+Math.imul(A,le)|0,r=r+Math.imul(v,de)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(y,de)|0,s=s+Math.imul(y,he)|0;var ke=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((s=s+Math.imul(g,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,J))+Math.imul(F,G)|0,s=Math.imul(F,J),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(U,Q)|0,s=s+Math.imul(U,Z)|0,r=r+Math.imul(O,$)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,ee)|0,r=r+Math.imul(N,ne)|0,i=(i=i+Math.imul(N,re)|0)+Math.imul(T,ne)|0,s=s+Math.imul(T,re)|0,r=r+Math.imul(k,se)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(x,se)|0,s=s+Math.imul(x,oe)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(C,ce)|0,s=s+Math.imul(C,le)|0,r=r+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(A,de)|0,s=s+Math.imul(A,he)|0;var xe=(l+(r=r+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ge)|0)+Math.imul(y,pe)|0))<<13)|0;l=((s=s+Math.imul(y,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,Z))+Math.imul(F,Q)|0,s=Math.imul(F,Z),r=r+Math.imul(D,$)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(R,ne)|0,s=s+Math.imul(R,re)|0,r=r+Math.imul(N,se)|0,i=(i=i+Math.imul(N,oe)|0)+Math.imul(T,se)|0,s=s+Math.imul(T,oe)|0,r=r+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(x,ce)|0,s=s+Math.imul(x,le)|0,r=r+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(C,de)|0,s=s+Math.imul(C,he)|0;var Ie=(l+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(A,pe)|0))<<13)|0;l=((s=s+Math.imul(A,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(B,$),i=(i=Math.imul(B,ee))+Math.imul(F,$)|0,s=Math.imul(F,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(U,ne)|0,s=s+Math.imul(U,re)|0,r=r+Math.imul(O,se)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,r=r+Math.imul(N,ce)|0,i=(i=i+Math.imul(N,le)|0)+Math.imul(T,ce)|0,s=s+Math.imul(T,le)|0,r=r+Math.imul(k,de)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(x,de)|0,s=s+Math.imul(x,he)|0;var Ne=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ge)|0)+Math.imul(C,pe)|0))<<13)|0;l=((s=s+Math.imul(C,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(F,ne)|0,s=Math.imul(F,re),r=r+Math.imul(D,se)|0,i=(i=i+Math.imul(D,oe)|0)+Math.imul(U,se)|0,s=s+Math.imul(U,oe)|0,r=r+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(R,ce)|0,s=s+Math.imul(R,le)|0,r=r+Math.imul(N,de)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(T,de)|0,s=s+Math.imul(T,he)|0;var Te=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(x,pe)|0))<<13)|0;l=((s=s+Math.imul(x,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,se),i=(i=Math.imul(B,oe))+Math.imul(F,se)|0,s=Math.imul(F,oe),r=r+Math.imul(D,ce)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(U,ce)|0,s=s+Math.imul(U,le)|0,r=r+Math.imul(O,de)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(R,de)|0,s=s+Math.imul(R,he)|0;var Pe=(l+(r=r+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ge)|0)+Math.imul(T,pe)|0))<<13)|0;l=((s=s+Math.imul(T,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,ce),i=(i=Math.imul(B,le))+Math.imul(F,ce)|0,s=Math.imul(F,le),r=r+Math.imul(D,de)|0,i=(i=i+Math.imul(D,he)|0)+Math.imul(U,de)|0,s=s+Math.imul(U,he)|0;var Oe=(l+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(R,pe)|0))<<13)|0;l=((s=s+Math.imul(R,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,de),i=(i=Math.imul(B,he))+Math.imul(F,de)|0,s=Math.imul(F,he);var Re=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ge)|0)+Math.imul(U,pe)|0))<<13)|0;l=((s=s+Math.imul(U,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Me=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ge))+Math.imul(F,pe)|0))<<13)|0;return l=((s=Math.imul(F,ge))+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,c[0]=me,c[1]=ve,c[2]=ye,c[3]=be,c[4]=we,c[5]=Ae,c[6]=Ee,c[7]=Se,c[8]=Ce,c[9]=_e,c[10]=ke,c[11]=xe,c[12]=Ie,c[13]=Ne,c[14]=Te,c[15]=Pe,c[16]=Oe,c[17]=Re,c[18]=Me,0!==l&&(c[19]=l,n.length++),n};function g(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,d=(0|e.words[u])*(0|t.words[l]),h=67108863&d;a=67108863&(h=h+a|0),i+=(o=(o=o+(d/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n.strip()}(this,e,t):g(this,e,t),n},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=s.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,s){for(var o=0;o<s;o++)r[o]=t[e[o]],i[o]=n[e[o]]},m.prototype.transform=function(e,t,n,r,i,s){this.permute(s,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<i;u+=a)for(var d=c,h=l,f=0;f<o;f++){var p=n[u+f],g=r[u+f],m=n[u+f+o],v=r[u+f+o],y=d*m-h*v;v=d*v+h*m,m=y,n[u+f]=p+m,r[u+f]=g+v,n[u+f+o]=p-m,r[u+f+o]=g-v,f!==a&&(y=c*d-l*h,h=c*h+l*d,d=y)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===s),r(0===(-8192&s))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),c=new Array(r),l=new Array(r),u=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,l,r),this.transform(o,s,a,c,r,i),this.transform(l,s,u,d,r,i);for(var f=0;f<r;f++){var p=a[f]*u[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,r),this.transform(a,c,h,s,r,i),this.conjugate(h,s,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[n]=67108863&s}return 0!==t&&(this.words[n]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<n;this.words[t]=c|o,o=a>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=n;if(i-=o,i=Math.max(0,i),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var d=0|this.words[l];this.words[l]=u<<26-s|d>>>s,u=d&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,n){var i,s,o=e.length+n;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=r.clone()._ishlnsubmul(i,1,c);0===u.negative&&(r=u,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/o|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},s.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),o.isub(c)):(n.isub(t),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:n.iushln(l)}},s.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var d=0,h=1;0===(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a)):(n.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new S(e)},s.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,y),i(A,y),i(E,y),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return v[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new s(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var d=this.pow(u,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var v=this.pow(d,new s(1).iushln(p-m-1));h=h.redMul(v),d=v.redSqr(),f=f.redMul(d),p=m}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],u=c-1;u>=0;u--){var d=l>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==o?(o<<=1,o|=d,(4===++a||0===r&&0===u)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}c=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new C(e)},i(C,S),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},6454:(e,t)=>{"use strict";function n(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function r(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=r,t.isBrowser=function(){return!n()&&!r()}},6496:(e,t,n)=>{"use strict";n.d(t,{N:()=>y});var r=n(9379),i=n(574),s=n(6844),o=n(1348),a=n(4657),c=n(4564),l=n(8861),u=n(6596),d=n(5814),h=n(3939),f=n(9323),p=n(2661);const g=a.w.getApiUrl(),m=new c.Z({baseUrl:g,clientId:null}),v=(0,i.BX)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedRDNS:[],isFetchingRecommendedWallets:!1}),y={state:v,subscribeKey:(e,t)=>(0,s.u$)(v,e,t),_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=p.H.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions:e=>p.H.state.isUniversalProvider?e.filter((e=>Boolean(e.mobile_link||e.desktop_link||e.webapp_link))):e,async _fetchWalletImage(e){const t="".concat(m.baseUrl,"/getWalletImage/").concat(e),n=await m.getBlob({path:t,params:y._getSdkProperties()});u.j.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t="".concat(m.baseUrl,"/public/getAssetImage/").concat(e),n=await m.getBlob({path:t,params:y._getSdkProperties()});u.j.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t="".concat(m.baseUrl,"/public/getAssetImage/").concat(e),n=await m.getBlob({path:t,params:y._getSdkProperties()});u.j.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t="".concat(m.baseUrl,"/public/getCurrencyImage/").concat(e),n=await m.getBlob({path:t,params:y._getSdkProperties()});u.j.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t="".concat(m.baseUrl,"/public/getTokenImage/").concat(e),n=await m.getBlob({path:t,params:y._getSdkProperties()});u.j.setTokenImage(e,URL.createObjectURL(n))},async fetchNetworkImages(){const e=d.W.getAllRequestedCaipNetworks(),t=null===e||void 0===e?void 0:e.map((e=>{let{assets:t}=e;return null===t||void 0===t?void 0:t.imageId})).filter(Boolean).filter((e=>!o.$.getNetworkImageById(e)));t&&await Promise.allSettled(t.map((e=>y._fetchNetworkImage(e))))},async fetchConnectorImages(){const{connectors:e}=h.a.state,t=e.map((e=>{let{imageId:t}=e;return t})).filter(Boolean);await Promise.allSettled(t.map((e=>y._fetchConnectorImage(e))))},async fetchCurrencyImages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];await Promise.allSettled(e.map((e=>y._fetchCurrencyImage(e))))},async fetchTokenImages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];await Promise.allSettled(e.map((e=>y._fetchTokenImage(e))))},async fetchFeaturedWallets(){const{featuredWalletIds:e}=p.H.state;if(null!==e&&void 0!==e&&e.length){const{data:t}=await m.get({path:"/getWallets",params:(0,r.A)((0,r.A)({},y._getSdkProperties()),{},{page:"1",entries:null!==e&&void 0!==e&&e.length?String(e.length):"4",include:null===e||void 0===e?void 0:e.join(",")})});t.sort(((t,n)=>e.indexOf(t.id)-e.indexOf(n.id)));const n=t.map((e=>e.image_id)).filter(Boolean);await Promise.allSettled(n.map((e=>y._fetchWalletImage(e)))),v.featured=t,v.allFeatured=t}},async fetchRecommendedWallets(){try{v.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=p.H.state,i=[...null!==t&&void 0!==t?t:[],...null!==n&&void 0!==n?n:[]].filter(Boolean),s=d.W.getRequestedCaipNetworkIds().join(","),{data:o,count:a}=await m.get({path:"/getWallets",params:(0,r.A)((0,r.A)({},y._getSdkProperties()),{},{page:"1",chains:s,entries:"4",include:null===e||void 0===e?void 0:e.join(","),exclude:null===i||void 0===i?void 0:i.join(",")})}),c=l.i.getRecentWallets(),u=o.map((e=>e.image_id)).filter(Boolean),h=c.map((e=>e.image_id)).filter(Boolean);await Promise.allSettled([...u,...h].map((e=>y._fetchWalletImage(e)))),v.recommended=o,v.allRecommended=o,v.count=null!==a&&void 0!==a?a:0}catch(e){}finally{v.isFetchingRecommendedWallets=!1}},async fetchWallets(e){let{page:t}=e;const{includeWalletIds:n,excludeWalletIds:i,featuredWalletIds:s}=p.H.state,o=d.W.getRequestedCaipNetworkIds().join(","),c=[...v.recommended.map((e=>{let{id:t}=e;return t})),...null!==i&&void 0!==i?i:[],...null!==s&&void 0!==s?s:[]].filter(Boolean),{data:l,count:u}=await m.get({path:"/getWallets",params:(0,r.A)((0,r.A)({},y._getSdkProperties()),{},{page:String(t),entries:"40",chains:o,include:null===n||void 0===n?void 0:n.join(","),exclude:c.join(",")})}),h=l.slice(0,20).map((e=>e.image_id)).filter(Boolean);await Promise.allSettled(h.map((e=>y._fetchWalletImage(e)))),v.wallets=a.w.uniqueBy([...v.wallets,...y._filterOutExtensions(l)],"id"),v.count=u>v.count?u:v.count,v.page=t},async initializeExcludedWalletRdns(e){let{ids:t}=e;const n=d.W.getRequestedCaipNetworkIds().join(","),{data:i}=await m.get({path:"/getWallets",params:(0,r.A)((0,r.A)({},y._getSdkProperties()),{},{page:"1",entries:String(t.length),chains:n,include:null===t||void 0===t?void 0:t.join(",")})});i&&i.forEach((e=>{null!==e&&void 0!==e&&e.rdns&&v.excludedRDNS.push(e.rdns)}))},async searchWallet(e){let{search:t,badge:n}=e;const{includeWalletIds:i,excludeWalletIds:s}=p.H.state;v.search=[];const o=d.W.getRequestedCaipNetworkIds().join(","),{data:c}=await m.get({path:"/getWallets",params:(0,r.A)((0,r.A)({},y._getSdkProperties()),{},{page:"1",entries:"100",search:null===t||void 0===t?void 0:t.trim(),badge_type:n,chains:o,include:null===i||void 0===i?void 0:i.join(","),exclude:null===s||void 0===s?void 0:s.join(",")})});f.E.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:null!==n&&void 0!==n?n:"",search:null!==t&&void 0!==t?t:""}});const l=c.map((e=>e.image_id)).filter(Boolean);await Promise.allSettled([...l.map((e=>y._fetchWalletImage(e))),a.w.wait(300)]),v.search=y._filterOutExtensions(c)},initPromise(e,t){const n=v.promises[e];return n||(v.promises[e]=t())},prefetch(){let{fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=[e&&y.initPromise("connectorImages",y.fetchConnectorImages),t&&y.initPromise("featuredWallets",y.fetchFeaturedWallets),n&&y.initPromise("recommendedWallets",y.fetchRecommendedWallets),r&&y.initPromise("networkImages",y.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var e;null!==(e=p.H.state.features)&&void 0!==e&&e.analytics&&y.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await m.get({path:"/getAnalyticsConfig",params:y._getSdkProperties()});p.H.setFeatures({analytics:e})}catch(e){p.H.setFeatures({analytics:!1})}},setFilterByNamespace(e){if(!e)return v.featured=v.allFeatured,void(v.recommended=v.allRecommended);const t=d.W.getRequestedCaipNetworkIds().join(",");v.featured=v.allFeatured.filter((e=>{var n;return null===(n=e.chains)||void 0===n?void 0:n.some((e=>t.includes(e)))})),v.recommended=v.allRecommended.filter((e=>{var n;return null===(n=e.chains)||void 0===n?void 0:n.some((e=>t.includes(e)))}))}}},6588:(e,t,n)=>{"use strict";var r=n(6373),i=n(6864),s=i.getNAF,o=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var n=e._getDoubles(),r=s(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var o,c,l=[];for(o=0;o<r.length;o+=n.step){c=0;for(var u=o+n.step-1;u>=o;u--)c=(c<<1)+r[u];l.push(c)}for(var d=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<l.length;o++)(c=l[o])===f?h=h.mixedAdd(n.points[o]):c===-f&&(h=h.mixedAdd(n.points[o].neg()));d=d.add(h)}return d.toP()},c.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=s(t,n,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&0===o[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var d=o[l];a(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,r,i){var a,c,l,u=this._wnafT1,d=this._wnafT2,h=this._wnafT3,f=0;for(a=0;a<r;a++){var p=(l=t[a])._getNAFPoints(e);u[a]=p.wnd,d[a]=p.points}for(a=r-1;a>=1;a-=2){var g=a-1,m=a;if(1===u[g]&&1===u[m]){var v=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(v[1]=t[g].add(t[m]),v[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(v[1]=t[g].toJ().mixedAdd(t[m]),v[2]=t[g].add(t[m].neg())):(v[1]=t[g].toJ().mixedAdd(t[m]),v[2]=t[g].toJ().mixedAdd(t[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=o(n[g],n[m]);for(f=Math.max(b[0].length,f),h[g]=new Array(f),h[m]=new Array(f),c=0;c<f;c++){var w=0|b[0][c],A=0|b[1][c];h[g][c]=y[3*(w+1)+(A+1)],h[m][c]=0,d[g]=v}}else h[g]=s(n[g],u[g],this._bitLength),h[m]=s(n[m],u[m],this._bitLength),f=Math.max(h[g].length,f),f=Math.max(h[m].length,f)}var E=this.jpoint(null,null,null),S=this._wnafT4;for(a=f;a>=0;a--){for(var C=0;a>=0;){var _=!0;for(c=0;c<r;c++)S[c]=0|h[c][a],0!==S[c]&&(_=!1);if(!_)break;C++,a--}if(a>=0&&C++,E=E.dblp(C),a<0)break;for(c=0;c<r;c++){var k=S[c];0!==k&&(k>0?l=d[c][k-1>>1]:k<0&&(l=d[c][-k-1>>1].neg()),E="affine"===l.type?E.mixedAdd(l):E.add(l))}}for(a=0;a<r;a++)d[a]=null;return i?E:E.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)r=r.dbl();n.push(r)}return{step:e,points:n}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},6596:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(9379),i=n(574),s=n(6844);const o=(0,i.BX)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),a={state:o,subscribeNetworkImages:e=>(0,i.B1)(o.networkImages,(()=>e(o.networkImages))),subscribeKey:(e,t)=>(0,s.u$)(o,e,t),subscribe:e=>(0,i.B1)(o,(()=>e(o))),setWalletImage(e,t){o.walletImages[e]=t},setNetworkImage(e,t){o.networkImages[e]=t},setChainImage(e,t){o.chainImages[e]=t},setConnectorImage(e,t){o.connectorImages=(0,r.A)((0,r.A)({},o.connectorImages),{},{[e]:t})},setTokenImage(e,t){o.tokenImages[e]=t},setCurrencyImage(e,t){o.currencyImages[e]=t}}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.2.0"},6697:(e,t,n)=>{"use strict";var r,i=t,s=n(3697),o=n(7849),a=n(6864).assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(9112)}catch(u){r=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},6830:(e,t,n)=>{"use strict";n.d(t,{mN:()=>N,AH:()=>l,W3:()=>k,Ec:()=>x,iz:()=>c});const r=globalThis,i=r.ShadowRoot&&(void 0===r.ShadyCSS||r.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class a{constructor(e,t,n){if(this._$cssResult$=!0,n!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(i&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=o.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&o.set(t,e))}return e}toString(){return this.cssText}}const c=e=>new a("string"==typeof e?e:e+"",void 0,s),l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=1===e.length?e[0]:n.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1]),e[0]);return new a(i,e,s)},u=(e,t)=>{if(i)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const n of t){const t=document.createElement("style"),i=r.litNonce;void 0!==i&&t.setAttribute("nonce",i),t.textContent=n.cssText,e.appendChild(t)}},d=i?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return c(t)})(e):e;var h,f,p;const{is:g,defineProperty:m,getOwnPropertyDescriptor:v,getOwnPropertyNames:y,getOwnPropertySymbols:b,getPrototypeOf:w}=Object,A=globalThis,E=A.trustedTypes,S=E?E.emptyScript:"",C=A.reactiveElementPolyfillSupport,_=(e,t)=>e,k={toAttribute(e,t){switch(t){case Boolean:e=e?S:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},x=(e,t)=>!g(e,t),I={attribute:!0,type:String,converter:k,reflect:!1,hasChanged:x};null!==(h=Symbol.metadata)&&void 0!==h||(Symbol.metadata=Symbol("metadata")),null!==(f=A.litPropertyMetadata)&&void 0!==f||(A.litPropertyMetadata=new WeakMap);class N extends HTMLElement{static addInitializer(e){var t;this._$Ei(),(null!==(t=this.l)&&void 0!==t?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&m(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){var r;const{get:i,set:s}=null!==(r=v(this.prototype,e))&&void 0!==r?r:{get(){return this[t]},set(e){this[t]=e}};return{get(){return null===i||void 0===i?void 0:i.call(this)},set(t){const r=null===i||void 0===i?void 0:i.call(this);s.call(this,t),this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return null!==(t=this.elementProperties.get(e))&&void 0!==t?t:I}static _$Ei(){if(this.hasOwnProperty(_("elementProperties")))return;const e=w(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(_("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(_("properties"))){const e=this.properties,t=[...y(e),...b(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[t,n]of this.elementProperties){const e=this._$Eu(t,n);void 0!==e&&this._$Eh.set(e,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(d(e))}else void 0!==e&&t.push(d(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,n;(null!==(t=this._$EO)&&void 0!==t?t:this._$EO=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}removeController(e){var t;null===(t=this._$EO)||void 0===t||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return u(t,this.constructor.elementStyles),t}connectedCallback(){var e,t;null!==(e=this.renderRoot)&&void 0!==e||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$EO)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$EO)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EC(e,t){const n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(void 0!==r&&!0===n.reflect){var i;const s=(void 0!==(null===(i=n.converter)||void 0===i?void 0:i.toAttribute)?n.converter:k).toAttribute(t,n.type);this._$Em=e,null==s?this.removeAttribute(r):this.setAttribute(r,s),this._$Em=null}}_$AK(e,t){const n=this.constructor,r=n._$Eh.get(e);if(void 0!==r&&this._$Em!==r){var i;const e=n.getPropertyOptions(r),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(i=e.converter)||void 0===i?void 0:i.fromAttribute)?e.converter:k;this._$Em=r,this[r]=s.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){var r;if(null!==n&&void 0!==n||(n=this.constructor.getPropertyOptions(e)),!(null!==(r=n.hasChanged)&&void 0!==r?r:x)(this[e],t))return;this.P(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,n){var r;this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Em!==e&&(null!==(r=this._$Ej)&&void 0!==r?r:this._$Ej=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){var e;if(null!==(e=this.renderRoot)&&void 0!==e||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,n]of t)!0!==n.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],n)}let t=!1;const n=this._$AL;try{var r;t=this.shouldUpdate(n),t?(this.willUpdate(n),null!==(r=this._$EO)&&void 0!==r&&r.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$EU()}catch(n){throw t=!1,this._$EU(),n}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null!==(t=this._$EO)&&void 0!==t&&t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach((e=>this._$EC(e,this[e])))),this._$EU()}updated(e){}firstUpdated(e){}}N.elementStyles=[],N.shadowRootOptions={mode:"open"},N[_("elementProperties")]=new Map,N[_("finalized")]=new Map,null!==C&&void 0!==C&&C({ReactiveElement:N}),(null!==(p=A.reactiveElementVersions)&&void 0!==p?p:A.reactiveElementVersions=[]).push("2.0.4")},6844:(e,t,n)=>{"use strict";n.d(t,{u$:()=>i,zC:()=>s});var r=n(574);function i(e,t,n,i){let s=e[t];return(0,r.B1)(e,(()=>{const r=e[t];Object.is(s,r)||n(s=r)}),i)}Symbol();function s(e){const t=(0,r.BX)({data:Array.from(e||[]),has(e){return this.data.some((t=>t[0]===e))},set(e,t){const n=this.data.find((t=>t[0]===e));return n?n[1]=t:this.data.push([e,t]),this},get(e){var t;return null==(t=this.data.find((t=>t[0]===e)))?void 0:t[1]},delete(e){const t=this.data.findIndex((t=>t[0]===e));return-1!==t&&(this.data.splice(t,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(e){this.data.forEach((t=>{e(t[1],t[0],this)}))},keys(){return this.data.map((e=>e[0])).values()},values(){return this.data.map((e=>e[1])).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(t,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(t),t}},6864:(e,t,n)=>{"use strict";var r=t,i=n(6373),s=n(5482),o=n(9848);r.assert=s,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(e,t,n){var r,i=new Array(Math.max(e.bitLength(),n)+1);for(r=0;r<i.length;r+=1)i[r]=0;var s=1<<t+1,o=e.clone();for(r=0;r<i.length;r++){var a,c=o.andln(s-1);o.isOdd()?(a=c>(s>>1)-1?(s>>1)-c:c,o.isubn(a)):a=0,i[r]=a,o.iushrn(1)}return i},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var o,a,c=e.andln(3)+i&3,l=t.andln(3)+s&3;3===c&&(c=-1),3===l&&(l=-1),o=0===(1&c)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==l?c:-c,n[0].push(o),a=0===(1&l)?0:3!==(r=t.andln(7)+s&7)&&5!==r||2!==c?l:-l,n[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),s=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var x=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList";case x:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case A:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var R=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},L=[],B=-1;function F(e){return{current:e}}function j(e){0>B||(e.current=L[B],L[B]=null,B--)}function z(e,t){B++,L[B]=e.current,e.current=t}var W,H,V=F(null),q=F(null),K=F(null),G=F(null);function J(e,t){switch(z(K,t),z(q,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(V),z(V,e)}function Y(){j(V),j(q),j(K)}function Q(e){null!==e.memoizedState&&z(G,e);var t=V.current,n=yd(t,e.type);t!==n&&(z(q,e),z(V,n))}function Z(e){q.current===e&&(j(V),j(q)),G.current===e&&(j(G),uh._currentValue=U)}function X(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+H}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split("\n"),l=a.split("\n");for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||c[r]!==l[i]){var u="\n"+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,ce=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof ge&&me(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ae(e)/Ee|0)|0},Ae=Math.log,Ee=Math.LN2;var Se=256,Ce=262144,_e=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=ke(r):0!==(o&=a)?i=ke(o):n||0!==(n=a&~e)&&(i=ke(n)):0!==(a=r&~s)?i=ke(a):0!==o?i=ke(o):n||0!==(n=r&~e)&&(i=ke(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ue(n))&(e.suspendedLanes|t))?0:n}function Ue(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Be(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:kh(e.type)}function Fe(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var je=Math.random().toString(36).slice(2),ze="__reactFiber$"+je,We="__reactProps$"+je,He="__reactContainer$"+je,Ve="__reactEvents$"+je,qe="__reactListeners$"+je,Ke="__reactHandles$"+je,Ge="__reactResources$"+je,Je="__reactMarker$"+je;function Ye(e){delete e[ze],delete e[We],delete e[Ve],delete e[qe],delete e[Ke]}function Qe(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ud(e);null!==e;){if(n=e[ze])return n;e=Ud(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[ze]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function $e(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Je]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function ct(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function vt(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function yt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wt(e,o,dt(t)):null!=n?wt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function wt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function At(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(R(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function xt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var Rt=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Ut=null;function Lt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(o(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&At(e,!!n.multiple,t,!1)}}}var Bt=!1;function Ft(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==Dt||null!==Ut)&&($l(),Dt&&(t=Dt,e=Ut,Ut=Dt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(zt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Zh){Wt=!1}var Vt=null,qt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=qt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Qt(){return!1}function Zt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Xt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=f({},tn,{view:0,detail:0}),sn=Zt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),an=Zt(on),cn=Zt(f({},on,{dataTransfer:0})),ln=Zt(f({},rn,{relatedTarget:0})),un=Zt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Zt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Zt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function vn(){return mn}var yn=Zt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Zt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Zt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),An=Zt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Zt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Zt(f({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],_n=zt&&"CompositionEvent"in window,kn=null;zt&&"documentMode"in document&&(kn=document.documentMode);var xn=zt&&"TextEvent"in window&&!kn,In=zt&&(!_n||kn&&8<kn&&11>=kn),Nn=String.fromCharCode(32),Tn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Un(e,t,n,r){Dt?Ut?Ut.push(r):Ut=[r]:Dt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Bn=null;function Fn(e){Yu(e,0)}function jn(e){if(pt(Xe(e)))return e}function zn(e,t){if("change"===e)return t}var Wn=!1;if(zt){var Hn;if(zt){var Vn="oninput"in document;if(!Vn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Vn="function"===typeof qn.oninput}Hn=Vn}else Hn=!1;Wn=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){Ln&&(Ln.detachEvent("onpropertychange",Gn),Bn=Ln=null)}function Gn(e){if("value"===e.propertyName&&jn(Bn)){var t=[];Un(t,Bn,e,Mt(e)),Ft(Fn,t)}}function Jn(e,t,n){"focusin"===e?(Kn(),Bn=n,(Ln=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Bn)}function Qn(e,t){if("click"===e)return jn(t)}function Zn(e,t){if("input"===e||"change"===e)return jn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=zt&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,cr=null,lr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==or||or!==gt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&$n(cr,r)||(cr=r,0<(r=rd(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function gr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}zt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var mr=gr("animationend"),vr=gr("animationiteration"),yr=gr("animationstart"),br=gr("transitionrun"),wr=gr("transitionstart"),Ar=gr("transitioncancel"),Er=gr("transitionend"),Sr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Sr.set(e,t),rt(t,[e])}Cr.push("scrollEnd");var kr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},xr=[],Ir=0,Nr=0;function Tr(){for(var e=Ir,t=Nr=Ir=0;t<e;){var n=xr[t];xr[t++]=null;var r=xr[t];xr[t++]=null;var i=xr[t];xr[t++]=null;var s=xr[t];if(xr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Mr(n,i,s)}}function Pr(e,t,n,r){xr[Ir++]=e,xr[Ir++]=t,xr[Ir++]=n,xr[Ir++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Pr(e,t,n,r),Dr(e)}function Rr(e,t){return Pr(e,null,null,t),Dr(e)}function Mr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Dr(e){if(50<Vl)throw Vl=0,ql=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ur={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Fr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case x:return(e=Br(31,n,t,i)).elementType=x,e.lanes=s,e;case v:return Hr(n.children,i,s,t);case y:a=8,i|=24;break;case b:return(e=Br(12,n,t,2|i)).elementType=b,e.lanes=s,e;case S:return(e=Br(13,n,t,i)).elementType=S,e.lanes=s,e;case C:return(e=Br(19,n,t,i)).elementType=C,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case w:a=9;break e;case E:a=11;break e;case _:a=14;break e;case k:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Br(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Hr(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function qr(e){var t=Br(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Jr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Qr=0,Zr=null,Xr=0,$r=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[Qr++]=Xr,Yr[Qr++]=Zr,Zr=e,Xr=t}function si(e,t,n){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-we(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function ai(e){for(;e===Zr;)Zr=Yr[--Qr],Yr[Qr]=null,Xr=Yr[--Qr],Yr[Qr]=null;for(;e===ti;)ti=$r[--ei],$r[ei]=null,ri=$r[--ei],$r[ei]=null,ni=$r[--ei],$r[ei]=null}function ci(e,t){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var li=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(o(519));function gi(e){throw Ai(Jr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[We]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Qu(Gu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ld(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=Ot),t=!0):t=!1,t||gi(e,!0)}function vi(e){for(li=e.return;li;)switch(li.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:li=li.return}}function yi(e){if(e!==li)return!1;if(!di)return vi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Dd(e)}else 27===n?(n=ui,kd(e.type)?(e=Md,Md=null,ui=e):ui=n):ui=li?Rd(e.stateNode.nextSibling):null;return!0}function bi(){ui=li=null,di=!1}function wi(){var e=hi;return null!==e&&(null===Tl?Tl=e:Tl.push.apply(Tl,e),hi=null),e}function Ai(e){null===hi?hi=[e]:hi.push(e)}var Ei=F(null),Si=null,Ci=null;function _i(e,t,n){z(Ei,t._currentValue),t._currentValue=n}function ki(e){e._currentValue=Ei.current,j(Ei)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var c=s;s=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),xi(s.return,n,e),r||(a=null);break e}s=c.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),xi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ni(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var c=i.type;Xn(i.pendingProps.value,a.value)||(null!==e?e.push(c):e=[c])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Ti(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){Si=e,Ci=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oi(e){return Mi(Si,e)}function Ri(e,t){return null===Si&&Pi(e),Mi(e,t)}function Mi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ci){if(null===e)throw Error(o(308));Ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ci=Ci.next=t;return n}var Di="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ui=r.unstable_scheduleCallback,Li=r.unstable_NormalPriority,Bi={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Di,data:new Map,refCount:0}}function ji(e){e.refCount--,0===e.refCount&&Ui(Li,(function(){e.controller.abort()}))}var zi=null,Wi=0,Hi=0,Vi=null;function qi(){if(0===--Wi&&null!==zi){null!==Vi&&(Vi.status="fulfilled");var e=zi;zi=null,Hi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=M.S;M.S=function(e,t){Rl=ce(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Wi=0,Hi=Wu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wi++,t.then(qi,qi)}(0,t),null!==Ki&&Ki(e,t)};var Gi=F(null);function Ji(){var e=Gi.current;return null!==e?e:pl.pooledCache}function Yi(e,t){z(Gi,null===t?Gi.current:t.pool)}function Qi(){var e=Ji();return null===e?null:{parent:Bi._currentValue,pool:e}}var Zi=Error(o(460)),Xi=Error(o(474)),$i=Error(o(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ot,Ot);else{if(null!==(e=pl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw is=t,Zi}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw is=t,Zi;throw t}}var is=null;function ss(){if(null===is)throw Error(o(459));var e=is;return is=null,e}function os(e){if(e===Zi||e===$i)throw Error(o(483))}var as=null,cs=0;function ls(e){var t=cs;return cs+=1,null===as&&(as=[]),ns(as,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===k&&rs(s)===t.type)?(us(t=i(t,n.props),n),t.return=e,t):(us(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return us(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Kr(t,e.mode,n)).return=e,t;case k:return h(e,t=rs(t),n)}if(R(t)||T(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ls(t),n);if(t.$$typeof===A)return h(e,Ri(e,t),n);ds(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case k:return f(e,t,n=rs(n),r)}if(R(n)||T(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ls(n),r);if(n.$$typeof===A)return f(e,t,Ri(e,n),r);ds(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return p(e,t,n,r=rs(r),i)}if(R(r)||T(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,ls(r),i);if(r.$$typeof===A)return p(e,t,n,Ri(t,r),i);ds(t,r)}return null}function y(c,l,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var b=u.key;null!==l;){if(l.key===b){if((b=u.type)===v){if(7===l.tag){n(c,l.sibling),(d=i(l,u.props.children)).return=c,c=d;break e}}else if(l.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===k&&rs(b)===l.type){n(c,l.sibling),us(d=i(l,u.props),u),d.return=c,c=d;break e}n(c,l);break}t(c,l),l=l.sibling}u.type===v?((d=Hr(u.props.children,c.mode,d,u.key)).return=c,c=d):(us(d=Wr(u.type,u.key,u.props,null,c.mode,d),u),d.return=c,c=d)}return a(c);case m:e:{for(b=u.key;null!==l;){if(l.key===b){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(c,l.sibling),(d=i(l,u.children||[])).return=c,c=d;break e}n(c,l);break}t(c,l),l=l.sibling}(d=Kr(u,c.mode,d)).return=c,c=d}return a(c);case k:return y(c,l,u=rs(u),d)}if(R(u))return function(i,o,a,c){for(var l=null,u=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,a[g],c);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,g),null===u?l=v:u.sibling=v,u=v,d=m}if(g===a.length)return n(i,d),di&&ii(i,g),l;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],c))&&(o=s(d,o,g),null===u?l=d:u.sibling=d,u=d);return di&&ii(i,g),l}for(d=r(d);g<a.length;g++)null!==(m=p(d,i,g,a[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),di&&ii(i,g),l}(c,l,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(o(150));return function(i,a,c,l){if(null==c)throw Error(o(151));for(var u=null,d=null,g=a,m=a=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),di&&ii(i,m),u;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=h(i,y.value,l))&&(a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return di&&ii(i,m),u}for(g=r(g);!y.done;m++,y=c.next())null!==(y=p(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),di&&ii(i,m),u}(c,l,u=b.call(u),d)}if("function"===typeof u.then)return y(c,l,ls(u),d);if(u.$$typeof===A)return y(c,l,Ri(c,u),d);ds(c,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==l&&6===l.tag?(n(c,l.sibling),(d=i(l,u)).return=c,c=d):(n(c,l),(d=Vr(u,c.mode,d)).return=c,c=d),a(c)):n(c,l)}return function(e,t,n,r){try{cs=0;var i=y(e,t,n,r);return as=null,i}catch(o){if(o===Zi||o===$i)throw o;var s=Br(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=hs(!0),ps=hs(!1),gs=!1;function ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Dr(e),Mr(e,null,n),t}return Pr(e,r,t,n),Dr(e)}function ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}function As(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Es=!1;function Ss(){if(Es){if(null!==Vi)throw Vi}}function Cs(e,t,n,r){Es=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var d=i.baseState;for(o=0,u=l=c=null,a=s;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(ml&h)===h:(r&h)===h){0!==h&&h===Hi&&(Es=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;h=t;var v=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(v,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=m.payload)?g.call(v,d,h):g)||void 0===h)break e;d=f({},d,h);break e;case 2:gs=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),Cl|=o,e.lanes=o,e.memoizedState=d}}function _s(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ks(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_s(n[e],t)}var xs=F(null),Is=F(0);function Ns(e,t){z(Is,e=El),z(xs,t),El=e|t.baseLanes}function Ts(){z(Is,El),z(xs,xs.current)}function Ps(){El=Is.current,j(xs),j(Is)}var Os=F(null),Rs=null;function Ms(e){var t=e.alternate;z(Fs,1&Fs.current),z(Os,e),null===Rs&&(null===t||null!==xs.current||null!==t.memoizedState)&&(Rs=e)}function Ds(e){z(Fs,Fs.current),z(Os,e),null===Rs&&(Rs=e)}function Us(e){22===e.tag?(z(Fs,Fs.current),z(Os,e),null===Rs&&(Rs=e)):Ls()}function Ls(){z(Fs,Fs.current),z(Os,Os.current)}function Bs(e){j(Os),Rs===e&&(Rs=null),j(Fs)}var Fs=F(0);function js(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Od(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=0,Ws=null,Hs=null,Vs=null,qs=!1,Ks=!1,Gs=!1,Js=0,Ys=0,Qs=null,Zs=0;function Xs(){throw Error(o(321))}function $s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,s){return zs=s,Ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?ma:va,Gs=!1,s=n(r,i),Gs=!1,Ks&&(s=no(t,n,r,i)),to(e),s}function to(e){M.H=ga;var t=null!==Hs&&null!==Hs.next;if(zs=0,Vs=Hs=Ws=null,qs=!1,Ys=0,Qs=null,t)throw Error(o(300));null===e||Ra||null!==(e=e.dependencies)&&Ti(e)&&(Ra=!0)}function no(e,t,n,r){Ws=e;var i=0;do{if(Ks&&(Qs=null),Ys=0,Ks=!1,25<=i)throw Error(o(301));if(i+=1,Vs=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}M.H=ya,s=t(n,r)}while(Ks);return s}function ro(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?lo(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(Ws.flags|=1024),t}function io(){var e=0!==Js;return Js=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(qs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}qs=!1}zs=0,Vs=Hs=Ws=null,Ks=!1,Ys=Js=0,Qs=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vs?Ws.memoizedState=Vs=e:Vs=Vs.next=e,Vs}function co(){if(null===Hs){var e=Ws.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Vs?Ws.memoizedState:Vs.next;if(null!==t)Vs=t,Hs=e;else{if(null===e){if(null===Ws.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Vs?Ws.memoizedState=Vs=e:Vs=Vs.next=e}return Vs}function lo(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),e=ns(Qs,e,t),t=Ws,null===(null===Vs?t.memoizedState:Vs.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?ma:va),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return lo(e);if(e.$$typeof===A)return Oi(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ws.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return go(co(),Hs,e)}function go(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var c=a=null,l=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ml&h)===h:(zs&h)===h){var f=u.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((zs&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=h,a=s):l=l.next=h,Ws.lanes|=f,Cl|=f}h=u.action,Gs&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,a=s):l=l.next=f,Ws.lanes|=h,Cl|=h;u=u.next}while(null!==u&&u!==t);if(null===l?a=s:l.next=c,!Xn(s,e.memoizedState)&&(Ra=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=l,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mo(e){var t=co(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Xn(s,t.memoizedState)||(Ra=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vo(e,t,n){var r=Ws,i=co(),s=di;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Xn((Hs||i).memoizedState,n);if(a&&(i.memoizedState=n,Ra=!0),i=i.queue,Wo(wo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Vs&&1&Vs.memoizedState.tag){if(r.flags|=2048,Lo(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===pl)throw Error(o(349));s||0!==(127&zs)||yo(r,t,n)}return n}function yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Eo(e)}function wo(e,t,n){return n((function(){Ao(t)&&Eo(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Eo(e){var t=Rr(e,2);null!==t&&Jl(t,e,2)}function So(e){var t=ao();if("function"===typeof e){var n=e;if(e=n(),Gs){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function Co(e,t,n,r){return e.baseState=n,go(e,Hs,"function"===typeof r?r:fo)}function _o(e,t,n,r,i){if(ha(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==M.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,ko(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ko(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=M.T,o={};M.T=o;try{var a=n(i,r),c=M.S;null!==c&&c(o,a),xo(e,t,a)}catch(l){No(e,t,l)}finally{null!==s&&null!==o.types&&(s.types=o.types),M.T=s}}else try{xo(e,t,s=n(i,r))}catch(u){No(e,t,u)}}function xo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Io(e,t,n)}),(function(n){return No(e,t,n)})):Io(e,t,n)}function Io(e,t,n){t.status="fulfilled",t.value=n,To(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ko(e,n)))}function No(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,To(t),t=t.next}while(t!==r)}e.action=null}function To(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function Oo(e,t){if(di){var n=pl.formState;if(null!==n){e:{var r=Ws;if(di){if(ui){t:{for(var i=ui,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Rd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ui=Rd(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},n.queue=r,n=la.bind(null,Ws,r),r.dispatch=n,r=So(!1),s=da.bind(null,Ws,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=_o.bind(null,Ws,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ro(e){return Mo(co(),Hs,e)}function Mo(e,t,n){if(t=go(e,t,Po)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=lo(t)}catch(o){if(o===Zi)throw $i;throw o}else r=t;var i=(t=co()).queue,s=i.dispatch;return n!==t.memoizedState&&(Ws.flags|=2048,Lo(9,{destroy:void 0},Do.bind(null,i,n),null)),[r,s,e]}function Do(e,t){e.action=t}function Uo(e){var t=co(),n=Hs;if(null!==n)return Mo(t,n,e);co(),t=t.memoizedState;var r=(n=co()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Lo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return co().memoizedState}function Fo(e,t,n,r){var i=ao();Ws.flags|=e,i.memoizedState=Lo(1|t,{destroy:void 0},n,void 0===r?null:r)}function jo(e,t,n,r){var i=co();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Hs&&null!==r&&$s(r,Hs.memoizedState.deps)?i.memoizedState=Lo(t,s,n,r):(Ws.flags|=e,i.memoizedState=Lo(1|t,s,n,r))}function zo(e,t){Fo(8390656,8,e,t)}function Wo(e,t){jo(2048,8,e,t)}function Ho(e){var t=co().memoizedState;return function(e){Ws.flags|=4;var t=Ws.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fl))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Vo(e,t){return jo(4,2,e,t)}function qo(e,t){return jo(4,4,e,t)}function Ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Ko.bind(null,t,e),n)}function Jo(){}function Yo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&$s(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&$s(t,r[1]))return r[0];if(r=e(),Gs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Zo(e,t,n){return void 0===n||0!==(1073741824&zs)&&0===(261930&ml)?e.memoizedState=t:(e.memoizedState=n,e=Gl(),Ws.lanes|=e,Cl|=e,n)}function Xo(e,t,n,r){return Xn(n,t)?n:null!==xs.current?(e=Zo(e,n,r),Xn(e,t)||(Ra=!0),e):0===(42&zs)||0!==(1073741824&zs)&&0===(261930&ml)?(Ra=!0,e.memoizedState=n):(e=Gl(),Ws.lanes|=e,Cl|=e,t)}function $o(e,t,n,r,i){var s=D.p;D.p=0!==s&&8>s?s:8;var o=M.T,a={};M.T=a,da(e,!1,t,n);try{var c=i(),l=M.S;if(null!==l&&l(a,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(c,r),Kl());else ua(e,t,r,Kl())}catch(u){ua(e,t,{then:function(){},status:"rejected",reason:u},Kl())}finally{D.p=s,null!==o&&null!==a.types&&(o.types=a.types),M.T=o}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=na(e).queue;$o(e,i,t,U,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Kl())}function ia(){return Oi(uh)}function sa(){return co().memoizedState}function oa(){return co().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kl(),r=bs(t,e=ys(n),n);return null!==r&&(Jl(r,t,n),ws(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function ca(e,t,n){var r=Kl();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ha(e)?fa(t,n):null!==(n=Or(e,t,n,r))&&(Jl(n,e,r),pa(n,t,r))}function la(e,t,n){ua(e,t,n,Kl())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ha(e))fa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xn(a,o))return Pr(e,t,i,0),null===pl&&Tr(),!1}catch(c){}if(null!==(n=Or(e,t,i,r)))return Jl(n,e,r),pa(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:Wu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ha(e)){if(t)throw Error(o(479))}else null!==(t=Or(e,n,r,2))&&Jl(t,e,2)}function ha(e){var t=e.alternate;return e===Ws||null!==t&&t===Ws}function fa(e,t){Ks=qs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}var ga={readContext:Oi,use:uo,useCallback:Xs,useContext:Xs,useEffect:Xs,useImperativeHandle:Xs,useLayoutEffect:Xs,useInsertionEffect:Xs,useMemo:Xs,useReducer:Xs,useRef:Xs,useState:Xs,useDebugValue:Xs,useDeferredValue:Xs,useTransition:Xs,useSyncExternalStore:Xs,useId:Xs,useHostTransitionStatus:Xs,useFormState:Xs,useActionState:Xs,useOptimistic:Xs,useMemoCache:Xs,useCacheRefresh:Xs};ga.useEffectEvent=Xs;var ma={readContext:Oi,use:uo,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:zo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){Fo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Gs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Gs){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ca.bind(null,Ws,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=So(e)).queue,n=la.bind(null,Ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jo,useDeferredValue:function(e,t){return Zo(ao(),e,t)},useTransition:function(){var e=So(!1);return e=$o.bind(null,Ws,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ws,i=ao();if(di){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===pl)throw Error(o(349));0!==(127&ml)||yo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zo(wo.bind(null,r,s,e),[e]),r.flags|=2048,Lo(9,{destroy:void 0},bo.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=pl.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=Js++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:Oo,useActionState:Oo,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,Ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ao().memoizedState=aa.bind(null,Ws)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fl))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Oi,use:uo,useCallback:Yo,useContext:Oi,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:qo,useMemo:Qo,useReducer:po,useRef:Bo,useState:function(){return po(fo)},useDebugValue:Jo,useDeferredValue:function(e,t){return Xo(co(),Hs.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=co().memoizedState;return["boolean"===typeof e?e:lo(e),t]},useSyncExternalStore:vo,useId:sa,useHostTransitionStatus:ia,useFormState:Ro,useActionState:Ro,useOptimistic:function(e,t){return Co(co(),0,e,t)},useMemoCache:ho,useCacheRefresh:oa};va.useEffectEvent=Ho;var ya={readContext:Oi,use:uo,useCallback:Yo,useContext:Oi,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:qo,useMemo:Qo,useReducer:mo,useRef:Bo,useState:function(){return mo(fo)},useDebugValue:Jo,useDeferredValue:function(e,t){var n=co();return null===Hs?Zo(n,e,t):Xo(n,Hs.memoizedState,e,t)},useTransition:function(){var e=mo(fo)[0],t=co().memoizedState;return["boolean"===typeof e?e:lo(e),t]},useSyncExternalStore:vo,useId:sa,useHostTransitionStatus:ia,useFormState:Uo,useActionState:Uo,useOptimistic:function(e,t){var n=co();return null!==Hs?Co(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:oa};function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ya.useEffectEvent=Ho;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kl(),i=ys(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Jl(t,e,r),ws(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kl(),i=ys(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Jl(t,e,r),ws(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kl(),r=ys(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bs(e,r,n))&&(Jl(t,e,n),ws(t,e,n))}};function Aa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,s))}function Ea(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ca(e){kr(e)}function _a(e){console.error(e)}function ka(e){kr(e)}function xa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ia(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Na(e,t,n){return(n=ys(n)).tag=3,n.payload={element:null},n.callback=function(){xa(e,t)},n}function Ta(e){return(e=ys(e)).tag=3,e}function Pa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Ia(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Ia(t,n,r),"function"!==typeof i&&(null===Ul?Ul=new Set([this]):Ul.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Oa=Error(o(461)),Ra=!1;function Ma(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Pi(t),r=eo(e,t,n,o,s,i),a=io(),null===e||Ra?(di&&a&&oi(t),t.flags|=1,Ma(e,t,r,i),t.child):(so(e,t,i),ic(e,t,i))}function Ua(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,La(e,t,s,r,i))}if(s=e.child,!sc(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(o,r)&&e.ref===t.ref)return ic(e,t,i)}return t.flags|=1,(e=jr(s,r)).ref=t.ref,e.return=t,t.child=e}function La(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if($n(s,r)&&e.ref===t.ref){if(Ra=!1,t.pendingProps=r=s,!sc(e,i))return t.lanes=e.lanes,ic(e,t,i);0!==(131072&e.flags)&&(Ra=!0)}}return Va(e,t,n,r,i)}function Ba(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return ja(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,ja(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?Ns(t,s):Ts(),Us(t)}else null!==s?(Yi(0,s.cachePool),Ns(t,s),Ls(),t.memoizedState=null):(null!==e&&Yi(0,null),Ts(),Ls());return Ma(e,t,i,n),t.child}function Fa(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ja(e,t,n,r,i){var s=Ji();return s=null===s?null:{parent:Bi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Yi(0,null),Ts(),Us(t),null!==e&&Ni(e,t,r,!0),t.childLanes=i,null}function za(e,t){return(t=$a({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Wa(e,t,n){return fs(t,e.child,null,n),(e=za(t,t.pendingProps)).flags|=2,Bs(t),t.memoizedState=null,e}function Ha(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Va(e,t,n,r,i){return Pi(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Ra?(di&&r&&oi(t),t.flags|=1,Ma(e,t,n,i),t.child):(so(e,t,i),ic(e,t,i))}function qa(e,t,n,r,i,s){return Pi(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Ra?(di&&r&&oi(t),t.flags|=1,Ma(e,t,n,s),t.child):(so(e,t,s),ic(e,t,s))}function Ka(e,t,n,r,i){if(Pi(t),null===t.stateNode){var s=Ur,o=n.contextType;"object"===typeof o&&null!==o&&(s=Oi(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=wa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ms(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Oi(o):Ur,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ba(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&wa.enqueueReplaceState(s,s.state,null),Cs(t,r,s,i),Ss(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,c=Sa(n,a);s.props=c;var l=s.context,u=n.contextType;o=Ur,"object"===typeof u&&null!==u&&(o=Oi(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||l!==o)&&Ea(t,s,r,o),gs=!1;var h=t.memoizedState;s.state=h,Cs(t,r,s,i),Ss(),l=t.memoizedState,a||h!==l||gs?("function"===typeof d&&(ba(t,n,d,r),l=t.memoizedState),(c=gs||Aa(t,n,c,r,h,l,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=o,r=c):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),u=Sa(n,o=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,l=n.contextType,c=Ur,"object"===typeof l&&null!==l&&(c=Oi(l)),(l="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==c)&&Ea(t,s,r,c),gs=!1,h=t.memoizedState,s.state=h,Cs(t,r,s,i),Ss();var f=t.memoizedState;o!==d||h!==f||gs||null!==e&&null!==e.dependencies&&Ti(e.dependencies)?("function"===typeof a&&(ba(t,n,a,r),f=t.memoizedState),(u=gs||Aa(t,n,u,r,h,f,c)||null!==e&&null!==e.dependencies&&Ti(e.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=c,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ha(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Ma(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ic(e,t,i),e}function Ga(e,t,n,r){return bi(),t.flags|=256,Ma(e,t,n,r),t.child}var Ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ya(e){return{baseLanes:e,cachePool:Qi()}}function Qa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=xl),e}function Za(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Fs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(s?Ms(t):Ls(),(e=ui)?null!==(e=null!==(e=Td(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,li=t,ui=null):e=null,null===e)throw gi(t);return Od(e)?t.lanes=32:t.lanes=536870912,null}var c=i.children;return i=i.fallback,s?(Ls(),c=$a({mode:"hidden",children:c},s=t.mode),i=Hr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(i=t.child).memoizedState=Ya(n),i.childLanes=Qa(e,r,n),t.memoizedState=Ja,Fa(null,i)):(Ms(t),Xa(t,c))}var l=e.memoizedState;if(null!==l&&null!==(c=l.dehydrated)){if(a)256&t.flags?(Ms(t),t.flags&=-257,t=ec(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),c=i.fallback,s=t.mode,i=$a({mode:"visible",children:i.children},s),(c=Hr(c,s,n,null)).flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=Ya(n),i.childLanes=Qa(e,r,n),t.memoizedState=Ja,t=Fa(null,i));else if(Ms(t),Od(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,Ai({value:i,source:null,stack:null}),t=ec(e,t,n)}else if(Ra||Ni(e,t,n,!1),r=0!==(n&e.childLanes),Ra||r){if(null!==(r=pl)&&(0!==(i=De(r,n))&&i!==l.retryLane))throw l.retryLane=i,Rr(e,i),Jl(r,e,i),Oa;Pd(c)||ou(),t=ec(e,t,n)}else Pd(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ui=Rd(c.nextSibling),li=t,di=!0,hi=null,fi=!1,null!==e&&ci(t,e),(t=Xa(t,i.children)).flags|=4096);return t}return s?(Ls(),c=i.fallback,s=t.mode,u=(l=e.child).sibling,(i=jr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?c=jr(u,c):(c=Hr(c,s,n,null)).flags|=2,c.return=t,i.return=t,i.sibling=c,t.child=i,Fa(null,i),i=t.child,null===(c=e.child.memoizedState)?c=Ya(n):(null!==(s=c.cachePool)?(l=Bi._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=Qi(),c={baseLanes:c.baseLanes|n,cachePool:s}),i.memoizedState=c,i.childLanes=Qa(e,r,n),t.memoizedState=Ja,Fa(e.child,i)):(Ms(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=$a({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $a(e,t){return(e=Br(22,e,null,t)).lanes=0,e}function ec(e,t,n){return fs(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tc(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function nc(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function rc(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Fs.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,z(Fs,o),Ma(e,t,r,n),r=di?Xr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tc(e,n,t);else if(19===e.tag)tc(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===js(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nc(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===js(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nc(t,!0,n,null,s,r);break;case"together":nc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ic(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ni(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sc(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ti(e))}function oc(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ra=!0;else{if(!sc(e,n)&&0===(128&t.flags))return Ra=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),_i(0,Bi,e.memoizedState.cache),bi();break;case 27:case 5:Q(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ds(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ms(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Za(e,t,n):(Ms(t),null!==(e=ic(e,t,n))?e.sibling:null);Ms(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ni(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rc(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(Fs,Fs.current),r)break;return null;case 22:return t.lanes=0,Ba(e,t,n,t.pendingProps);case 24:_i(0,Bi,e.memoizedState.cache)}return ic(e,t,n)}(e,t,n);Ra=0!==(131072&e.flags)}else Ra=!1,di&&0!==(1048576&t.flags)&&si(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===E){t.tag=11,t=Da(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Ua(null,t,e,r,n);break e}}throw t=O(e)||e,Error(o(306,t,""))}Fr(e)?(r=Sa(e,r),t.tag=1,t=Ka(null,t,e,r,n)):(t.tag=0,t=Va(null,t,e,r,n))}return t;case 0:return Va(e,t,t.type,t.pendingProps,n);case 1:return Ka(e,t,r=t.type,i=Sa(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,vs(e,t),Cs(t,r,null,n);var a=t.memoizedState;if(r=a.cache,_i(0,Bi,r),r!==s.cache&&Ii(t,[Bi],n,!0),Ss(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ga(e,t,r,n);break e}if(r!==i){Ai(i=Jr(Error(o(424)),t)),t=Ga(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Rd(e.firstChild),li=t,di=!0,hi=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=ic(e,t,n);break e}Ma(e,t,r,n)}t=t.child}return t;case 26:return Ha(e,t),null===e?(n=qd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=md(K.current).createElement(n))[ze]=t,r[We]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&di&&(r=t.stateNode=Ld(t.type,t.pendingProps,K.current),li=t,fi=!0,i=ui,kd(t.type)?(Md=i,ui=Rd(r.firstChild)):ui=i),Ma(e,t,t.pendingProps.children,n),Ha(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,li=t,ui=Rd(r.firstChild),fi=!1,i=!0):i=!1),i||gi(t)),Q(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,bd(i,s)?r=null:null!==a&&bd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),uh._currentValue=i),Ha(e,t),Ma(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,li=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return Za(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Ma(e,t,r,n),t.child;case 11:return Da(e,t,t.type,t.pendingProps,n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Ma(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Pi(t),r=r(i=Oi(i)),t.flags|=1,Ma(e,t,r,n),t.child;case 14:return Ua(e,t,t.type,t.pendingProps,n);case 15:return La(e,t,t.type,t.pendingProps,n);case 19:return rc(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=za(t,r),t.lanes=536870912,Fa(null,e);if(Ds(t),(e=ui)?null!==(e=null!==(e=Td(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,li=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return za(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(Ds(t),i)if(256&t.flags)t.flags&=-257,t=Wa(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ra||Ni(e,t,n,!1),i=0!==(n&e.childLanes),Ra||i){if(null!==(r=pl)&&0!==(a=De(r,n))&&a!==s.retryLane)throw s.retryLane=a,Rr(e,a),Jl(r,e,a),Oa;ou(),t=Wa(e,t,n)}else e=s.treeContext,ui=Rd(a.nextSibling),li=t,di=!0,hi=null,fi=!1,null!==e&&ci(t,e),(t=za(t,r)).flags|=4096;return t}return(e=jr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ba(e,t,n,t.pendingProps);case 24:return Pi(t),r=Oi(Bi),null===e?(null===(i=Ji())&&(i=pl,s=Fi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ms(t),_i(0,Bi,i)):(0!==(e.lanes&n)&&(vs(e,t),Cs(t,null,null,n),Ss()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Bi,r)):(r=s.cache,_i(0,Bi,r),r!==i.cache&&Ii(t,[Bi],n,!0))),Ma(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ac(e){e.flags|=4}function cc(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw is=es,Xi;e.flags|=8192}}else e.flags&=-16777217}function lc(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!ru())throw is=es,Xi;e.flags|=8192}}function uc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,Il|=t)}function dc(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fc(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hc(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ki(Bi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yi(t)?ac(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wi())),hc(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ac(t),null!==s?(hc(t),lc(t,s)):(hc(t),cc(t,i,0,0,n))):s?s!==e.memoizedState?(ac(t),hc(t),lc(t,s)):(hc(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ac(t),hc(t),cc(t,i,0,0,n)),null;case 27:if(Z(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return hc(t),null}e=V.current,yi(t)?mi(t):(e=Ld(i,r,n),t.stateNode=e,ac(t))}return hc(t),null;case 5:if(Z(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return hc(t),null}if(s=V.current,yi(t))mi(t);else{var a=md(K.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[ze]=t,s[We]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(hd(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ac(t)}}return hc(t),cc(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=K.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=li))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ld(e.nodeValue,n)))||gi(t,!0)}else(e=md(e).createTextNode(r))[ze]=t,t.stateNode=e}return hc(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=yi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[ze]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hc(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bs(t),t):(Bs(t),null);if(0!==(128&t.flags))throw Error(o(558))}return hc(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ze]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hc(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Bs(t),t):(Bs(t),null)}return Bs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),uc(t,t.updateQueue),hc(t),null);case 4:return Y(),null===e&&$u(t.stateNode.containerInfo),hc(t),null;case 10:return ki(t.type),hc(t),null;case 19:if(j(Fs),null===(r=t.memoizedState))return hc(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)dc(r,!1);else{if(0!==Sl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=js(e))){for(t.flags|=128,dc(r,!1),e=s.updateQueue,t.updateQueue=e,uc(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Fs,1&Fs.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ce()>Ml&&(t.flags|=128,i=!0,dc(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=js(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,uc(t,e),dc(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!di)return hc(t),null}else 2*ce()-r.renderingStartTime>Ml&&536870912!==n&&(t.flags|=128,i=!0,dc(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ce(),e.sibling=null,n=Fs.current,z(Fs,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(hc(t),null);case 22:case 23:return Bs(t),Ps(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hc(t),6&t.subtreeFlags&&(t.flags|=8192)):hc(t),null!==(n=t.updateQueue)&&uc(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&j(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ki(Bi),hc(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pc(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ki(Bi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Bs(t),null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return j(Fs),null;case 4:return Y(),null;case 10:return ki(t.type),null;case 22:case 23:return Bs(t),Ps(),null!==e&&j(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ki(Bi),null;default:return null}}function gc(e,t){switch(ai(t),t.tag){case 3:ki(Bi),Y();break;case 26:case 27:case 5:Z(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Bs(t);break;case 13:Bs(t);break;case 19:j(Fs);break;case 10:ki(t.type);break;case 22:case 23:Bs(t),Ps(),null!==e&&j(Gi);break;case 24:ki(Bi)}}function mc(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){Su(t,t.return,a)}}function vc(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var c=n,l=a;try{l()}catch(u){Su(i,c,u)}}}r=r.next}while(r!==s)}}catch(u){Su(t,t.return,u)}}function yc(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ks(t,n)}catch(r){Su(e,e.return,r)}}}function bc(e,t,n){n.props=Sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Su(e,t,r)}}function wc(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Su(e,t,i)}}function Ac(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Su(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Su(e,t,s)}else n.current=null}function Ec(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Su(e,e.return,i)}}function Sc(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,c=null,l=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(p)||ud(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&ud(e,t,f,p,r,h)}}return void yt(e,a,c,l,u,d,s,i);case"select":for(s in p=a=c=f=null,n)if(l=n[s],n.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||ud(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":f=s;break;case"defaultValue":c=s;break;case"multiple":a=s;default:s!==l&&ud(e,t,i,s,r,l)}return t=c,n=a,r=p,void(null!=f?At(e,!!n,f,!1):!!r!==!!n&&(null!=t?At(e,!!n,t,!0):At(e,!!n,n?[]:"",!1)));case"textarea":for(c in p=f=null,n)if(i=n[c],n.hasOwnProperty(c)&&null!=i&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:ud(e,t,c,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&ud(e,t,a,i,r,s)}return void Et(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else ud(e,t,g,null,r,f);for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,l,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&ud(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ud(e,t,u,f,r,p)}return;default:if(It(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ud(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,r,p)}(r,e.type,n,t),r[We]=t}catch(i){Su(e,e.return,i)}}function Cc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&kd(e.type)||4===e.tag}function _c(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&kd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function kc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ot));else if(4!==r&&(27===r&&kd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(kc(e,t,n),e=e.sibling;null!==e;)kc(e,t,n),e=e.sibling}function xc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&kd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xc(e,t,n),e=e.sibling;null!==e;)xc(e,t,n),e=e.sibling}function Ic(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hd(t,r,n),t[ze]=e,t[We]=n}catch(s){Su(e,e.return,s)}}var Nc=!1,Tc=!1,Pc=!1,Oc="function"===typeof WeakSet?WeakSet:Set,Rc=null;function Mc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Jc(e,n),4&r&&mc(5,n);break;case 1:if(Jc(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Su(n,n.return,o)}else{var i=Sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Su(n,n.return,a)}}64&r&&yc(n),512&r&&wc(n,n.return);break;case 3:if(Jc(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ks(e,t)}catch(o){Su(n,n.return,o)}}break;case 27:null===t&&4&r&&Ic(n);case 26:case 5:Jc(e,n),null===t&&4&r&&Ec(n),512&r&&wc(n,n.return);break;case 12:Jc(e,n);break;case 31:Jc(e,n),4&r&&jc(e,n);break;case 13:Jc(e,n),4&r&&zc(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=xu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Nc)){t=null!==t&&null!==t.memoizedState||Tc,i=Nc;var s=Tc;Nc=r,(Tc=t)&&!s?Qc(e,n,0!==(8772&n.subtreeFlags)):Jc(e,n),Nc=i,Tc=s}break;case 30:break;default:Jc(e,n)}}function Dc(e){var t=e.alternate;null!==t&&(e.alternate=null,Dc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Uc=null,Lc=!1;function Bc(e,t,n){for(n=n.child;null!==n;)Fc(e,t,n),n=n.sibling}function Fc(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Tc||Ac(n,t),Bc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Tc||Ac(n,t);var r=Uc,i=Lc;kd(n.type)&&(Uc=n.stateNode,Lc=!1),Bc(e,t,n),Bd(n.stateNode),Uc=r,Lc=i;break;case 5:Tc||Ac(n,t);case 6:if(r=Uc,i=Lc,Uc=null,Bc(e,t,n),Lc=i,null!==(Uc=r))if(Lc)try{(9===Uc.nodeType?Uc.body:"HTML"===Uc.nodeName?Uc.ownerDocument.body:Uc).removeChild(n.stateNode)}catch(o){Su(n,t,o)}else try{Uc.removeChild(n.stateNode)}catch(o){Su(n,t,o)}break;case 18:null!==Uc&&(Lc?(xd(9===(e=Uc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):xd(Uc,n.stateNode));break;case 4:r=Uc,i=Lc,Uc=n.stateNode.containerInfo,Lc=!0,Bc(e,t,n),Uc=r,Lc=i;break;case 0:case 11:case 14:case 15:vc(2,n,t),Tc||vc(4,n,t),Bc(e,t,n);break;case 1:Tc||(Ac(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bc(n,t,r)),Bc(e,t,n);break;case 21:Bc(e,t,n);break;case 22:Tc=(r=Tc)||null!==n.memoizedState,Bc(e,t,n),Tc=r;break;default:Bc(e,t,n)}}function jc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(n){Su(t,t.return,n)}}}function zc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(n){Su(t,t.return,n)}}function Wc(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Oc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Oc),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}}))}function Hc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 27:if(kd(c.type)){Uc=c.stateNode,Lc=!1;break e}break;case 5:Uc=c.stateNode,Lc=!1;break e;case 3:case 4:Uc=c.stateNode.containerInfo,Lc=!0;break e}c=c.return}if(null===Uc)throw Error(o(160));Fc(s,a,i),Uc=null,Lc=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)qc(t,e),t=t.sibling}var Vc=null;function qc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hc(t,e),Kc(e),4&r&&(vc(3,e,e.return),mc(3,e),vc(5,e,e.return));break;case 1:Hc(t,e),Kc(e),512&r&&(Tc||null===n||Ac(n,n.return)),64&r&&Nc&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Vc;if(Hc(t,e),Kc(e),512&r&&(Tc||null===n||Ac(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Je]||s[ze]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),hd(s,r,n),s[ze]=e,et(s),r=s;break e;case"link":var a=nh("link","href",i).get(r+(n.href||""));if(a)for(var c=0;c<a.length;c++)if((s=a[c]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(c,1);break t}hd(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=nh("meta","content",i).get(r+(n.content||"")))for(c=0;c<a.length;c++)if((s=a[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(c,1);break t}hd(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[ze]=e,et(s),r=s}e.stateNode=r}else rh(i,e.type,e.stateNode);else e.stateNode=Zd(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rh(i,e.type,e.stateNode):Zd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hc(t,e),Kc(e),512&r&&(Tc||null===n||Ac(n,n.return)),null!==n&&4&r&&Sc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hc(t,e),Kc(e),512&r&&(Tc||null===n||Ac(n,n.return)),32&e.flags){i=e.stateNode;try{Ct(i,"")}catch(g){Su(e,e.return,g)}}4&r&&null!=e.stateNode&&Sc(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Pc=!0);break;case 6:if(Hc(t,e),Kc(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Su(e,e.return,g)}}break;case 3:if(th=null,i=Vc,Vc=zd(t.containerInfo),Hc(t,e),Vc=i,Kc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(g){Su(e,e.return,g)}Pc&&(Pc=!1,Gc(e));break;case 4:r=Vc,Vc=zd(e.stateNode.containerInfo),Hc(t,e),Kc(e),Vc=r;break;case 12:default:Hc(t,e),Kc(e);break;case 31:case 19:Hc(t,e),Kc(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wc(e,r)));break;case 13:Hc(t,e),Kc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ol=ce()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wc(e,r)));break;case 22:i=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,u=Nc,d=Tc;if(Nc=u||i,Tc=d||l,Hc(t,e),Tc=d,Nc=u,Kc(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||l||Nc||Tc||Yc(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(s=l.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{c=l.stateNode;var h=l.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;c.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(g){Su(l,l.return,g)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){Su(l,l.return,g)}}}else if(18===t.tag){if(null===n){l=t;try{var p=l.stateNode;i?Id(p,!0):Id(l.stateNode,!1)}catch(g){Su(l,l.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Wc(e,n))));case 30:case 21:}}function Kc(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cc(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;xc(e,_c(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(Ct(s,""),n.flags&=-33),xc(e,_c(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;kc(e,_c(e),a);break;default:throw Error(o(161))}}catch(c){Su(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Jc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Mc(e,t.alternate,t),t=t.sibling}function Yc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vc(4,t,t.return),Yc(t);break;case 1:Ac(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bc(t,t.return,n),Yc(t);break;case 27:Bd(t.stateNode);case 26:case 5:Ac(t,t.return),Yc(t);break;case 22:null===t.memoizedState&&Yc(t);break;default:Yc(t)}e=e.sibling}}function Qc(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Qc(i,s,n),mc(4,s);break;case 1:if(Qc(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){Su(r,r.return,l)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)_s(c[i],a)}catch(l){Su(r,r.return,l)}}n&&64&o&&yc(s),wc(s,s.return);break;case 27:Ic(s);case 26:case 5:Qc(i,s,n),n&&null===r&&4&o&&Ec(s),wc(s,s.return);break;case 12:Qc(i,s,n);break;case 31:Qc(i,s,n),n&&4&o&&jc(i,s);break;case 13:Qc(i,s,n),n&&4&o&&zc(i,s);break;case 22:null===s.memoizedState&&Qc(i,s,n),wc(s,s.return);break;case 30:break;default:Qc(i,s,n)}t=t.sibling}}function Zc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ji(n))}function Xc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e))}function $c(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)el(e,t,n,r),t=t.sibling}function el(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$c(e,t,n,r),2048&i&&mc(9,t);break;case 1:case 31:case 13:default:$c(e,t,n,r);break;case 3:$c(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e)));break;case 12:if(2048&i){$c(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Su(t,t.return,c)}}else $c(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?$c(e,t,n,r):nl(e,t):2&s._visibility?$c(e,t,n,r):(s._visibility|=2,tl(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Zc(o,t);break;case 24:$c(e,t,n,r),2048&i&&Xc(t.alternate,t)}}function tl(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:tl(s,o,a,c,i),mc(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tl(s,o,a,c,i):nl(s,o):(u._visibility|=2,tl(s,o,a,c,i)),i&&2048&l&&Zc(o.alternate,o);break;case 24:tl(s,o,a,c,i),i&&2048&l&&Xc(o.alternate,o);break;default:tl(s,o,a,c,i)}t=t.sibling}}function nl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nl(n,r),2048&i&&Zc(r.alternate,r);break;case 24:nl(n,r),2048&i&&Xc(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var rl=8192;function il(e,t,n){if(e.subtreeFlags&rl)for(e=e.child;null!==e;)sl(e,t,n),e=e.sibling}function sl(e,t,n){switch(e.tag){case 26:il(e,t,n),e.flags&rl&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kd(r.href),s=t.querySelector(Gd(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Jd(r),(i=Fd.get(i))&&$d(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),hd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vc,e.memoizedState,e.memoizedProps);break;case 5:default:il(e,t,n);break;case 3:case 4:var r=Vc;Vc=zd(e.stateNode.containerInfo),il(e,t,n),Vc=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rl,rl=16777216,il(e,t,n),rl=r):il(e,t,n))}}function ol(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rc=r,ul(r,e)}ol(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cl(e),e=e.sibling}function cl(e){switch(e.tag){case 0:case 11:case 15:al(e),2048&e.flags&&vc(9,e,e.return);break;case 3:case 12:default:al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ll(e)):al(e)}}function ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rc=r,ul(r,e)}ol(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vc(8,t,t.return),ll(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ll(t));break;default:ll(t)}e=e.sibling}}function ul(e,t){for(;null!==Rc;){var n=Rc;switch(n.tag){case 0:case 11:case 15:vc(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ji(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rc=r;else e:for(n=e;null!==Rc;){var i=(r=Rc).sibling,s=r.return;if(Dc(r),r===n){Rc=null;break e}if(null!==i){i.return=s,Rc=i;break e}Rc=s}}}var dl={getCacheForType:function(e){var t=Oi(Bi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oi(Bi).controller.signal}},hl="function"===typeof WeakMap?WeakMap:Map,fl=0,pl=null,gl=null,ml=0,vl=0,yl=null,bl=!1,wl=!1,Al=!1,El=0,Sl=0,Cl=0,_l=0,kl=0,xl=0,Il=0,Nl=null,Tl=null,Pl=!1,Ol=0,Rl=0,Ml=1/0,Dl=null,Ul=null,Ll=0,Bl=null,Fl=null,jl=0,zl=0,Wl=null,Hl=null,Vl=0,ql=null;function Kl(){return 0!==(2&fl)&&0!==ml?ml&-ml:null!==M.T?Wu():Be()}function Gl(){if(0===xl)if(0===(536870912&ml)||di){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),xl=e}else xl=536870912;return null!==(e=Os.current)&&(e.flags|=32),xl}function Jl(e,t,n){(e!==pl||2!==vl&&9!==vl)&&null===e.cancelPendingCommit||(tu(e,0),Xl(e,ml,xl,!1)),Oe(e,n),0!==(2&fl)&&e===pl||(e===pl&&(0===(2&fl)&&(_l|=n),4===Sl&&Xl(e,ml,xl,!1)),Du(e))}function Yl(e,t,n){if(0!==(6&fl))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=fl;fl|=2;var r=iu(),i=su();pl!==e||ml!==t?(Dl=null,Ml=ce()+500,tu(e,t)):wl=Ie(e,t);e:for(;;)try{if(0!==vl&&null!==gl){t=gl;var s=yl;t:switch(vl){case 1:vl=0,yl=null,hu(e,t,s,1);break;case 2:case 9:if(ts(s)){vl=0,yl=null,du(t);break}t=function(){2!==vl&&9!==vl||pl!==e||(vl=7),Du(e)},s.then(t,t);break e;case 3:vl=7;break e;case 4:vl=5;break e;case 7:ts(s)?(vl=0,yl=null,du(t)):(vl=0,yl=null,hu(e,t,s,7));break;case 5:var a=null;switch(gl.tag){case 26:a=gl.memoizedState;case 5:case 27:var c=gl;if(a?ih(a):c.stateNode.complete){vl=0,yl=null;var l=c.sibling;if(null!==l)gl=l;else{var u=c.return;null!==u?(gl=u,fu(u)):gl=null}break t}}vl=0,yl=null,hu(e,t,s,5);break;case 6:vl=0,yl=null,hu(e,t,s,6);break;case 8:eu(),Sl=6;break e;default:throw Error(o(462))}}lu();break}catch(d){nu(e,d)}return Ci=Si=null,M.H=r,M.A=i,fl=n,null!==gl?0:(pl=null,ml=0,Tr(),Sl)}(e,t):au(e,t,!0),s=r;;){if(0===i){wl&&!r&&Xl(e,t,0,!1);break}if(n=e.current.alternate,!s||Zl(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var c=e;i=Nl;var l=c.current.memoizedState.isDehydrated;if(l&&(tu(c,a).flags|=256),2!==(a=au(c,a,!1))){if(Al&&!l){c.errorRecoveryDisabledLanes|=s,_l|=s,i=4;break e}s=Tl,Tl=i,null!==s&&(null===Tl?Tl=s:Tl.push.apply(Tl,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){tu(e,0),Xl(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Xl(r,t,xl,!bl);break e;case 2:Tl=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Ol+300-ce())){if(Xl(r,t,xl,!bl),0!==xe(r,0,!0))break e;jl=t,r.timeoutHandle=Ad(Ql.bind(null,r,n,Tl,Dl,Pl,t,xl,_l,Il,bl,s,"Throttled",-0,0),i)}else Ql(r,n,Tl,Dl,Pl,t,xl,_l,Il,bl,s,null,-0,0)}break}i=au(e,t,!1),s=!1}Du(e)}function Ql(e,t,n,r,i,s,o,a,c,l,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sl(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot});var p=(62914560&s)===s?Ol-ce():(4194048&s)===s?Rl-ce():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout((function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&fd(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>a)break;var u=c.transferSize,d=c.initiatorType;u&&fd(d)&&(o+=u*((c=c.responseEnd)<a?1:(a-l)/(c-l)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout((function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}}),(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return jl=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,i,o,a,c,u,d,null,h,f)),void Xl(e,s,o,!l)}gu(e,t,s,n,r,i,o,a,c)}function Zl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,n,r){t&=~kl,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Re(e,n,t)}function $l(){return 0!==(6&fl)||(Uu(0,!1),!1)}function eu(){if(null!==gl){if(0===vl)var e=gl.return;else Ci=Si=null,oo(e=gl),as=null,cs=0,e=gl;for(;null!==e;)gc(e.alternate,e),e=e.return;gl=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ed(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),jl=0,eu(),pl=e,gl=n=jr(e.current,null),ml=t,vl=0,yl=null,bl=!1,wl=Ie(e,t),Al=!1,Il=xl=kl=_l=Cl=Sl=0,Tl=Nl=null,Pl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return El=t,Tr(),n}function nu(e,t){Ws=null,M.H=ga,t===Zi||t===$i?(t=ss(),vl=3):t===Xi?(t=ss(),vl=4):vl=t===Oa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yl=t,null===gl&&(Sl=1,xa(e,Jr(t,e.current)))}function ru(){var e=Os.current;return null===e||((4194048&ml)===ml?null===Rs:((62914560&ml)===ml||0!==(536870912&ml))&&e===Rs)}function iu(){var e=M.H;return M.H=ga,null===e?ga:e}function su(){var e=M.A;return M.A=dl,e}function ou(){Sl=4,bl||(4194048&ml)!==ml&&null!==Os.current||(wl=!0),0===(134217727&Cl)&&0===(134217727&_l)||null===pl||Xl(pl,ml,xl,!1)}function au(e,t,n){var r=fl;fl|=2;var i=iu(),s=su();pl===e&&ml===t||(Dl=null,tu(e,t)),t=!1;var o=Sl;e:for(;;)try{if(0!==vl&&null!==gl){var a=gl,c=yl;switch(vl){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Os.current&&(t=!0);var l=vl;if(vl=0,yl=null,hu(e,a,c,l),n&&wl){o=0;break e}break;default:l=vl,vl=0,yl=null,hu(e,a,c,l)}}cu(),o=Sl;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Ci=Si=null,fl=r,M.H=i,M.A=s,null===gl&&(pl=null,ml=0,Tr()),o}function cu(){for(;null!==gl;)uu(gl)}function lu(){for(;null!==gl&&!oe();)uu(gl)}function uu(e){var t=oc(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qa(n,t,t.pendingProps,t.type,void 0,ml);break;case 11:t=qa(n,t,t.pendingProps,t.type.render,t.ref,ml);break;case 5:oo(t);default:gc(n,t),t=oc(n,t=gl=zr(t,El),El)}e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function hu(e,t,n,r){Ci=Si=null,oo(t),as=null,cs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ni(t,n,i,!0),null!==(n=Os.current)){switch(n.tag){case 31:case 13:return null===Rs?ou():null===n.alternate&&0===Sl&&(Sl=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cu(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cu(e,r,i)),!1}throw Error(o(435,n.tag))}return Cu(e,r,i),ou(),!1}if(di)return null!==(t=Os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&Ai(Jr(e=Error(o(422),{cause:r}),n))):(r!==pi&&Ai(Jr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Jr(r,n),As(e,i=Na(e.stateNode,r,i)),4!==Sl&&(Sl=2)),!1;var s=Error(o(520),{cause:r});if(s=Jr(s,n),null===Nl?Nl=[s]:Nl.push(s),4!==Sl&&(Sl=2),null===t)return!0;r=Jr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,As(n,e=Na(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Ul||!Ul.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Pa(i=Ta(i),e,n,r),As(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ml))return Sl=1,xa(e,Jr(n,e.current)),void(gl=null)}catch(s){if(null!==i)throw gl=i,s;return Sl=1,xa(e,Jr(n,e.current)),void(gl=null)}32768&t.flags?(di||1===r?e=!0:wl||0!==(536870912&ml)?e=!1:(bl=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Os.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bl);e=t.return;var n=fc(t.alternate,t,El);if(null!==n)return void(gl=n);if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===Sl&&(Sl=5)}function pu(e,t){do{var n=pc(e.alternate,e);if(null!==n)return n.flags&=32767,void(gl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gl=e);gl=e=n}while(null!==e);Sl=6,gl=null}function gu(e,t,n,r,i,s,a,c,l){e.cancelPendingCommit=null;do{wu()}while(0!==Ll);if(0!==(6&fl))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-we(n),d=1<<u;a[u]=0,c[u]=-1;var h=l[u];if(null!==h)for(l[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Nr,a,c,l),e===pl&&(gl=pl=null,ml=0),Fl=t,Bl=e,jl=n,zl=s,Wl=i,Hl=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,(function(){return Au(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,i=D.p,D.p=2,a=fl,fl|=4;try{!function(e,t){if(e=e.containerInfo,pd=bh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(m){n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=a+i),h!==s||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++d===r&&(l=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},bh=!1,Rc=t;null!==Rc;)if(e=(t=Rc).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rc=e;else for(;null!==Rc;){switch(s=(t=Rc).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var g=Sa(n.type,i);e=r.getSnapshotBeforeUpdate(g,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Su(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Nd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Rc=e;break}Rc=t.return}}(e,t)}finally{fl=a,D.p=i,M.T=r}}Ll=1,mu(),vu(),yu()}}function mu(){if(1===Ll){Ll=0;var e=Bl,t=Fl,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var i=fl;fl|=4;try{qc(t,e);var s=gd,o=rr(e.containerInfo),a=s.focusedElem,c=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==c&&ir(a)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in a)a.selectionStart=l,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,g=Math.min(c.start,p),m=void 0===c.end?g:Math.min(c.end,p);!f.extend&&g>m&&(o=m,m=g,g=o);var v=tr(a,g),y=tr(a,m);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bh=!!pd,gd=pd=null}finally{fl=i,D.p=r,M.T=n}}e.current=t,Ll=2}}function vu(){if(2===Ll){Ll=0;var e=Bl,t=Fl,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var i=fl;fl|=4;try{Mc(e,t.alternate,t)}finally{fl=i,D.p=r,M.T=n}}Ll=3}}function yu(){if(4===Ll||3===Ll){Ll=0,ae();var e=Bl,t=Fl,n=jl,r=Hl;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ll=5:(Ll=0,Fl=Bl=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ul=null),Le(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==r){t=M.T,i=D.p,D.p=2,M.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{M.T=t,D.p=i}}0!==(3&jl)&&wu(),Du(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===ql?Vl++:(Vl=0,ql=e):Vl=0,Uu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,ji(t)))}function wu(){return mu(),vu(),yu(),Au()}function Au(){if(5!==Ll)return!1;var e=Bl,t=zl;zl=0;var n=Le(jl),r=M.T,i=D.p;try{D.p=32>n?32:n,M.T=null,n=Wl,Wl=null;var s=Bl,a=jl;if(Ll=0,Fl=Bl=null,jl=0,0!==(6&fl))throw Error(o(331));var c=fl;if(fl|=4,cl(s.current),el(s,s.current,a,n),fl=c,Uu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(l){}return!0}finally{D.p=i,M.T=r,bu(e,t)}}function Eu(e,t,n){t=Jr(n,t),null!==(e=bs(e,t=Na(e.stateNode,t,2),2))&&(Oe(e,2),Du(e))}function Su(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ul||!Ul.has(r))){e=Jr(n,e),null!==(r=bs(t,n=Ta(2),2))&&(Pa(n,r,t,e),Oe(r,2),Du(r));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Al=!0,i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pl===e&&(ml&n)===n&&(4===Sl||3===Sl&&(62914560&ml)===ml&&300>ce()-Ol?0===(2&fl)&&tu(e,0):kl|=n,Il===ml&&(Il=0)),Du(e)}function ku(e,t){0===t&&(t=Te()),null!==(e=Rr(e,t))&&(Oe(e,t),Du(e))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),ku(e,n)}var Nu=null,Tu=null,Pu=!1,Ou=!1,Ru=!1,Mu=0;function Du(e){e!==Tu&&null===e.next&&(null===Tu?Nu=Tu=e:Tu=Tu.next=e),Ou=!0,Pu||(Pu=!0,Cd((function(){0!==(6&fl)?ie(ue,Lu):Bu()})))}function Uu(e,t){if(!Ru&&Ou){Ru=!0;do{for(var n=!1,r=Nu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,zu(r,s))}else s=ml,0===(3&(s=xe(r,r===pl?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,s)||(n=!0,zu(r,s));r=r.next}}while(n);Ru=!1}}function Lu(){Bu()}function Bu(){Ou=Pu=!1;var e=0;0!==Mu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=Mu);for(var t=ce(),n=null,r=Nu;null!==r;){var i=r.next,s=Fu(r,t);0===s?(r.next=null,null===n?Nu=i:n.next=i,null===i&&(Tu=n)):(n=r,(0!==e||0!==(3&s))&&(Ou=!0)),r=i}0!==Ll&&5!==Ll||Uu(e,!1),0!==Mu&&(Mu=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-we(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=Ne(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}if(n=ml,n=xe(e,e===(t=pl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vl||9===vl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=ju.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function ju(e,t){if(0!==Ll&&5!==Ll)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ml;return 0===(r=xe(e,e===pl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yl(e,r,t),Fu(e,ce()),null!=e.callbackNode&&e.callbackNode===n?ju.bind(null,e):null)}function zu(e,t){if(wu())return null;Yl(e,t,!0)}function Wu(){if(0===Mu){var e=Hi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Mu=e}return Mu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var qu=0;qu<Cr.length;qu++){var Ku=Cr[qu];_r(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}_r(mr,"onAnimationEnd"),_r(vr,"onAnimationIteration"),_r(yr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(br,"onTransitionRun"),_r(wr,"onTransitionStart"),_r(Ar,"onTransitionCancel"),_r(Er,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){kr(u)}i.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){kr(u)}i.currentTarget=null,s=c}}}}function Qu(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Xu]){e[Xu]=!0,tt.forEach((function(t){"selectionchange"!==t&&(Ju.has(t)||Zu(t,!1,e),Zu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Zu("selectionchange",!1,t))}}function ed(e,t,n,r){switch(kh(t)){case 2:var i=wh;break;case 8:i=Ah;break;default:i=Eh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function td(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Qe(a)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ft((function(){var r=s,i=Mt(n),o=[];e:{var a=Sr.get(e);if(void 0!==a){var l=nn,u=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":l=yn;break;case"focusin":u="focus",l=ln;break;case"focusout":u="blur",l=ln;break;case"beforeblur":case"afterblur":l=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=wn;break;case mr:case vr:case yr:l=un;break;case Er:l=An;break;case"scroll":case"scrollend":l=sn;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=bn;break;case"toggle":case"beforetoggle":l=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=jt(g,f))&&d.push(nd(g,m,p)),h)break;g=g.return}0<d.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[He])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(h=c(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(l=null,u=r),l!==u)){if(d=an,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,m="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==l?a:Xe(l),p=null==u?a:Xe(u),(a=new d(m,g+"leave",l,n,i)).target=h,a.relatedTarget=p,m=null,Qe(i)===r&&((d=new d(f,g+"enter",u,n,i)).target=p,d.relatedTarget=h,m=d),h=m,l&&u)e:{for(d=id,g=u,p=0,m=f=l;m;m=d(m))p++;m=0;for(var v=g;v;v=d(v))m++;for(;0<p-m;)f=d(f),p--;for(;0<m-p;)g=d(g),m--;for(;p--;){if(f===g||null!==g&&f===g.alternate){d=f;break e}f=d(f),g=d(g)}d=null}else d=null;null!==l&&sd(o,a,l,d,!1),null!==u&&null!==h&&sd(o,h,u,d,!0)}if("select"===(l=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var y=zn;else if(Dn(a))if(Wn)y=Zn;else{y=Yn;var b=Jn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&It(r.elementType)&&(y=zn):y=Qn;switch(y&&(y=y(e,r))?Un(o,y,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Xe(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(or=b,ar=r,cr=null);break;case"focusout":cr=ar=or=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ur(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(o,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Rn?Pn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(In&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==A?"onCompositionEnd"===A&&Rn&&(w=Gt()):(qt="value"in(Vt=i)?Vt.value:Vt.textContent,Rn=!0)),0<(b=rd(r,A)).length&&(A=new hn(A,e,null,n,i),o.push({event:A,listeners:b}),w?A.data=w:null!==(w=On(n))&&(A.data=w))),(w=xn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Tn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!_n&&Pn(e,t)?(e=Gt(),Kt=qt=Vt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(A=rd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:A}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Hu((i[We]||null).action),o=r.submitter;o&&null!==(t=(t=o[We]||null)?Hu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Mu){var e=o?Vu(i,o):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Vu(i,o):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Yu(o,t)}))}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=jt(e,n))&&r.unshift(nd(e,i,s)),null!=(i=jt(e,t))&&r.push(nd(e,i,s))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(a=a.tag,null!==c&&c===r)break;5!==a&&26!==a&&27!==a||null===l||(c=l,i?null!=(l=jt(n,s))&&o.unshift(nd(n,l,c)):i||null!=(l=jt(n,s))&&o.push(nd(n,l,c))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var od=/\r\n?/g,ad=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ad,"")}function ld(e,t){return t=cd(t),cd(e)===t}function ud(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":xt(e,r,s);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&ud(e,t,"name",i.name,i,null),ud(e,t,"formEncType",i.formEncType,i,null),ud(e,t,"formMethod",i.formMethod,i,null),ud(e,t,"formTarget",i.formTarget,i,null)):(ud(e,t,"encType",i.encType,i,null),ud(e,t,"method",i.method,i,null),ud(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),ct(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ct(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Nt.get(n)||n,r)}}function dd(e,t,n,r,i,s){switch(n){case"style":xt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[We]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ct(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,r,a,n,null)}}return s&&ud(e,t,"srcSet",n.srcSet,n,null),void(i&&ud(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var c=r=a=s=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:ud(e,t,i,d,n,null)}}return void bt(e,r,c,l,u,a,s,!1);case"select":for(s in Qu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":r=c;break;case"defaultValue":a=c;break;case"multiple":i=c;default:ud(e,t,s,c,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?At(e,!!i,t,!1):null!=n&&At(e,!!i,n,!0));case"textarea":for(a in Qu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(c=n[a]))switch(a){case"value":i=c;break;case"defaultValue":s=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(91));break;default:ud(e,t,a,c,n,null)}return void St(e,i,s,r);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ud(e,t,l,i,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(i=0;i<Gu.length;i++)Qu(Gu[i],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,u,i,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&dd(e,t,d,i,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(null!=(i=n[c])&&ud(e,t,c,i,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,gd=null;function md(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var Ad="function"===typeof setTimeout?setTimeout:void 0,Ed="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(_d)}:Ad;function _d(e){setTimeout((function(){throw e}))}function kd(e){return"head"===e}function xd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bd(e.ownerDocument.documentElement);else if("head"===n){Bd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[Je]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&Bd(e.ownerDocument.body);n=i}while(n);Vh(t)}function Id(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Nd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Td(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Od(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Md=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ud(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ld(e,t,n){switch(t=md(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Bd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Fd=new Map,jd=new Set;function zd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wd=D.d;D.d={f:function(){var e=Wd.f(),t=$l();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Wd.r(e)},D:function(e){Wd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Wd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Wd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var s=i;switch(t){case"style":s=Kd(e);break;case"script":s=Yd(e)}Fd.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gd(s))||"script"===t&&r.querySelector(Qd(s))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Wd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yd(e)}if(!Fd.has(s)&&(e=f({rel:"modulepreload",href:e},t),Fd.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(s)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Wd.X(e,t);var n=Hd;if(n&&e){var r=$e(n).hoistableScripts,i=Yd(e),s=r.get(i);s||((s=n.querySelector(Qd(i)))||(e=f({src:e,async:!0},t),(t=Fd.get(i))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Wd.S(e,t,n);var r=Hd;if(r&&e){var i=$e(r).hoistableStyles,s=Kd(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Gd(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(s))&&$d(e,n);var c=o=r.createElement("link");et(c),hd(c,"link",e),c._p=new Promise((function(e,t){c.onload=e,c.onerror=t})),c.addEventListener("load",(function(){a.loading|=1})),c.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Xd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Wd.M(e,t);var n=Hd;if(n&&e){var r=$e(n).hoistableScripts,i=Yd(e),s=r.get(i);s||((s=n.querySelector(Qd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Fd.get(i))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Hd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),jd.has(i)||(jd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function qd(e,t,n,r){var i,s,a,c,l=(l=K.current)?zd(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=$e(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=$e(l).hoistableStyles,d=u.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=l.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(i=l,s=e,a=n,c=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",(function(){return c.loading|=1})),s.addEventListener("error",(function(){return c.loading|=2})),hd(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=$e(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function Jd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+vt(e)+'"]'}function Qd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",i),Xd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kd(n.href);var s=e.querySelector(Gd(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Jd(n),(i=Fd.get(i))&&$d(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),hd(s,"link",r),t.state.loading|=4,Xd(s,n.precedence,e),t.instance=s;case"script":return s=Yd(n.src),(i=e.querySelector(Qd(s)))?(t.instance=i,et(i),i):(r=n,(i=Fd.get(s))&&eh(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xd(r,n.precedence,e));return t.instance}function Xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,i=th=new Map;i.set(n,r)}else(r=(i=th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Je]||s[ze]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ah=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ah=new Map,t.forEach(lh,e),ah=null,oh.call(e))}function lh(e,t){if(!(4&t.state.loading)){var n=ah.get(e);if(n)var r=n.get(null);else{n=new Map,ah.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uh={$$typeof:A,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function dh(e,t,n,r,i,s,o,a,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function hh(e,t,n,r,i,s,o,a,c,l,u,d){return e=new dh(e,t,n,o,c,l,u,d,a),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ms(s),e}function fh(e){return e?e=Ur:Ur}function ph(e,t,n,r,i,s){i=fh(i),null===r.context?r.context=i:r.pendingContext=i,(r=ys(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&(Jl(n,0,t),ws(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function mh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Jl(t,0,67108864),mh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Kl(),n=Rr(e,t=Ue(t));null!==n&&Jl(n,0,t),mh(e,t)}}var bh=!0;function wh(e,t,n,r){var i=M.T;M.T=null;var s=D.p;try{D.p=2,Eh(e,t,n,r)}finally{D.p=s,M.T=i}}function Ah(e,t,n,r){var i=M.T;M.T=null;var s=D.p;try{D.p=8,Eh(e,t,n,r)}finally{D.p=s,M.T=i}}function Eh(e,t,n,r){if(bh){var i=Sh(r);if(null===i)td(e,t,r,Ch,n),Dh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ih=Uh(Ih,e,t,n,r,i),!0;case"dragenter":return Nh=Uh(Nh,e,t,n,r,i),!0;case"mouseover":return Th=Uh(Th,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ph.set(s,Uh(Ph.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Oh.set(s,Uh(Oh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dh(e,r),4&t&&-1<Mh.indexOf(e)){for(;null!==i;){var s=Ze(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ke(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-we(o);a.entanglements[1]|=c,o&=~c}Du(s),0===(6&fl)&&(Ml=ce()+500,Uu(0,!1))}}break;case 31:case 13:null!==(a=Rr(s,2))&&Jl(a,0,2),$l(),mh(s,2)}if(null===(s=Sh(r))&&td(e,t,r,Ch,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else td(e,t,r,null,n)}}function Sh(e){return _h(e=Mt(e))}var Ch=null;function _h(e){if(Ch=null,null!==(e=Qe(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function kh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var xh=!1,Ih=null,Nh=null,Th=null,Ph=new Map,Oh=new Map,Rh=[],Mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Nh=null;break;case"mouseover":case"mouseout":Th=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(t.pointerId)}}function Uh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lh(e){var t=Qe(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Fe(e.priority,(function(){yh(n)}))}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,(function(){yh(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Fh(e,t,n){Bh(e)&&n.delete(t)}function jh(){xh=!1,null!==Ih&&Bh(Ih)&&(Ih=null),null!==Nh&&Bh(Nh)&&(Nh=null),null!==Th&&Bh(Th)&&(Th=null),Ph.forEach(Fh),Oh.forEach(Fh)}function zh(e,t){e.blockedOn===t&&(e.blockedOn=null,xh||(xh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jh)))}var Wh=null;function Hh(e){Wh!==e&&(Wh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Wh===e&&(Wh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===_h(r||n))continue;break}var s=Ze(n);null!==s&&(e.splice(t,3),t-=3,ta(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Vh(e){function t(t){return zh(t,e)}null!==Ih&&zh(Ih,e),null!==Nh&&zh(Nh,e),null!==Th&&zh(Th,e),Ph.forEach(t),Oh.forEach(t);for(var n=0;n<Rh.length;n++){var r=Rh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)Lh(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[We]||null;if("function"===typeof s)o||Hh(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[We]||null)a=o.formAction;else if(null!==_h(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Hh(n)}}}function qh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise((function(e){return i=e}))},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kh(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ph(t.current,Kl(),e,t,null,null)},Gh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),$l(),t[He]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&Lh(e)}};var Jh=i.version;if("19.2.0"!==Jh)throw Error(o(527,Jh,"19.2.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d(i),e;if(s===r)return d(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ve=Qh.inject(Yh),ye=Qh}catch(Xh){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Ca,s=_a,c=ka;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,i,s,c,qh),e[He]=t.current,$u(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Ca,c=_a,l=ka,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(c=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,i,u,s,c,l,qh)).context=fh(null),n=t.current,(i=ys(r=Ue(r=Kl()))).callback=null,bs(n,i,r),n=r,t.current.lanes=n,Oe(t,n),Du(t),e[He]=t.current,$u(e),new Gh(t)},t.version="19.2.0"},7022:(e,t,n)=>{"use strict";n.d(t,{WF:()=>a,AH:()=>s.AH,qy:()=>o.qy,JW:()=>o.JW,iz:()=>s.iz});var r,i,s=n(6830),o=n(8531);class a extends s.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,o.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return o.c0}}a._$litElement$=!0,a.finalized=!0,null===(r=globalThis.litElementHydrateSupport)||void 0===r||r.call(globalThis,{LitElement:a});const c=globalThis.litElementPolyfillSupport;null===c||void 0===c||c({LitElement:a});(null!==(i=globalThis.litElementVersions)&&void 0!==i?i:globalThis.litElementVersions=[]).push("4.1.1")},7038:(e,t,n)=>{"use strict";n.d(t,{Db:()=>s,oU:()=>o,tM:()=>i});const r=("undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/add-product-page-paymyemail",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",i=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],s="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",o={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:r,SECURE_SITE_DASHBOARD:"".concat(r,"/dashboard"),SECURE_SITE_FAVICON:"".concat(r,"/images/favicon.png"),RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}}},7043:(e,t,n)=>{"use strict";var r=n(6373),i=n(6329),s=n(6588),o=n(6864);function a(e){s.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,n){s.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(n),o=i.redMul(r),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},7258:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var r=n(9379),i=n(574),s=n(6844),o=n(4657);const a=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),c=(0,i.BX)((0,r.A)({},a)),l={state:c,subscribeKey:(e,t)=>(0,s.u$)(c,e,t),showLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showMessage((0,r.A)({message:e,variant:"loading"},t))},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=o.w.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){c.message=a.message,c.variant=a.variant,c.svg=a.svg,c.open=a.open,c.autoClose=a.autoClose},_showMessage(e){let{message:t,svg:n,variant:r="success",autoClose:i=a.autoClose}=e;c.open?(c.open=!1,setTimeout((()=>{c.message=t,c.variant=r,c.svg=n,c.open=!0,c.autoClose=i}),150)):(c.message=t,c.variant=r,c.svg=n,c.open=!0,c.autoClose=i)}}},7284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,o,l;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"===typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7355:(e,t,n)=>{"use strict";var r=n(7643),i=n(5482);function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},7528:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{A:()=>r})},7643:(e,t,n)=>{"use strict";var r=n(5482),i=n(6329);function s(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=63&o|128):s(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=63&o|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=63&o|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=o(i)),n+=c(i.toString(16))}return n},t.zero2=a,t.zero8=c,t.join32=function(e,t,n,i){var s=n-t;r(s%4===0);for(var o=new Array(s/4),a=0,c=t;a<o.length;a++,c+=4){var l;l="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[a]=l>>>0}return o},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var s=e[r];"big"===t?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=255&s):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=255&s)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],s=r+e[t+1]>>>0,o=(s<r?1:0)+n+i;e[t]=o>>>0,e[t+1]=s},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,s,o,a){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+s>>>0)<s?1:0,e+n+i+o+(c+=(l=l+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,s,o,a){return t+r+s+a>>>0},t.sum64_5_hi=function(e,t,n,r,i,s,o,a,c,l){var u=0,d=t;return u+=(d=d+r>>>0)<t?1:0,u+=(d=d+s>>>0)<s?1:0,u+=(d=d+a>>>0)<a?1:0,e+n+i+o+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,s,o,a,c,l){return t+r+s+a+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},7790:()=>{},7794:(e,t,n)=>{"use strict";var r=n(6373),i=n(1172),s=n(6864),o=n(6697),a=n(8462),c=s.assert,l=n(109),u=n(9300);function d(e){if(!(this instanceof d))return new d(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new l(this,e)},d.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new r(2));;){var o=new r(t.generate(n));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},d.prototype._truncateToN=function(e,t,n){var i;if(r.isBN(e)||"number"===typeof e)i=(e=new r(e,16)).byteLength();else if("object"===typeof e)i=e.length,e=new r(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new r(s,16)}"number"!==typeof n&&(n=8*i);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,n,s){if("object"===typeof n&&(s=n,n=null),s||(s={}),"string"!==typeof e&&"number"!==typeof e&&!r.isBN(e)){c("object"===typeof e&&e&&"number"===typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),c(e.length>>>0===e.length);for(var o=0;o<e.length;o++)c((255&e[o])===e[o])}t=this.keyFromPrivate(t,n),e=this._truncateToN(e,!1,s.msgBitLength),c(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),l=t.getPrivate().toArray("be",a),d=e.toArray("be",a);c(new r(d).eq(e),"Can not sign message");for(var h=new i({hash:this.hash,entropy:l,nonce:d,pers:s.pers,persEnc:s.persEnc||"utf8"}),f=this.n.sub(new r(1)),p=0;;p++){var g=s.k?s.k(p):new r(h.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(f)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var v=m.getX(),y=v.umod(this.n);if(0!==y.cmpn(0)){var b=g.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var w=(m.getY().isOdd()?1:0)|(0!==v.cmp(y)?2:0);return s.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),w^=1),new u({r:y,s:b,recoveryParam:w})}}}}}},d.prototype.verify=function(e,t,n,r,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),n=this.keyFromPublic(n,r);var s=(t=new u(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),l=c.mul(e).umod(this.n),d=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,n.getPublic(),d)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(l,n.getPublic(),d)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},d.prototype.recoverPubKey=function(e,t,n,i){c((3&n)===n,"The recovery param is more than two bits"),t=new u(t,i);var s=this.n,o=new r(e),a=t.r,l=t.s,d=1&n,h=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),d):this.curve.pointFromX(a,d);var f=t.r.invm(s),p=s.sub(o).mul(f).umod(s),g=l.mul(f).umod(s);return this.g.mulAdd(p,a,g)},d.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new u(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},7845:(e,t,n)=>{"use strict";function r(e){return function(t){return"function"===typeof t?function(e,t){return customElements.get(e)||customElements.define(e,t),t}(e,t):function(e,t){const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(t){customElements.get(e)||customElements.define(e,t)}}}(e,t)}}n.d(t,{E:()=>r})},7849:(e,t,n)=>{"use strict";var r=t;r.base=n(6588),r.short=n(8475),r.mont=n(7043),r.edwards=n(5697)},7887:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(9979),i=n(2538);const s={set(e,t){i.Q.isClient&&localStorage.setItem("".concat(r.s1.STORAGE_KEY).concat(e),t)},get:e=>i.Q.isClient?localStorage.getItem("".concat(r.s1.STORAGE_KEY).concat(e)):null,delete(e,t){i.Q.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem("".concat(r.s1.STORAGE_KEY).concat(e)))}}},7905:(e,t,n)=>{"use strict";n.d(t,{GN:()=>_});var r=n(9379),i=n(574),s=n(6844),o=n(8833),a=n(883),c=n(9979),l=n(7038),u=n(4657),d=n(3801);const h={getGasPriceInEther:(e,t)=>Number(t*e)/1e18,getGasPriceInUSD(e,t,n){const r=h.getGasPriceInEther(t,n);return o.S.bigNumber(e).times(r).toNumber()},getPriceImpact(e){let{sourceTokenAmount:t,sourceTokenPriceInUSD:n,toTokenPriceInUSD:r,toTokenAmount:i}=e;const s=o.S.bigNumber(t).times(n),a=o.S.bigNumber(i).times(r);return s.minus(a).div(s).times(100).toNumber()},getMaxSlippage(e,t){const n=o.S.bigNumber(e).div(100);return o.S.multiply(t,n).toNumber()},getProviderFee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.0085;return o.S.bigNumber(e).times(t).toString()},isInsufficientNetworkTokenForGas(e,t){const n=t||"0";return!!o.S.bigNumber(e).eq(0)||o.S.bigNumber(o.S.bigNumber(n)).gt(e)},isInsufficientSourceTokenForSwap(e,t,n){var r;const i=null===n||void 0===n||null===(r=n.find((e=>e.address===t)))||void 0===r||null===(r=r.quantity)||void 0===r?void 0:r.numeric;return o.S.bigNumber(i||"0").lt(e)},getToTokenAmount(e){let{sourceToken:t,toToken:n,sourceTokenPrice:r,toTokenPrice:i,sourceTokenAmount:s}=e;if("0"===s)return"0";if(!t||!n)return"0";const a=t.decimals,c=r,l=n.decimals,u=i;if(u<=0)return"0";const d=o.S.bigNumber(s).times(.0085),h=o.S.bigNumber(s).minus(d).times(o.S.bigNumber(10).pow(a)),f=o.S.bigNumber(c).div(u),p=a-l;return h.times(f).div(o.S.bigNumber(10).pow(p)).div(o.S.bigNumber(10).pow(l)).toFixed(l).toString()}};var f=n(595),p=n(3542),g=n(5618),m=n(5814),v=n(3022),y=n(3939),b=n(9323),w=n(1139),A=n(7258);const E=15e4;Error;const S={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:l.oU.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},C=(0,i.BX)(S),_={state:C,subscribe:e=>(0,i.B1)(C,(()=>e(C))),subscribeKey:(e,t)=>(0,s.u$)(C,e,t),getParams(){var e,t,n,r,i,s,c,l;const d=m.W.state.activeCaipAddress,h=m.W.state.activeChain,f=u.w.getPlainAddress(d),p=m.W.getActiveNetworkTokenAddress(),g=y.a.getConnectorId(h);if(!f)throw new Error("No address found to swap the tokens from.");const v=!(null!==(e=C.toToken)&&void 0!==e&&e.address)||!(null!==(t=C.toToken)&&void 0!==t&&t.decimals),b=!(null!==(n=C.sourceToken)&&void 0!==n&&n.address)||!(null!==(r=C.sourceToken)&&void 0!==r&&r.decimals)||!o.S.bigNumber(C.sourceTokenAmount).gt(0),w=!C.sourceTokenAmount;return{networkAddress:p,fromAddress:f,fromCaipAddress:d,sourceTokenAddress:null===(i=C.sourceToken)||void 0===i?void 0:i.address,toTokenAddress:null===(s=C.toToken)||void 0===s?void 0:s.address,toTokenAmount:C.toTokenAmount,toTokenDecimals:null===(c=C.toToken)||void 0===c?void 0:c.decimals,sourceTokenAmount:C.sourceTokenAmount,sourceTokenDecimals:null===(l=C.sourceToken)||void 0===l?void 0:l.decimals,invalidToToken:v,invalidSourceToken:b,invalidSourceTokenAmount:w,availableToSwap:d&&!v&&!b&&!w,isAuthConnector:g===a.o.CONNECTOR_ID.AUTH}},setSourceToken(e){if(!e)return C.sourceToken=e,C.sourceTokenAmount="",void(C.sourceTokenPriceInUSD=0);C.sourceToken=e,this.setTokenPrice(e.address,"sourceToken")},setSourceTokenAmount(e){C.sourceTokenAmount=e},setToToken(e){if(!e)return C.toToken=e,C.toTokenAmount="",void(C.toTokenPriceInUSD=0);C.toToken=e,this.setTokenPrice(e.address,"toToken")},setToTokenAmount(e){C.toTokenAmount=e?o.S.formatNumberToLocalString(e,6):""},async setTokenPrice(e,t){let n=C.tokensPriceMap[e]||0;n||(C.loadingPrices=!0,n=await this.getAddressPrice(e)),"sourceToken"===t?C.sourceTokenPriceInUSD=n:"toToken"===t&&(C.toTokenPriceInUSD=n),C.loadingPrices&&(C.loadingPrices=!1),this.getParams().availableToSwap&&this.swapTokens()},switchTokens(){if(C.initializing||!C.initialized)return;const e=C.toToken?(0,r.A)({},C.toToken):void 0,t=C.sourceToken?(0,r.A)({},C.sourceToken):void 0,n=e&&""===C.toTokenAmount?"1":C.toTokenAmount;this.setSourceToken(e),this.setToToken(t),this.setSourceTokenAmount(n),this.setToTokenAmount(""),this.swapTokens()},resetState(){C.myTokensWithBalance=S.myTokensWithBalance,C.tokensPriceMap=S.tokensPriceMap,C.initialized=S.initialized,C.sourceToken=S.sourceToken,C.sourceTokenAmount=S.sourceTokenAmount,C.sourceTokenPriceInUSD=S.sourceTokenPriceInUSD,C.toToken=S.toToken,C.toTokenAmount=S.toTokenAmount,C.toTokenPriceInUSD=S.toTokenPriceInUSD,C.networkPrice=S.networkPrice,C.networkTokenSymbol=S.networkTokenSymbol,C.networkBalanceInUSD=S.networkBalanceInUSD,C.inputError=S.inputError},resetValues(){var e;const{networkAddress:t}=this.getParams(),n=null===(e=C.tokens)||void 0===e?void 0:e.find((e=>e.address===t));this.setSourceToken(n),this.setToToken(void 0)},getApprovalLoadingState:()=>C.loadingApprovalTransaction,clearError(){C.transactionError=void 0},async initializeState(){if(!C.initializing){if(C.initializing=!0,!C.initialized)try{await this.fetchTokens(),C.initialized=!0}catch(e){C.initialized=!1,A.P.showError("Failed to initialize swap"),w.I.goBack()}C.initializing=!1}},async fetchTokens(){var e;const{networkAddress:t}=this.getParams();await this.getTokenList(),await this.getNetworkTokenPrice(),await this.getMyTokensWithBalance();const n=null===(e=C.tokens)||void 0===e?void 0:e.find((e=>e.address===t));n&&(C.networkTokenSymbol=n.symbol,this.setSourceToken(n),this.setSourceTokenAmount("1"))},async getTokenList(){const e=await d.s.getTokenList();C.tokens=e,C.popularTokens=e.sort(((e,t)=>e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0)),C.suggestedTokens=e.filter((e=>!!l.oU.SWAP_SUGGESTED_TOKENS.includes(e.symbol)),{})},async getAddressPrice(e){var t,n;const r=C.tokensPriceMap[e];if(r)return r;const i=await g.T.fetchTokenPrice({addresses:[e]}),s=(null===i||void 0===i?void 0:i.fungibles)||[],o=[...C.tokens||[],...C.myTokensWithBalance||[]],a=null===o||void 0===o||null===(t=o.find((t=>t.address===e)))||void 0===t?void 0:t.symbol,c=(null===(n=s.find((e=>e.symbol.toLowerCase()===(null===a||void 0===a?void 0:a.toLowerCase()))))||void 0===n?void 0:n.price)||0,l=parseFloat(c.toString());return C.tokensPriceMap[e]=l,l},async getNetworkTokenPrice(){var e;const{networkAddress:t}=this.getParams(),n=null===(e=(await g.T.fetchTokenPrice({addresses:[t]}).catch((()=>(A.P.showError("Failed to fetch network token price"),{fungibles:[]})))).fungibles)||void 0===e?void 0:e[0],r=(null===n||void 0===n?void 0:n.price.toString())||"0";C.tokensPriceMap[t]=parseFloat(r),C.networkTokenSymbol=(null===n||void 0===n?void 0:n.symbol)||"",C.networkPrice=r},async getMyTokensWithBalance(e){const t=await d.s.getMyTokensWithBalance(e);t&&(await this.getInitialGasPrice(),this.setBalances(t))},setBalances(e){const{networkAddress:t}=this.getParams(),n=m.W.state.activeCaipNetwork;if(!n)return;const r=e.find((e=>e.address===t));e.forEach((e=>{C.tokensPriceMap[e.address]=e.price||0})),C.myTokensWithBalance=e.filter((e=>e.address.startsWith(n.caipNetworkId))),C.networkBalanceInUSD=r?o.S.multiply(r.quantity.numeric,r.price).toString():"0"},async getInitialGasPrice(){var e,t,n;const r=await d.s.fetchGasPrice();if(!r)return{gasPrice:null,gasPriceInUSD:null};if("solana"===(null===(e=m.W.state)||void 0===e||null===(e=e.activeCaipNetwork)||void 0===e?void 0:e.chainNamespace))return C.gasFee=null!==(t=r.standard)&&void 0!==t?t:"0",C.gasPriceInUSD=o.S.multiply(r.standard,C.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(C.gasFee),gasPriceInUSD:Number(C.gasPriceInUSD)};{const e=null!==(n=r.standard)&&void 0!==n?n:"0",t=BigInt(e),i=BigInt(E),s=h.getGasPriceInUSD(C.networkPrice,i,t);return C.gasFee=e,C.gasPriceInUSD=s,{gasPrice:t,gasPriceInUSD:s}}},async swapTokens(){const e=f.U.state.address,t=C.sourceToken,n=C.toToken,r=o.S.bigNumber(C.sourceTokenAmount).gt(0);if(r||this.setToTokenAmount(""),!n||!t||C.loadingPrices||!r)return;C.loadingQuote=!0;const i=o.S.bigNumber(C.sourceTokenAmount).times(10**t.decimals).round(0);try{var s;const r=await g.T.fetchSwapQuote({userAddress:e,from:t.address,to:n.address,gasPrice:C.gasFee,amount:i.toString()});C.loadingQuote=!1;const a=null===r||void 0===r||null===(s=r.quotes)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.toAmount;if(!a)return void p.h.open({shortMessage:"Incorrect amount",longMessage:"Please enter a valid amount"},"error");const c=o.S.bigNumber(a).div(10**n.decimals).toString();this.setToTokenAmount(c);this.hasInsufficientToken(C.sourceTokenAmount,t.address)?C.inputError="Insufficient balance":(C.inputError=void 0,this.setTransactionDetails())}catch(a){C.loadingQuote=!1,C.inputError="Insufficient balance"}},async getTransaction(){const{fromCaipAddress:e,availableToSwap:t}=this.getParams(),n=C.sourceToken,r=C.toToken;if(e&&t&&n&&r&&!C.loadingQuote)try{C.loadingBuildTransaction=!0;let t;return t=await d.s.fetchSwapAllowance({userAddress:e,tokenAddress:n.address,sourceTokenAmount:C.sourceTokenAmount,sourceTokenDecimals:n.decimals})?await this.createSwapTransaction():await this.createAllowanceTransaction(),C.loadingBuildTransaction=!1,C.fetchError=!1,t}catch(i){return w.I.goBack(),A.P.showError("Failed to check allowance"),C.loadingBuildTransaction=!1,C.approvalTransaction=void 0,C.swapTransaction=void 0,void(C.fetchError=!0)}},async createAllowanceTransaction(){const{fromCaipAddress:e,fromAddress:t,sourceTokenAddress:n,toTokenAddress:r}=this.getParams();if(e&&r){if(!n)throw new Error("createAllowanceTransaction - No source token address found.");try{var i,s;const o=await g.T.generateApproveCalldata({from:n,to:r,userAddress:e}),c=await v.x.estimateGas({chainNamespace:a.o.CHAIN.EVM,address:t,to:u.w.getPlainAddress(o.tx.to),data:o.tx.data}),l={data:o.tx.data,to:u.w.getPlainAddress(o.tx.from),gas:c,gasPrice:BigInt(o.tx.eip155.gasPrice),value:BigInt(o.tx.value),toAmount:C.toTokenAmount};return C.swapTransaction=void 0,C.approvalTransaction={data:l.data,to:l.to,gas:null!==(i=l.gas)&&void 0!==i?i:BigInt(0),gasPrice:l.gasPrice,value:l.value,toAmount:l.toAmount},{data:l.data,to:l.to,gas:null!==(s=l.gas)&&void 0!==s?s:BigInt(0),gasPrice:l.gasPrice,value:l.value,toAmount:l.toAmount}}catch(o){return w.I.goBack(),A.P.showError("Failed to create approval transaction"),C.approvalTransaction=void 0,C.swapTransaction=void 0,void(C.fetchError=!0)}}},async createSwapTransaction(){var e;const{networkAddress:t,fromCaipAddress:n,sourceTokenAmount:r}=this.getParams(),i=C.sourceToken,s=C.toToken;if(!n||!r||!i||!s)return;const o=null===(e=v.x.parseUnits(r,i.decimals))||void 0===e?void 0:e.toString();try{const e=await g.T.generateSwapCalldata({userAddress:n,from:i.address,to:s.address,amount:o}),r=i.address===t,a=BigInt(e.tx.eip155.gas),c=BigInt(e.tx.eip155.gasPrice),l={data:e.tx.data,to:u.w.getPlainAddress(e.tx.to),gas:a,gasPrice:c,value:r?BigInt(null!==o&&void 0!==o?o:"0"):BigInt("0"),toAmount:C.toTokenAmount};return C.gasPriceInUSD=h.getGasPriceInUSD(C.networkPrice,a,c),C.approvalTransaction=void 0,C.swapTransaction=l,l}catch(a){return w.I.goBack(),A.P.showError("Failed to create transaction"),C.approvalTransaction=void 0,C.swapTransaction=void 0,void(C.fetchError=!0)}},async sendTransactionForApproval(e){const{fromAddress:t,isAuthConnector:n}=this.getParams();C.loadingApprovalTransaction=!0;const r="Approve limit increase in your wallet";n?w.I.pushTransactionStack({view:null,goBack:!0,onSuccess(){A.P.showLoading(r)}}):A.P.showLoading(r);try{await v.x.sendTransaction({address:t,to:e.to,data:e.data,gas:e.gas,gasPrice:BigInt(e.gasPrice),value:e.value,chainNamespace:"eip155"}),await this.swapTokens(),await this.getTransaction(),C.approvalTransaction=void 0,C.loadingApprovalTransaction=!1}catch(a){var i,s,o;const e=a;C.transactionError=null===e||void 0===e?void 0:e.shortMessage,C.loadingApprovalTransaction=!1,A.P.showError((null===e||void 0===e?void 0:e.shortMessage)||"Transaction error"),b.E.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(null===e||void 0===e?void 0:e.shortMessage)||(null===e||void 0===e?void 0:e.message)||"Unknown",network:(null===(i=m.W.state.activeCaipNetwork)||void 0===i?void 0:i.caipNetworkId)||"",swapFromToken:(null===(s=this.state.sourceToken)||void 0===s?void 0:s.symbol)||"",swapToToken:(null===(o=this.state.toToken)||void 0===o?void 0:o.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:f.U.state.preferredAccountType===c.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(e){var t,n,r,i;if(!e)return;const{fromAddress:s,toTokenAmount:a,isAuthConnector:l}=this.getParams();C.loadingTransaction=!0;const u="Swapping ".concat(null===(t=C.sourceToken)||void 0===t?void 0:t.symbol," to ").concat(o.S.formatNumberToLocalString(a,3)," ").concat(null===(n=C.toToken)||void 0===n?void 0:n.symbol),d="Swapped ".concat(null===(r=C.sourceToken)||void 0===r?void 0:r.symbol," to ").concat(o.S.formatNumberToLocalString(a,3)," ").concat(null===(i=C.toToken)||void 0===i?void 0:i.symbol);l?w.I.pushTransactionStack({view:"Account",goBack:!1,onSuccess(){A.P.showLoading(u),_.resetState()}}):A.P.showLoading("Confirm transaction in your wallet");try{var h,p,g,y,E;const t=[null===(h=C.sourceToken)||void 0===h?void 0:h.address,null===(p=C.toToken)||void 0===p?void 0:p.address].join(","),n=await v.x.sendTransaction({address:s,to:e.to,data:e.data,gas:e.gas,gasPrice:BigInt(e.gasPrice),value:e.value,chainNamespace:"eip155"});return C.loadingTransaction=!1,A.P.showSuccess(d),b.E.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:(null===(g=m.W.state.activeCaipNetwork)||void 0===g?void 0:g.caipNetworkId)||"",swapFromToken:(null===(y=this.state.sourceToken)||void 0===y?void 0:y.symbol)||"",swapToToken:(null===(E=this.state.toToken)||void 0===E?void 0:E.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:f.U.state.preferredAccountType===c.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}}),_.resetState(),l||w.I.replace("Account"),_.getMyTokensWithBalance(t),n}catch(I){var S,k,x;const e=I;return C.transactionError=null===e||void 0===e?void 0:e.shortMessage,C.loadingTransaction=!1,A.P.showError((null===e||void 0===e?void 0:e.shortMessage)||"Transaction error"),void b.E.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(null===e||void 0===e?void 0:e.shortMessage)||(null===e||void 0===e?void 0:e.message)||"Unknown",network:(null===(S=m.W.state.activeCaipNetwork)||void 0===S?void 0:S.caipNetworkId)||"",swapFromToken:(null===(k=this.state.sourceToken)||void 0===k?void 0:k.symbol)||"",swapToToken:(null===(x=this.state.toToken)||void 0===x?void 0:x.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:f.U.state.preferredAccountType===c.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}})}},hasInsufficientToken(e,t){const n=h.isInsufficientSourceTokenForSwap(e,t,C.myTokensWithBalance);let r=!0;return r=f.U.state.preferredAccountType!==c.Vl.ACCOUNT_TYPES.SMART_ACCOUNT&&h.isInsufficientNetworkTokenForGas(C.networkBalanceInUSD,C.gasPriceInUSD),r||n},setTransactionDetails(){const{toTokenAddress:e,toTokenDecimals:t}=this.getParams();e&&t&&(C.gasPriceInUSD=h.getGasPriceInUSD(C.networkPrice,BigInt(C.gasFee),BigInt(E)),C.priceImpact=h.getPriceImpact({sourceTokenAmount:C.sourceTokenAmount,sourceTokenPriceInUSD:C.sourceTokenPriceInUSD,toTokenPriceInUSD:C.toTokenPriceInUSD,toTokenAmount:C.toTokenAmount}),C.maxSlippage=h.getMaxSlippage(C.slippage,C.toTokenAmount),C.providerFee=h.getProviderFee(C.sourceTokenAmount))}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8086:(e,t,n)=>{"use strict";var r=t;r.version=n(1636).rE,r.utils=n(6864),r.rand=n(8462),r.curve=n(7849),r.curves=n(6697),r.ec=n(7794),r.eddsa=n(4661)},8092:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(e,t,n,i){return r.fromToBase(e,t,n,i)}n.en.relativeTime=i,r.fromToBase=function(t,r,s,o,a){for(var c,l,u,d=s.$locale().relativeTime||i,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=h.length,p=0;p<f;p+=1){var g=h[p];g.d&&(c=o?n(t).diff(s,g.d,!0):s.diff(t,g.d,!0));var m=(e.rounding||Math.round)(Math.abs(c));if(u=c>0,m<=g.r||!g.r){m<=1&&p>0&&(g=h[p-1]);var v=d[g.l];a&&(m=a(""+m)),l="string"==typeof v?v.replace("%d",m):v(m,r,g.l,u);break}}if(r)return l;var y=u?d.future:d.past;return"function"==typeof y?y(l):y.replace("%s",l)},r.to=function(e,t){return s(e,t,this,!0)},r.from=function(e,t){return s(e,t,this)};var o=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(o(this),e)},r.fromNow=function(e){return this.from(o(this),e)}}}()},8129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1344);r.__exportStar(n(364),t),r.__exportStar(n(6454),t)},8231:(e,t,n)=>{"use strict";n.d(t,{W:()=>f});var r=n(9379),i=n(574),s=n(9979),o=n(595),a=n(5618),c=n(5814),l=n(9323),u=n(2661),d=n(7258);const h=(0,i.BX)({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),f={state:h,subscribe:e=>(0,i.B1)(h,(()=>e(h))),setLastNetworkInView(e){h.lastNetworkInView=e},async fetchTransactions(e,t){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");h.loading=!0;try{var n;const r=await a.T.fetchTransactions({account:e,cursor:h.next,onramp:t,cache:"coinbase"===t?"no-cache":void 0,chainId:null===(n=c.W.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId}),i=this.filterSpamTransactions(r.data),s=this.filterByConnectedChain(i),o=[...h.transactions,...s];h.loading=!1,"coinbase"===t?h.coinbaseTransactions=this.groupTransactionsByYearAndMonth(h.coinbaseTransactions,r.data):(h.transactions=o,h.transactionsByYear=this.groupTransactionsByYearAndMonth(h.transactionsByYear,s)),h.empty=0===o.length,h.next=r.next?r.next:void 0}catch(r){l.E.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:u.H.state.projectId,cursor:h.next,isSmartAccount:o.U.state.preferredAccountType===s.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}}),d.P.showError("Failed to fetch transactions"),h.loading=!1,h.empty=!0,h.next=void 0}},groupTransactionsByYearAndMonth(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((t=>{var n,i;const s=new Date(t.metadata.minedAt).getFullYear(),o=new Date(t.metadata.minedAt).getMonth(),a=null!==(n=e[s])&&void 0!==n?n:{},c=(null!==(i=a[o])&&void 0!==i?i:[]).filter((e=>e.id!==t.id));e[s]=(0,r.A)((0,r.A)({},a),{},{[o]:[...c,t].sort(((e,t)=>new Date(t.metadata.minedAt).getTime()-new Date(e.metadata.minedAt).getTime()))})})),e},filterSpamTransactions:e=>e.filter((e=>!e.transfers.every((e=>{var t;return!0===(null===(t=e.nft_info)||void 0===t?void 0:t.flags.is_spam)})))),filterByConnectedChain(e){var t;const n=null===(t=c.W.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId;return e.filter((e=>e.metadata.chain===n))},clearCursor(){h.next=void 0},resetTransactions(){h.transactions=[],h.transactionsByYear={},h.lastNetworkInView=void 0,h.loading=!1,h.empty=!1,h.next=void 0}}},8251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1344);r.__exportStar(n(8951),t),r.__exportStar(n(5746),t)},8462:(e,t,n)=>{var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=n(3776);if("function"!==typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(o){}},8475:(e,t,n)=>{"use strict";var r=n(6864),i=n(6373),s=n(6329),o=n(6588),a=r.assert;function c(e){o.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,n,r){o.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,n,r){o.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?n=s[0]:(n=s[1],a(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),s=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(s).fromRed(),r.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,n,r,s,o,a,c,l,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),p=new i(1),g=new i(0),m=new i(0),v=new i(1),y=0;0!==h.cmpn(0);){var b=f.div(h);l=f.sub(b.mul(h)),u=m.sub(b.mul(p));var w=v.sub(b.mul(g));if(!r&&l.cmp(d)<0)t=c.neg(),n=p,r=l.neg(),s=u;else if(r&&2===++y)break;c=l,f=h,h=l,m=p,p=u,v=g,g=w}o=l.neg(),a=u;var A=r.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(A)>=0&&(o=t,a=n),r.negative&&(r=r.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),a=s.mul(r.a),c=i.mul(n.b),l=s.mul(r.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var s=r.fromRed().isOdd();return(t&&!s||!t&&s)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),r[2*s]=a,r[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,r,i,2*s,n),u=0;u<2*s;u++)r[u]=null,i[u]=null;return l},s(l,o.BasePoint),c.prototype.point=function(e,t,n){return new l(this,e,t,n)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var s=t[2];return r.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[r].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[r].concat(s.naf.points.map(i))}},r},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},l.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),c.prototype.jpoint=function(e,t,n){return new u(this,e,t,n)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),a=r.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),d=r.redMul(l),h=c.redSqr().redIAdd(u).redISub(d).redISub(d),f=c.redMul(d.redISub(h)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=n.redSub(r),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=n.redMul(c),d=a.redSqr().redIAdd(l).redISub(u).redISub(u),h=a.redMul(u.redISub(d)).redISub(i.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(d,h,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),d=l.redSqr(),h=d.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(r.redMul(c)),p=s.redMul(d),g=f.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),v=f.redMul(m);v=v.redIAdd(v).redISub(h);var y=l.redMul(a);t+1<e&&(c=c.redMul(h)),s=g,a=y,l=v}return this.curve.jpoint(s,l.redMul(i),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(s);o=o.redIAdd(o);var a=r.redAdd(r).redIAdd(r),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),f=this.x.redAdd(d).redSqr().redISub(u).redISub(h);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(m),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},u.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(s);o=o.redIAdd(o);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var m=d.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=f.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,n)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),s=t.redSqr(),o=n.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),d=l.redISub(u),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=a.redMul(d).redISub(h),p=n.redAdd(n).redMul(r);return this.curve.jpoint(u,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(r),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(a).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=this.z.redAdd(o).redSqr().redISub(n).redISub(a);return this.curve.jpoint(d,h,f)},u.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},8531:(e,t,n)=>{"use strict";var r;n.d(t,{JW:()=>k,XX:()=>V,c0:()=>x,ge:()=>W,qy:()=>_,s6:()=>I});const i=globalThis,s=i.trustedTypes,o=s?s.createPolicy("lit-html",{createHTML:e=>e}):void 0,a="$lit$",c="lit$".concat(Math.random().toFixed(9).slice(2),"$"),l="?"+c,u="<".concat(l,">"),d=document,h=()=>d.createComment(""),f=e=>null===e||"object"!=typeof e&&"function"!=typeof e,p=Array.isArray,g=e=>p(e)||"function"==typeof(null===e||void 0===e?void 0:e[Symbol.iterator]),m="[ \t\n\f\r]",v=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,y=/-->/g,b=/>/g,w=RegExp(">|".concat(m,"(?:([^\\s\"'>=/]+)(").concat(m,"*=").concat(m,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),A=/'/g,E=/"/g,S=/^(?:script|style|textarea|title)$/i,C=e=>function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return{_$litType$:e,strings:t,values:r}},_=C(1),k=C(2),x=(C(3),Symbol.for("lit-noChange")),I=Symbol.for("lit-nothing"),N=new WeakMap,T=d.createTreeWalker(d,129);function P(e,t){if(!p(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==o?o.createHTML(t):t}const O=(e,t)=>{const n=e.length-1,r=[];let i,s=2===t?"<svg>":3===t?"<math>":"",o=v;for(let l=0;l<n;l++){const t=e[l];let n,d,h=-1,f=0;for(;f<t.length&&(o.lastIndex=f,d=o.exec(t),null!==d);)f=o.lastIndex,o===v?"!--"===d[1]?o=y:void 0!==d[1]?o=b:void 0!==d[2]?(S.test(d[2])&&(i=RegExp("</"+d[2],"g")),o=w):void 0!==d[3]&&(o=w):o===w?">"===d[0]?(o=null!==i&&void 0!==i?i:v,h=-1):void 0===d[1]?h=-2:(h=o.lastIndex-d[2].length,n=d[1],o=void 0===d[3]?w:'"'===d[3]?E:A):o===E||o===A?o=w:o===y||o===b?o=v:(o=w,i=void 0);const p=o===w&&e[l+1].startsWith("/>")?" ":"";s+=o===v?t+u:h>=0?(r.push(n),t.slice(0,h)+a+t.slice(h)+c+p):t+c+(-2===h?l:p)}return[P(e,s+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class R{constructor(e,t){let n,{strings:r,_$litType$:i}=e;this.parts=[];let o=0,u=0;const d=r.length-1,f=this.parts,[p,g]=O(r,i);if(this.el=R.createElement(p,t),T.currentNode=this.el.content,2===i||3===i){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(n=T.nextNode())&&f.length<d;){if(1===n.nodeType){if(n.hasAttributes())for(const e of n.getAttributeNames())if(e.endsWith(a)){const t=g[u++],r=n.getAttribute(e).split(c),i=/([.?@])?(.*)/.exec(t);f.push({type:1,index:o,name:i[2],strings:r,ctor:"."===i[1]?B:"?"===i[1]?F:"@"===i[1]?j:L}),n.removeAttribute(e)}else e.startsWith(c)&&(f.push({type:6,index:o}),n.removeAttribute(e));if(S.test(n.tagName)){const e=n.textContent.split(c),t=e.length-1;if(t>0){n.textContent=s?s.emptyScript:"";for(let r=0;r<t;r++)n.append(e[r],h()),T.nextNode(),f.push({type:2,index:++o});n.append(e[t],h())}}}else if(8===n.nodeType)if(n.data===l)f.push({type:2,index:o});else{let e=-1;for(;-1!==(e=n.data.indexOf(c,e+1));)f.push({type:7,index:o}),e+=c.length-1}o++}}static createElement(e,t){const n=d.createElement("template");return n.innerHTML=e,n}}function M(e,t){var n,r,i,s,o;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,c=arguments.length>3?arguments[3]:void 0;if(t===x)return t;let l=void 0!==c?null===(n=a._$Co)||void 0===n?void 0:n[c]:a._$Cl;const u=f(t)?void 0:t._$litDirective$;return(null===(r=l)||void 0===r?void 0:r.constructor)!==u&&(null!==(i=l)&&void 0!==i&&null!==(s=i._$AO)&&void 0!==s&&s.call(i,!1),void 0===u?l=void 0:(l=new u(e),l._$AT(e,a,c)),void 0!==c?(null!==(o=a._$Co)&&void 0!==o?o:a._$Co=[])[c]=l:a._$Cl=l),void 0!==l&&(t=M(e,l._$AS(e,t.values),l,c)),t}class D{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:n},parts:r}=this._$AD,i=(null!==(t=null===e||void 0===e?void 0:e.creationScope)&&void 0!==t?t:d).importNode(n,!0);T.currentNode=i;let s=T.nextNode(),o=0,a=0,c=r[0];for(;void 0!==c;){var l;if(o===c.index){let t;2===c.type?t=new U(s,s.nextSibling,this,e):1===c.type?t=new c.ctor(s,c.name,c.strings,this,e):6===c.type&&(t=new z(s,this,e)),this._$AV.push(t),c=r[++a]}o!==(null===(l=c)||void 0===l?void 0:l.index)&&(s=T.nextNode(),o++)}return T.currentNode=d,i}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class U{get _$AU(){var e,t;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cv}constructor(e,t,n,r){var i;this.type=2,this._$AH=I,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=null===(i=null===r||void 0===r?void 0:r.isConnected)||void 0===i||i}get parentNode(){var e;let t=this._$AA.parentNode;const n=this._$AM;return void 0!==n&&11===(null===(e=t)||void 0===e?void 0:e.nodeType)&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),f(e)?e===I||null==e||""===e?(this._$AH!==I&&this._$AR(),this._$AH=I):e!==this._$AH&&e!==x&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):g(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==I&&f(this._$AH)?this._$AA.nextSibling.data=e:this.T(d.createTextNode(e)),this._$AH=e}$(e){var t;const{values:n,_$litType$:r}=e,i="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=R.createElement(P(r.h,r.h[0]),this.options)),r);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===i)this._$AH.p(n);else{const e=new D(i,this),t=e.u(this.options);e.p(n),this.T(t),this._$AH=e}}_$AC(e){let t=N.get(e.strings);return void 0===t&&N.set(e.strings,t=new R(e)),t}k(e){p(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const i of e)r===t.length?t.push(n=new U(this.O(h()),this.O(h()),this,this.options)):n=t[r],n._$AI(i),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e&&e!==this._$AB;){var n;const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cv=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class L{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=I,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=I}_$AI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this.strings;let s=!1;if(void 0===i)e=M(this,e,t,0),s=!f(e)||e!==this._$AH&&e!==x,s&&(this._$AH=e);else{const r=e;let o,a;for(e=i[0],o=0;o<i.length-1;o++)a=M(this,r[n+o],t,o),a===x&&(a=this._$AH[o]),s||(s=!f(a)||a!==this._$AH[o]),a===I?e=I:e!==I&&(e+=(null!==a&&void 0!==a?a:"")+i[o+1]),this._$AH[o]=a}s&&!r&&this.j(e)}j(e){e===I?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!==e&&void 0!==e?e:"")}}class B extends L{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===I?void 0:e}}class F extends L{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==I)}}class j extends L{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e){var t;if((e=null!==(t=M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:I)===x)return;const n=this._$AH,r=e===I&&n!==I||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==I&&(n===I||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(n=this.options)||void 0===n?void 0:n.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}class z{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){M(this,e)}}const W={M:a,P:c,A:l,C:1,L:O,R:D,D:g,V:M,I:U,H:L,N:F,U:j,B:B,F:z},H=i.litHtmlPolyfillSupport;null!==H&&void 0!==H&&H(R,U),(null!==(r=i.litHtmlVersions)&&void 0!==r?r:i.litHtmlVersions=[]).push("3.2.1");const V=(e,t,n)=>{var r;const i=null!==(r=null===n||void 0===n?void 0:n.renderBefore)&&void 0!==r?r:t;let s=i._$litPart$;if(void 0===s){var o;const e=null!==(o=null===n||void 0===n?void 0:n.renderBefore)&&void 0!==o?o:null;i._$litPart$=s=new U(t.insertBefore(h(),e),e,void 0,null!==n&&void 0!==n?n:{})}return s._$AI(e),s}},8661:(e,t,n)=>{"use strict";n.d(t,{h:()=>o,j:()=>s});const r=e=>JSON.stringify(e,((e,t)=>"bigint"===typeof t?t.toString()+"n":t)),i=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,((e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))};function s(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return i(e)}catch(t){return e}}function o(e){return"string"===typeof e?e:r(e)||""}},8833:(e,t,n)=>{"use strict";n.d(t,{S:()=>v});var r=1e6,i=1e6,s="[big.js] ",o=s+"Invalid ",a=o+"decimal places",c=o+"rounding mode",l=s+"Division by zero",u={},d=void 0,h=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function f(e,t,n,r){var i=e.c;if(n===d&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(c);if(t<1)r=3===n&&(r||!!i[0])||0===t&&(1===n&&i[0]>=5||2===n&&(i[0]>5||5===i[0]&&(r||i[1]!==d))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=1===n&&i[t]>=5||2===n&&(i[t]>5||5===i[t]&&(r||i[t+1]!==d||1&i[t-1]))||3===n&&(r||!!i[0]),i.length=t,r)for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}for(t=i.length;!i[--t];)i.pop()}return e}function p(e,t,n){var r=e.e,i=e.c.join(""),s=i.length;if(t)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}u.abs=function(){var e=new this.constructor(this);return e.s=1,e},u.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,s=n.s,o=e.s,a=n.e,c=e.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(t=s<0,a!=c)return a>c^t?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^t?1:-1;return a==c?0:a>c^t?1:-1},u.div=function(e){var t=this,n=t.constructor,i=t.c,s=(e=new n(e)).c,o=t.s==e.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>r)throw Error(a);if(!s[0])throw Error(l);if(!i[0])return e.s=o,e.c=[e.e=0],e;var u,h,p,g,m,v=s.slice(),y=u=s.length,b=i.length,w=i.slice(0,u),A=w.length,E=e,S=E.c=[],C=0,_=c+(E.e=t.e-e.e)+1;for(E.s=o,o=_<0?0:_,v.unshift(0);A++<u;)w.push(0);do{for(p=0;p<10;p++){if(u!=(A=w.length))g=u>A?1:-1;else for(m=-1,g=0;++m<u;)if(s[m]!=w[m]){g=s[m]>w[m]?1:-1;break}if(!(g<0))break;for(h=A==u?s:v;A;){if(w[--A]<h[A]){for(m=A;m&&!w[--m];)w[m]=9;--w[m],w[A]+=10}w[A]-=h[A]}for(;!w[0];)w.shift()}S[C++]=g?p:++p,w[0]&&g?w[A]=i[y]||0:w=[i[y]]}while((y++<b||w[0]!==d)&&o--);return S[0]||1==C||(S.shift(),E.e--,_--),C>_&&f(E,_,n.RM,w[0]!==d),E},u.eq=function(e){return 0===this.cmp(e)},u.gt=function(e){return this.cmp(e)>0},u.gte=function(e){return this.cmp(e)>-1},u.lt=function(e){return this.cmp(e)<0},u.lte=function(e){return this.cmp(e)<1},u.minus=u.sub=function(e){var t,n,r,i,s=this,o=s.constructor,a=s.s,c=(e=new o(e)).s;if(a!=c)return e.s=-c,s.plus(e);var l=s.c.slice(),u=s.e,d=e.c,h=e.e;if(!l[0]||!d[0])return d[0]?e.s=-c:l[0]?e=new o(s):e.s=1,e;if(a=u-h){for((i=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){i=l[c]<d[c];break}if(i&&(r=l,l=d,d=r,e.s=-e.s),(c=(n=d.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>a;){if(l[--n]<d[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=d[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(e.s=1,l=[h=0]),e.c=l,e.e=h,e},u.mod=function(e){var t,n=this,r=n.constructor,i=n.s,s=(e=new r(e)).s;if(!e.c[0])throw Error(l);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=s,t?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=s,this.minus(n.times(e)))},u.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},u.plus=u.add=function(e){var t,n,r,i=this,s=i.constructor;if(e=new s(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var o=i.e,a=i.c,c=e.e,l=e.c;if(!a[0]||!l[0])return l[0]||(a[0]?e=new s(i):e.s=i.s),e;if(a=a.slice(),t=o-c){for(t>0?(c=o,r=l):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),t=l.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+l[t]+n)/10|0;for(n&&(a.unshift(n),++c),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=c,e},u.pow=function(e){var t=this,n=new t.constructor("1"),r=n,s=e<0;if(e!==~~e||e<-1e6||e>i)throw Error(o+"exponent");for(s&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return s?n.div(r):r},u.prec=function(e,t){if(e!==~~e||e<1||e>r)throw Error(o+"precision");return f(new this.constructor(this),e,t)},u.round=function(e,t){if(e===d)e=0;else if(e!==~~e||e<-r||e>r)throw Error(a);return f(new this.constructor(this),e+this.e+1,t)},u.sqrt=function(){var e,t,n,r=this,i=r.constructor,o=r.s,a=r.e,c=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error(s+"No square root");0===(o=Math.sqrt(+p(r,!0,!0)))||o===1/0?((t=r.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new i(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):e=new i(o+""),a=e.e+(i.DP+=4);do{n=e,e=c.times(n.plus(r.div(n)))}while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return f(e,(i.DP-=4)+e.e+1,i.RM)},u.times=u.mul=function(e){var t,n=this,r=n.constructor,i=n.c,s=(e=new r(e)).c,o=i.length,a=s.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!s[0])return e.c=[e.e=0],e;for(e.e=c+l,o<a&&(t=i,i=s,s=t,l=o,o=a,a=l),t=new Array(l=o+a);l--;)t[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=t[l]+s[c]*i[l-c-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},u.toExponential=function(e,t){var n=this,i=n.c[0];if(e!==d){if(e!==~~e||e<0||e>r)throw Error(a);for(n=f(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return p(n,!0,!!i)},u.toFixed=function(e,t){var n=this,i=n.c[0];if(e!==d){if(e!==~~e||e<0||e>r)throw Error(a);for(e=e+(n=f(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return p(n,!1,!!i)},u[Symbol.for("nodejs.util.inspect.custom")]=u.toJSON=u.toString=function(){var e=this,t=e.constructor;return p(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},u.toNumber=function(){var e=+p(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(s+"Imprecise conversion");return e},u.toPrecision=function(e,t){var n=this,i=n.constructor,s=n.c[0];if(e!==d){if(e!==~~e||e<1||e>r)throw Error(o+"precision");for(n=f(new i(n),e,t);n.c.length<e;)n.c.push(0)}return p(n,e<=n.e||n.e<=i.NE||n.e>=i.PE,!!s)},u.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(s+"valueOf disallowed");return p(e,e.e<=t.NE||e.e>=t.PE,!0)};var g=function e(){function t(n){var r=this;if(!(r instanceof t))return n===d?e():new t(n);if(n instanceof t)r.s=n.s,r.e=n.e,r.c=n.c.slice();else{if("string"!==typeof n){if(!0===t.strict&&"bigint"!==typeof n)throw TypeError(o+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,r,i;if(!h.test(t))throw Error(o+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".",""));(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length);for(i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n)}r.constructor=t}return t.prototype=u,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();const m=g,v={bigNumber:e=>new m(e||0),multiply(e,t){if(void 0===e||void 0===t)return new m(0);const n=new m(e),r=new m(t);return n.times(r)},formatNumberToLocalString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"0.00":"number"===typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})},parseLocalStringToNumber:e=>void 0===e?0:parseFloat(e.replace(/,/g,""))}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8861:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(9379),i=n(9477);const s={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired:(e,t)=>Date.now()-e>t,getActiveNetworkProps(){const e=s.getActiveNamespace(),t=s.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:n?isNaN(Number(n))?n:Number(n):void 0}},setWalletConnectDeepLink(e){let{name:t,href:n}=e;try{i.Ud.setItem(i.Ws.DEEPLINK_CHOICE,JSON.stringify({href:n,name:t}))}catch(r){console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=i.Ud.getItem(i.Ws.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch(e){console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{i.Ud.removeItem(i.Ws.DEEPLINK_CHOICE)}catch(e){console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{i.Ud.setItem(i.Ws.ACTIVE_NAMESPACE,e)}catch(t){console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{i.Ud.setItem(i.Ws.ACTIVE_CAIP_NETWORK_ID,e),s.setActiveNamespace(e.split(":")[0])}catch(t){console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return i.Ud.getItem(i.Ws.ACTIVE_CAIP_NETWORK_ID)}catch(e){return void console.info("Unable to get active caip network id")}},deleteActiveCaipNetworkId(){try{i.Ud.removeItem(i.Ws.ACTIVE_CAIP_NETWORK_ID)}catch(e){console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=(0,i.T8)(e);i.Ud.removeItem(t)}catch(t){console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=s.getRecentWallets();t.find((t=>t.id===e.id))||(t.unshift(e),t.length>2&&t.pop(),i.Ud.setItem(i.Ws.RECENT_WALLETS,JSON.stringify(t)))}catch(t){console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=i.Ud.getItem(i.Ws.RECENT_WALLETS);return e?JSON.parse(e):[]}catch(e){console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const n=(0,i.T8)(e);i.Ud.setItem(n,t)}catch(n){console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return i.Ud.getItem(i.Ws.ACTIVE_NAMESPACE)}catch(e){console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=(0,i.T8)(e);return i.Ud.getItem(t)}catch(t){console.info("Unable to get connected connector id in namespace ",e)}},setConnectedSocialProvider(e){try{i.Ud.setItem(i.Ws.CONNECTED_SOCIAL,e)}catch(t){console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return i.Ud.getItem(i.Ws.CONNECTED_SOCIAL)}catch(e){console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{i.Ud.removeItem(i.Ws.CONNECTED_SOCIAL)}catch(e){console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return i.Ud.getItem(i.Ws.CONNECTED_SOCIAL_USERNAME)}catch(e){console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var e;const t=i.Ud.getItem(i.Ws.ACTIVE_CAIP_NETWORK_ID);return null===t||void 0===t||null===(e=t.split(":"))||void 0===e?void 0:e[1]},setConnectionStatus(e){try{i.Ud.setItem(i.Ws.CONNECTION_STATUS,e)}catch(t){console.info("Unable to set connection status")}},getConnectionStatus(){try{return i.Ud.getItem(i.Ws.CONNECTION_STATUS)}catch(e){return}},getConnectedNamespaces(){try{const e=i.Ud.getItem(i.Ws.CONNECTED_NAMESPACES);return null!==e&&void 0!==e&&e.length?e.split(","):[]}catch(e){return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));i.Ud.setItem(i.Ws.CONNECTED_NAMESPACES,t.join(","))}catch(t){console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=s.getConnectedNamespaces();t.includes(e)||(t.push(e),s.setConnectedNamespaces(t))}catch(t){console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=s.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),s.setConnectedNamespaces(t))}catch(t){console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return i.Ud.getItem(i.Ws.TELEGRAM_SOCIAL_PROVIDER)}catch(e){return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{i.Ud.setItem(i.Ws.TELEGRAM_SOCIAL_PROVIDER,e)}catch(t){console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{i.Ud.removeItem(i.Ws.TELEGRAM_SOCIAL_PROVIDER)}catch(e){console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=i.Ud.getItem(i.Ws.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch(t){console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=s.getBalanceCache();i.Ud.setItem(i.Ws.PORTFOLIO_CACHE,JSON.stringify((0,r.A)((0,r.A)({},t),{},{[e]:void 0})))}catch(t){console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const t=s.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;s.removeAddressFromBalanceCache(e)}catch(t){console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=s.getBalanceCache();t[e.caipAddress]=e,i.Ud.setItem(i.Ws.PORTFOLIO_CACHE,JSON.stringify(t))}catch(t){console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=i.Ud.getItem(i.Ws.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch(t){console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=s.getBalanceCache();i.Ud.setItem(i.Ws.NATIVE_BALANCE_CACHE,JSON.stringify((0,r.A)((0,r.A)({},t),{},{[e]:void 0})))}catch(t){console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const t=s.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),s.removeAddressFromBalanceCache(e)}catch(t){console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=s.getNativeBalanceCache();t[e.caipAddress]=e,i.Ud.setItem(i.Ws.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch(t){console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=i.Ud.getItem(i.Ws.ENS_CACHE);e=t?JSON.parse(t):{}}catch(t){console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const t=s.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;s.removeEnsFromCache(e)}catch(t){console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=s.getEnsCache();t[e.address]=e,i.Ud.setItem(i.Ws.ENS_CACHE,JSON.stringify(t))}catch(t){console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=s.getEnsCache();i.Ud.setItem(i.Ws.ENS_CACHE,JSON.stringify((0,r.A)((0,r.A)({},t),{},{[e]:void 0})))}catch(t){console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=i.Ud.getItem(i.Ws.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch(t){console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const t=s.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;s.removeIdentityFromCache(e)}catch(t){console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=s.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},i.Ud.setItem(i.Ws.IDENTITY_CACHE,JSON.stringify(t))}catch(t){console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=s.getIdentityCache();i.Ud.setItem(i.Ws.IDENTITY_CACHE,JSON.stringify((0,r.A)((0,r.A)({},t),{},{[e]:void 0})))}catch(t){console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{i.Ud.removeItem(i.Ws.PORTFOLIO_CACHE),i.Ud.removeItem(i.Ws.NATIVE_BALANCE_CACHE),i.Ud.removeItem(i.Ws.ENS_CACHE),i.Ud.removeItem(i.Ws.IDENTITY_CACHE)}catch(e){console.info("Unable to clear address cache")}}}},8951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},9038:(e,t,n)=>{var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=m(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=d(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=h(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(e,t){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof A){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(s){console.warn("Response "+s.message)}}})),t}function C(e,t){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},b.call(A.prototype),b.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var _=[301,302,303,307,308];C.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(x){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(i,s){var a=new A(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e={statusText:l.statusText,headers:S(l.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?e.status=200:e.status=l.status,e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout((function(){i(new C(t,e))}),0)},l.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"===typeof n.headers&&!(n.headers instanceof p||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){f.push(d(e)),l.setRequestHeader(e,h(n.headers[e]))})),a.headers.forEach((function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}k.polyfill=!0,r.fetch||(r.fetch=k,r.Headers=p,r.Request=A,r.Response=C),t.Headers=p,t.Request=A,t.Response=C,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},9112:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},9268:(e,t,n)=>{"use strict";n.d(t,{z8:()=>r,tt:()=>l,Zv:()=>s.Z,EM:()=>u.E,RF:()=>i.RF,JX:()=>i.JX,ds:()=>i.ds});const r={interpolate(e,t,n){if(2!==e.length||2!==t.length)throw new Error("inputRange and outputRange must be an array of length 2");const r=e[0]||0,i=e[1]||0,s=t[0]||0,o=t[1]||0;return n<r?s:n>i?o:(o-s)/(i-r)*(n-r)+s}};var i=n(9446),s=n(9929),o=n(4684);const a=["receive","deposit","borrow","claim"],c=["withdraw","repay","burn"],l={getTransactionGroupTitle(e,t){const n=o.r.getYear(),r=o.r.getMonthNameByIndex(t);return e===n?r:"".concat(r," ").concat(e)},getTransactionImages(e){const[t,n]=e,r=Boolean(t)&&(null===e||void 0===e?void 0:e.every((e=>Boolean(e.nft_info)))),i=(null===e||void 0===e?void 0:e.length)>1;return 2===(null===e||void 0===e?void 0:e.length)&&!r?[this.getTransactionImage(t),this.getTransactionImage(n)]:i?e.map((e=>this.getTransactionImage(e))):[this.getTransactionImage(t)]},getTransactionImage:e=>({type:l.getTransactionTransferTokenType(e),url:l.getTransactionImageURL(e)}),getTransactionImageURL(e){let t;const n=Boolean(null===e||void 0===e?void 0:e.nft_info),r=Boolean(null===e||void 0===e?void 0:e.fungible_info);var i;if(e&&n)t=null===e||void 0===e||null===(i=e.nft_info)||void 0===i||null===(i=i.content)||void 0===i||null===(i=i.preview)||void 0===i?void 0:i.url;else if(e&&r){var s;t=null===e||void 0===e||null===(s=e.fungible_info)||void 0===s||null===(s=s.icon)||void 0===s?void 0:s.url}return t},getTransactionTransferTokenType:e=>null!==e&&void 0!==e&&e.fungible_info?"FUNGIBLE":null!==e&&void 0!==e&&e.nft_info?"NFT":void 0,getTransactionDescriptions(e){var t,n,r;const i=null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.operationType,o=null===e||void 0===e?void 0:e.transfers,l=(null===e||void 0===e||null===(n=e.transfers)||void 0===n?void 0:n.length)>0,u=(null===e||void 0===e||null===(r=e.transfers)||void 0===r?void 0:r.length)>1,d=l&&(null===o||void 0===o?void 0:o.every((e=>Boolean(null===e||void 0===e?void 0:e.fungible_info)))),[h,f]=o;let p=this.getTransferDescription(h),g=this.getTransferDescription(f);if(!l){return("send"===i||"receive"===i)&&d?(p=s.Z.getTruncateString({string:null===e||void 0===e?void 0:e.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),g=s.Z.getTruncateString({string:null===e||void 0===e?void 0:e.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"}),[p,g]):[e.metadata.status]}if(u)return o.map((e=>this.getTransferDescription(e)));let m="";return a.includes(i)?m="+":c.includes(i)&&(m="-"),p=m.concat(p),[p]},getTransferDescription(e){let t="";if(!e)return t;var n;null!==e&&void 0!==e&&e.nft_info?t=(null===e||void 0===e||null===(n=e.nft_info)||void 0===n?void 0:n.name)||"-":null!==e&&void 0!==e&&e.fungible_info&&(t=this.getFungibleTransferDescription(e)||"-");return t},getFungibleTransferDescription(e){var t;if(!e)return null;return[this.getQuantityFixedValue(null===e||void 0===e?void 0:e.quantity.numeric),null===e||void 0===e||null===(t=e.fungible_info)||void 0===t?void 0:t.symbol].join(" ").trim()},getQuantityFixedValue(e){if(!e)return null;return parseFloat(e).toFixed(3)}};var u=n(7845)},9300:(e,t,n)=>{"use strict";var r=n(6373),i=n(6864),s=i.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;if(0===e[t.place])return!1;for(var i=0,s=0,o=t.place;s<r;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function l(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new a;if(48!==e[n.place++])return!1;var s=c(e,n);if(!1===s)return!1;if(s+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=c(e,n);if(!1===o)return!1;if(0!==(128&e[n.place]))return!1;var l=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var u=c(e,n);if(!1===u)return!1;if(e.length!==u+n.place)return!1;if(0!==(128&e[n.place]))return!1;var d=e.slice(n.place,u+n.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new r(l),this.s=new r(d),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=l(t),n=l(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];u(r,t.length),(r=r.concat(t)).push(2),u(r,n.length);var s=r.concat(n),o=[48];return u(o,s.length),o=o.concat(s),i.encode(o,e)}},9323:(e,t,n)=>{"use strict";n.d(t,{E:()=>m});var r=n(9379),i=n(574),s=n(883),o=n(9477),a=n(4657),c=n(4564),l=n(595),u=n(3542),d=n(2661);const h=a.w.getAnalyticsUrl(),f=new c.Z({baseUrl:h,clientId:null}),p=["MODAL_CREATED"],g=(0,i.BX)({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),m={state:g,subscribe:e=>(0,i.B1)(g,(()=>e(g))),getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=d.H.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{const t=l.U.state.address;if(p.includes(e.data.event)||"undefined"===typeof window)return;await f.post({path:"/e",params:m.getSdkProperties(),body:{eventId:a.w.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:(0,r.A)((0,r.A)({},e.data),{},{address:t})}}),g.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===s.o.HTTP_STATUS_CODES.FORBIDDEN&&!g.reportedErrors.FORBIDDEN&&(u.h.open({shortMessage:"Invalid App Configuration",longMessage:"Origin ".concat((0,o.IP)()?window.origin:"uknown"," not found on Allowlist - update configuration on cloud.reown.com")},"error"),g.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){var t;g.timestamp=Date.now(),g.data=e,null!==(t=d.H.state.features)&&void 0!==t&&t.analytics&&m._sendAnalyticsEvent(g)}}},9332:(e,t,n)=>{"use strict";t.g=void 0;const r=n(33);t.g=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(s){return null}function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.getElementsByTagName("meta");for(let e=0;e<i.length;e++){const t=i[e],r=["itemprop","property","name"].map((e=>t.getAttribute(e))).filter((e=>!!e&&n.includes(e)));if(r.length&&r){const e=t.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4705);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9397:(e,t,n)=>{"use strict";n.d(t,{D5:()=>k,U5:()=>_,h6:()=>i.a,iP:()=>S,oI:()=>C});var r=n(5711),i=n.n(r),s=n(8661);const o={level:"info"},a="custom_context",c=1024e3;class l{constructor(e){this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class u{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new l(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;this.level=null!==e&&void 0!==e?e:"error",this.levelValue=r.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new u(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===r.levels.values.error?console.error(e):t===r.levels.values.warn?console.warn(e):t===r.levels.values.debug?console.debug(e):t===r.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,s.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new u(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,s.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;this.baseChunkLogger=new d(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}class f{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;this.baseChunkLogger=new d(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var p=Object.defineProperty,g=Object.defineProperties,m=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&w(e,n,t[n]);if(v)for(var n of v(t))b.call(t,n)&&w(e,n,t[n]);return e},E=(e,t)=>g(e,m(t));function S(e){return E(A({},e),{level:(null===e||void 0===e?void 0:e.level)||o.level})}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n="";return n=typeof e.bindings>"u"?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:a]||""}(e,t):e.bindings().context||"",n}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const r=function(e,t){const n=C(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:a);return n.trim()?"".concat(n,"/").concat(t):t}(e,t,n);return function(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:a]=t,e}(e.child({context:r}),r,n)}function k(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new h(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(E(A({},e.opts),{level:"trace",browser:E(A({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new f(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(E(A({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}},9446:(e,t,n)=>{"use strict";n.d(t,{JX:()=>m,RF:()=>g,W5:()=>b,ck:()=>A,ds:()=>v,fD:()=>w});var r,i,s,o,a,c,l=n(7528),u=n(7022),d=n(5347);let h,f,p;function g(e,t){h=document.createElement("style"),f=document.createElement("style"),p=document.createElement("style"),h.textContent=y(e).core.cssText,f.textContent=y(e).dark.cssText,p.textContent=y(e).light.cssText,document.head.appendChild(h),document.head.appendChild(f),document.head.appendChild(p),m(t)}function m(e){f&&p&&("light"===e?(f.removeAttribute("media"),p.media="enabled"):(p.removeAttribute("media"),f.media="enabled"))}function v(e){h&&f&&p&&(h.textContent=y(e).core.cssText,f.textContent=y(e).dark.cssText,p.textContent=y(e).light.cssText)}function y(e){return{core:(0,u.AH)(r||(r=(0,l.A)(["\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n      @keyframes w3m-shake {\n        0% {\n          transform: scale(1) rotate(0deg);\n        }\n        20% {\n          transform: scale(1) rotate(-1deg);\n        }\n        40% {\n          transform: scale(1) rotate(1.5deg);\n        }\n        60% {\n          transform: scale(1) rotate(-1.5deg);\n        }\n        80% {\n          transform: scale(1) rotate(1deg);\n        }\n        100% {\n          transform: scale(1) rotate(0deg);\n        }\n      }\n      @keyframes w3m-iframe-fade-out {\n        0% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in {\n        0% {\n          transform: translateY(50px);\n          opacity: 0;\n        }\n        100% {\n          transform: translateY(0px);\n          opacity: 1;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in-mobile {\n        0% {\n          transform: scale(0.95);\n          opacity: 0;\n        }\n        100% {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n      :root {\n        --w3m-modal-width: 360px;\n        --w3m-color-mix-strength: ",";\n        --w3m-font-family: ",";\n        --w3m-font-size-master: ",";\n        --w3m-border-radius-master: ",";\n        --w3m-z-index: ",";\n\n        --wui-font-family: var(--w3m-font-family);\n\n        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);\n        --wui-font-size-micro: var(--w3m-font-size-master);\n        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);\n        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);\n        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);\n        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);\n        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);\n        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);\n        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);\n        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);\n\n        --wui-border-radius-5xs: var(--w3m-border-radius-master);\n        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);\n        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);\n        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);\n        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);\n        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);\n        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);\n        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);\n        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);\n\n        --wui-font-weight-light: 400;\n        --wui-font-weight-regular: 500;\n        --wui-font-weight-medium: 600;\n        --wui-font-weight-bold: 700;\n\n        --wui-letter-spacing-2xl: -1.6px;\n        --wui-letter-spacing-medium-title: -0.96px;\n        --wui-letter-spacing-title-6: -0.88px;\n        --wui-letter-spacing-large: -0.8px;\n        --wui-letter-spacing-medium: -0.72px;\n        --wui-letter-spacing-paragraph: -0.64px;\n        --wui-letter-spacing-small: -0.56px;\n        --wui-letter-spacing-tiny: -0.48px;\n        --wui-letter-spacing-micro: -0.2px;\n        --wui-letter-spacing-mini: -0.16px;\n\n        --wui-spacing-0: 0px;\n        --wui-spacing-4xs: 2px;\n        --wui-spacing-3xs: 4px;\n        --wui-spacing-xxs: 6px;\n        --wui-spacing-2xs: 7px;\n        --wui-spacing-xs: 8px;\n        --wui-spacing-1xs: 10px;\n        --wui-spacing-s: 12px;\n        --wui-spacing-m: 14px;\n        --wui-spacing-l: 16px;\n        --wui-spacing-2l: 18px;\n        --wui-spacing-xl: 20px;\n        --wui-spacing-xxl: 24px;\n        --wui-spacing-2xl: 32px;\n        --wui-spacing-3xl: 40px;\n        --wui-spacing-4xl: 90px;\n        --wui-spacing-5xl: 95px;\n\n        --wui-icon-box-size-xxs: 14px;\n        --wui-icon-box-size-xs: 20px;\n        --wui-icon-box-size-sm: 24px;\n        --wui-icon-box-size-md: 32px;\n        --wui-icon-box-size-mdl: 36px;\n        --wui-icon-box-size-lg: 40px;\n        --wui-icon-box-size-2lg: 48px;\n        --wui-icon-box-size-xl: 64px;\n\n        --wui-icon-size-inherit: inherit;\n        --wui-icon-size-xxs: 10px;\n        --wui-icon-size-xs: 12px;\n        --wui-icon-size-sm: 14px;\n        --wui-icon-size-md: 16px;\n        --wui-icon-size-mdl: 18px;\n        --wui-icon-size-lg: 20px;\n        --wui-icon-size-xl: 24px;\n        --wui-icon-size-xxl: 28px;\n\n        --wui-wallet-image-size-inherit: inherit;\n        --wui-wallet-image-size-sm: 40px;\n        --wui-wallet-image-size-md: 56px;\n        --wui-wallet-image-size-lg: 80px;\n\n        --wui-visual-size-size-inherit: inherit;\n        --wui-visual-size-sm: 40px;\n        --wui-visual-size-md: 55px;\n        --wui-visual-size-lg: 80px;\n\n        --wui-box-size-md: 100px;\n        --wui-box-size-lg: 120px;\n\n        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);\n        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);\n\n        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);\n        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);\n        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);\n\n        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);\n\n        --wui-duration-lg: 200ms;\n        --wui-duration-md: 125ms;\n        --wui-duration-sm: 75ms;\n\n        --wui-path-network-sm: path(\n          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'\n        );\n\n        --wui-path-network-md: path(\n          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'\n        );\n\n        --wui-path-network-lg: path(\n          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'\n        );\n\n        --wui-width-network-sm: 36px;\n        --wui-width-network-md: 48px;\n        --wui-width-network-lg: 86px;\n\n        --wui-height-network-sm: 40px;\n        --wui-height-network-md: 54px;\n        --wui-height-network-lg: 96px;\n\n        --wui-icon-size-network-xs: 12px;\n        --wui-icon-size-network-sm: 16px;\n        --wui-icon-size-network-md: 24px;\n        --wui-icon-size-network-lg: 42px;\n\n        --wui-color-inherit: inherit;\n\n        --wui-color-inverse-100: #fff;\n        --wui-color-inverse-000: #000;\n\n        --wui-cover: rgba(20, 20, 20, 0.8);\n\n        --wui-color-modal-bg: var(--wui-color-modal-bg-base);\n\n        --wui-color-accent-100: var(--wui-color-accent-base-100);\n        --wui-color-accent-090: var(--wui-color-accent-base-090);\n        --wui-color-accent-080: var(--wui-color-accent-base-080);\n\n        --wui-color-success-100: var(--wui-color-success-base-100);\n        --wui-color-success-125: var(--wui-color-success-base-125);\n\n        --wui-color-warning-100: var(--wui-color-warning-base-100);\n\n        --wui-color-error-100: var(--wui-color-error-base-100);\n        --wui-color-error-125: var(--wui-color-error-base-125);\n\n        --wui-color-blue-100: var(--wui-color-blue-base-100);\n        --wui-color-blue-90: var(--wui-color-blue-base-90);\n\n        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);\n        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);\n        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);\n        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);\n\n        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);\n\n        --wui-avatar-border: var(--wui-avatar-border-base);\n\n        --wui-thumbnail-border: var(--wui-thumbnail-border-base);\n\n        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);\n\n        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);\n      }\n\n      @supports (background: color-mix(in srgb, white 50%, black)) {\n        :root {\n          --wui-color-modal-bg: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-modal-bg-base)\n          );\n\n          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);\n\n          --wui-color-accent-100: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 100%,\n            transparent\n          );\n          --wui-color-accent-090: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 90%,\n            transparent\n          );\n          --wui-color-accent-080: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 80%,\n            transparent\n          );\n          --wui-color-accent-glass-090: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 90%,\n            transparent\n          );\n          --wui-color-accent-glass-080: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 80%,\n            transparent\n          );\n          --wui-color-accent-glass-020: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 20%,\n            transparent\n          );\n          --wui-color-accent-glass-015: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 15%,\n            transparent\n          );\n          --wui-color-accent-glass-010: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 10%,\n            transparent\n          );\n          --wui-color-accent-glass-005: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 5%,\n            transparent\n          );\n          --wui-color-accent-002: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 2%,\n            transparent\n          );\n\n          --wui-color-fg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-100)\n          );\n          --wui-color-fg-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-125)\n          );\n          --wui-color-fg-150: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-150)\n          );\n          --wui-color-fg-175: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-175)\n          );\n          --wui-color-fg-200: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-200)\n          );\n          --wui-color-fg-225: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-225)\n          );\n          --wui-color-fg-250: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-250)\n          );\n          --wui-color-fg-275: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-275)\n          );\n          --wui-color-fg-300: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-300)\n          );\n          --wui-color-fg-325: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-325)\n          );\n          --wui-color-fg-350: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-350)\n          );\n\n          --wui-color-bg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-100)\n          );\n          --wui-color-bg-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-125)\n          );\n          --wui-color-bg-150: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-150)\n          );\n          --wui-color-bg-175: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-175)\n          );\n          --wui-color-bg-200: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-200)\n          );\n          --wui-color-bg-225: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-225)\n          );\n          --wui-color-bg-250: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-250)\n          );\n          --wui-color-bg-275: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-275)\n          );\n          --wui-color-bg-300: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-300)\n          );\n          --wui-color-bg-325: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-325)\n          );\n          --wui-color-bg-350: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-350)\n          );\n\n          --wui-color-success-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-success-base-100)\n          );\n          --wui-color-success-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-success-base-125)\n          );\n\n          --wui-color-warning-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-warning-base-100)\n          );\n\n          --wui-color-error-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-error-base-100)\n          );\n          --wui-color-blue-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-blue-base-100)\n          );\n          --wui-color-blue-90: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-blue-base-90)\n          );\n          --wui-color-error-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-error-base-125)\n          );\n\n          --wui-icon-box-bg-error-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-error-base-100)\n          );\n          --wui-icon-box-bg-accent-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-blue-base-100)\n          );\n          --wui-icon-box-bg-success-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-success-base-100)\n          );\n          --wui-icon-box-bg-inverse-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-inverse-base-100)\n          );\n\n          --wui-all-wallets-bg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-all-wallets-bg-100)\n          );\n\n          --wui-avatar-border: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-avatar-border-base)\n          );\n\n          --wui-thumbnail-border: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-thumbnail-border-base)\n          );\n\n          --wui-wallet-button-bg: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-wallet-button-bg-base)\n          );\n        }\n      }\n    "])),(0,u.iz)(null!==e&&void 0!==e&&e["--w3m-color-mix-strength"]?"".concat(e["--w3m-color-mix-strength"],"%"):"0%"),(0,u.iz)((null===e||void 0===e?void 0:e["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;"),(0,u.iz)((null===e||void 0===e?void 0:e["--w3m-font-size-master"])||"10px"),(0,u.iz)((null===e||void 0===e?void 0:e["--w3m-border-radius-master"])||"4px"),(0,u.iz)((null===e||void 0===e?void 0:e["--w3m-z-index"])||999)),light:(0,u.AH)(i||(i=(0,l.A)(["\n      :root {\n        --w3m-color-mix: ",";\n        --w3m-accent: ",";\n        --w3m-default: #fff;\n\n        --wui-color-modal-bg-base: ",";\n        --wui-color-accent-base-100: var(--w3m-accent);\n\n        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);\n        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);\n        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);\n        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);\n\n        --wui-color-fg-100: #e4e7e7;\n        --wui-color-fg-125: #d0d5d5;\n        --wui-color-fg-150: #a8b1b1;\n        --wui-color-fg-175: #a8b0b0;\n        --wui-color-fg-200: #949e9e;\n        --wui-color-fg-225: #868f8f;\n        --wui-color-fg-250: #788080;\n        --wui-color-fg-275: #788181;\n        --wui-color-fg-300: #6e7777;\n        --wui-color-fg-325: #9a9a9a;\n        --wui-color-fg-350: #363636;\n\n        --wui-color-bg-100: #141414;\n        --wui-color-bg-125: #191a1a;\n        --wui-color-bg-150: #1e1f1f;\n        --wui-color-bg-175: #222525;\n        --wui-color-bg-200: #272a2a;\n        --wui-color-bg-225: #2c3030;\n        --wui-color-bg-250: #313535;\n        --wui-color-bg-275: #363b3b;\n        --wui-color-bg-300: #3b4040;\n        --wui-color-bg-325: #252525;\n        --wui-color-bg-350: #ffffff;\n\n        --wui-color-success-base-100: #26d962;\n        --wui-color-success-base-125: #30a46b;\n\n        --wui-color-warning-base-100: #f3a13f;\n\n        --wui-color-error-base-100: #f25a67;\n        --wui-color-error-base-125: #df4a34;\n\n        --wui-color-blue-base-100: rgba(102, 125, 255, 1);\n        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);\n\n        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);\n        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);\n        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);\n        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);\n        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);\n        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);\n        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);\n        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);\n        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);\n        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);\n\n        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);\n\n        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);\n\n        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);\n        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);\n        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);\n        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);\n        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);\n        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);\n        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);\n        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);\n        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);\n        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);\n\n        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);\n\n        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);\n        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);\n        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);\n        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);\n        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);\n        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);\n        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);\n        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);\n        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);\n        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);\n        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);\n\n        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);\n\n        --wui-icon-box-bg-error-base-100: #3c2426;\n        --wui-icon-box-bg-blue-base-100: #20303f;\n        --wui-icon-box-bg-success-base-100: #1f3a28;\n        --wui-icon-box-bg-inverse-base-100: #243240;\n\n        --wui-all-wallets-bg-100: #222b35;\n\n        --wui-avatar-border-base: #252525;\n\n        --wui-thumbnail-border-base: #252525;\n\n        --wui-wallet-button-bg-base: var(--wui-color-bg-125);\n\n        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);\n      }\n    "])),(0,u.iz)((null===e||void 0===e?void 0:e["--w3m-color-mix"])||"#fff"),(0,u.iz)((0,d.o)(e,"dark")["--w3m-accent"]),(0,u.iz)((0,d.o)(e,"dark")["--w3m-background"])),dark:(0,u.AH)(s||(s=(0,l.A)(["\n      :root {\n        --w3m-color-mix: ",";\n        --w3m-accent: ",";\n        --w3m-default: #000;\n\n        --wui-color-modal-bg-base: ",";\n        --wui-color-accent-base-100: var(--w3m-accent);\n\n        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);\n        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);\n        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);\n\n        --wui-color-fg-100: #141414;\n        --wui-color-fg-125: #2d3131;\n        --wui-color-fg-150: #474d4d;\n        --wui-color-fg-175: #636d6d;\n        --wui-color-fg-200: #798686;\n        --wui-color-fg-225: #828f8f;\n        --wui-color-fg-250: #8b9797;\n        --wui-color-fg-275: #95a0a0;\n        --wui-color-fg-300: #9ea9a9;\n        --wui-color-fg-325: #9a9a9a;\n        --wui-color-fg-350: #d0d0d0;\n\n        --wui-color-bg-100: #ffffff;\n        --wui-color-bg-125: #f5fafa;\n        --wui-color-bg-150: #f3f8f8;\n        --wui-color-bg-175: #eef4f4;\n        --wui-color-bg-200: #eaf1f1;\n        --wui-color-bg-225: #e5eded;\n        --wui-color-bg-250: #e1e9e9;\n        --wui-color-bg-275: #dce7e7;\n        --wui-color-bg-300: #d8e3e3;\n        --wui-color-bg-325: #f3f3f3;\n        --wui-color-bg-350: #202020;\n\n        --wui-color-success-base-100: #26b562;\n        --wui-color-success-base-125: #30a46b;\n\n        --wui-color-warning-base-100: #f3a13f;\n\n        --wui-color-error-base-100: #f05142;\n        --wui-color-error-base-125: #df4a34;\n\n        --wui-color-blue-base-100: rgba(102, 125, 255, 1);\n        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);\n\n        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);\n        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);\n        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);\n        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);\n        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);\n        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);\n        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);\n        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);\n        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);\n        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);\n\n        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);\n\n        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);\n\n        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);\n        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);\n        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);\n        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);\n        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);\n        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);\n        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);\n        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);\n        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);\n        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);\n\n        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);\n\n        --wui-icon-box-bg-error-base-100: #f4dfdd;\n        --wui-icon-box-bg-blue-base-100: #d9ecfb;\n        --wui-icon-box-bg-success-base-100: #daf0e4;\n        --wui-icon-box-bg-inverse-base-100: #dcecfc;\n\n        --wui-all-wallets-bg-100: #e8f1fa;\n\n        --wui-avatar-border-base: #f3f4f4;\n\n        --wui-thumbnail-border-base: #eaefef;\n\n        --wui-wallet-button-bg-base: var(--wui-color-bg-125);\n\n        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);\n        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);\n        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);\n        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);\n        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);\n        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);\n        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);\n        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);\n        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);\n        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);\n        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);\n\n        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);\n\n        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);\n      }\n    "])),(0,u.iz)((null===e||void 0===e?void 0:e["--w3m-color-mix"])||"#000"),(0,u.iz)((0,d.o)(e,"light")["--w3m-accent"]),(0,u.iz)((0,d.o)(e,"light")["--w3m-background"]))}}const b=(0,u.AH)(o||(o=(0,l.A)(["\n  *,\n  *::after,\n  *::before,\n  :host {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-style: normal;\n    text-rendering: optimizeSpeed;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: transparent;\n    font-family: var(--wui-font-family);\n    backface-visibility: hidden;\n  }\n"]))),w=(0,u.AH)(a||(a=(0,l.A)(["\n  button,\n  a {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    transition:\n      color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      border var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: background-color, color, border, box-shadow, border-radius;\n    outline: none;\n    border: none;\n    column-gap: var(--wui-spacing-3xs);\n    background-color: transparent;\n    text-decoration: none;\n  }\n\n  wui-flex {\n    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius;\n  }\n\n  button:disabled > wui-wallet-image,\n  button:disabled > wui-all-wallets-image,\n  button:disabled > wui-network-image,\n  button:disabled > wui-image,\n  button:disabled > wui-transaction-visual,\n  button:disabled > wui-logo {\n    filter: grayscale(1);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    button:hover:enabled {\n      background-color: var(--wui-color-gray-glass-005);\n    }\n\n    button:active:enabled {\n      background-color: var(--wui-color-gray-glass-010);\n    }\n  }\n\n  button:disabled > wui-icon-box {\n    opacity: 0.5;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    appearance: none;\n  }\n"]))),A=(0,u.AH)(c||(c=(0,l.A)(["\n  .wui-color-inherit {\n    color: var(--wui-color-inherit);\n  }\n\n  .wui-color-accent-100 {\n    color: var(--wui-color-accent-100);\n  }\n\n  .wui-color-error-100 {\n    color: var(--wui-color-error-100);\n  }\n\n  .wui-color-blue-100 {\n    color: var(--wui-color-blue-100);\n  }\n\n  .wui-color-blue-90 {\n    color: var(--wui-color-blue-90);\n  }\n\n  .wui-color-error-125 {\n    color: var(--wui-color-error-125);\n  }\n\n  .wui-color-success-100 {\n    color: var(--wui-color-success-100);\n  }\n\n  .wui-color-success-125 {\n    color: var(--wui-color-success-125);\n  }\n\n  .wui-color-inverse-100 {\n    color: var(--wui-color-inverse-100);\n  }\n\n  .wui-color-inverse-000 {\n    color: var(--wui-color-inverse-000);\n  }\n\n  .wui-color-fg-100 {\n    color: var(--wui-color-fg-100);\n  }\n\n  .wui-color-fg-200 {\n    color: var(--wui-color-fg-200);\n  }\n\n  .wui-color-fg-300 {\n    color: var(--wui-color-fg-300);\n  }\n\n  .wui-color-fg-325 {\n    color: var(--wui-color-fg-325);\n  }\n\n  .wui-color-fg-350 {\n    color: var(--wui-color-fg-350);\n  }\n\n  .wui-bg-color-inherit {\n    background-color: var(--wui-color-inherit);\n  }\n\n  .wui-bg-color-blue-100 {\n    background-color: var(--wui-color-accent-100);\n  }\n\n  .wui-bg-color-error-100 {\n    background-color: var(--wui-color-error-100);\n  }\n\n  .wui-bg-color-error-125 {\n    background-color: var(--wui-color-error-125);\n  }\n\n  .wui-bg-color-success-100 {\n    background-color: var(--wui-color-success-100);\n  }\n\n  .wui-bg-color-success-125 {\n    background-color: var(--wui-color-success-100);\n  }\n\n  .wui-bg-color-inverse-100 {\n    background-color: var(--wui-color-inverse-100);\n  }\n\n  .wui-bg-color-inverse-000 {\n    background-color: var(--wui-color-inverse-000);\n  }\n\n  .wui-bg-color-fg-100 {\n    background-color: var(--wui-color-fg-100);\n  }\n\n  .wui-bg-color-fg-200 {\n    background-color: var(--wui-color-fg-200);\n  }\n\n  .wui-bg-color-fg-300 {\n    background-color: var(--wui-color-fg-300);\n  }\n\n  .wui-color-fg-325 {\n    background-color: var(--wui-color-fg-325);\n  }\n\n  .wui-color-fg-350 {\n    background-color: var(--wui-color-fg-350);\n  }\n"])))},9461:(e,t,n)=>{"use strict";e.exports=n(5956)},9477:(e,t,n)=>{"use strict";n.d(t,{IP:()=>o,T8:()=>i,Ud:()=>s,Ws:()=>r});const r={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function i(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return"@appkit/".concat(e,":connected_connector_id")}const s={setItem(e,t){o()&&void 0!==t&&localStorage.setItem(e,t)},getItem(e){if(o())return localStorage.getItem(e)||void 0},removeItem(e){o()&&localStorage.removeItem(e)},clear(){o()&&localStorage.clear()}};function o(){return"undefined"!==typeof window&&"undefined"!==typeof localStorage}},9632:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r={caipNetworkIdToNumber:e=>e?Number(e.split(":")[1]):void 0,parseEvmChainId(e){return"string"===typeof e?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace:(e,t)=>(null===e||void 0===e?void 0:e.filter((e=>e.chainNamespace===t)))||[],getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]}}},9845:(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function i(e){if(!((t=e)instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function s(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}n.d(t,{CC:()=>o,DO:()=>i,Fe:()=>r,Ht:()=>a,sd:()=>s})},9848:(e,t)=>{"use strict";var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),s=i>>8,o=255&i;s?n.push(s,o):n.push(o)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},9929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={getSpacingStyles:(e,t)=>Array.isArray(e)?e[t]?"var(--wui-spacing-".concat(e[t],")"):void 0:"string"===typeof e?"var(--wui-spacing-".concat(e,")"):void 0,getFormattedDate:e=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e),getHostName(e){try{return new URL(e).hostname}catch(t){return""}},getTruncateString(e){let{string:t,charsStart:n,charsEnd:r,truncate:i}=e;return t.length<=n+r?t:"end"===i?"".concat(t.substring(0,n),"..."):"start"===i?"...".concat(t.substring(t.length-r)):"".concat(t.substring(0,Math.floor(n)),"...").concat(t.substring(t.length-Math.floor(r)))},generateAvatarColors(e){const t=e.toLowerCase().replace(/^0x/i,"").replace(/(?:[\0-\/:-`g-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,"").substring(0,6).padEnd(6,"0"),n=this.hexToRgb(t),r=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),i=100-3*Number(null===r||void 0===r?void 0:r.replace("px","")),s="".concat(i,"% ").concat(i,"% at 65% 40%"),o=[];for(let a=0;a<5;a+=1){const e=this.tintColor(n,.15*a);o.push("rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"))}return"\n    --local-color-1: ".concat(o[0],";\n    --local-color-2: ").concat(o[1],";\n    --local-color-3: ").concat(o[2],";\n    --local-color-4: ").concat(o[3],";\n    --local-color-5: ").concat(o[4],";\n    --local-radial-circle: ").concat(s,"\n   ")},hexToRgb(e){const t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]},tintColor(e,t){const[n,r,i]=e;return[Math.round(n+(255-n)*t),Math.round(r+(255-r)*t),Math.round(i+(255-i)*t)]},isNumber:e=>/^[0-9]+$/.test(e),getColorTheme(e){return e||("undefined"!==typeof window&&window.matchMedia?null!==(t=window.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?"dark":"light":"dark");var t},splitBalance(e){const t=e.split(".");return 2===t.length?[t[0],t[1]]:["0","00"]},roundNumber:(e,t,n)=>e.toString().length>=t?Number(e).toFixed(n):e,formatNumberToLocalString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e?"0.00":"number"===typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})}}},9979:(e,t,n)=>{"use strict";n.d(t,{OH:()=>i,Vl:()=>a,gS:()=>s,hy:()=>r,s1:()=>o});const r=("undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/add-product-page-paymyemail",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||"https://secure.walletconnect.org/sdk",i=("undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/add-product-page-paymyemail",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",s=("undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/add-product-page-paymyemail",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",o={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},a={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{7:"2e04dd0e",88:"7997bf00",101:"5278ca89",374:"811de4a7",395:"10dc3ac1",526:"a6bcaee1",621:"377e2282",752:"7382f87a",792:"e8f46666",900:"c7dd2985",1131:"a9f9923a",1150:"27ef1990",1191:"0e4d2e66",1250:"5ceec2e2",1284:"d2bb4833",1487:"4ac20e2d",1519:"7d3a531d",1520:"e99cb4f0",1525:"260d08e8",1542:"8c6b3045",1854:"6b4a075b",1925:"d4bc8582",2011:"4a6c0586",2415:"022dd7b9",2456:"2b0477c6",2463:"79729652",2784:"6f942323",2821:"577465d2",2926:"8164ff9a",3005:"0a67681a",3137:"a4d984e2",3293:"32622c7f",3430:"6e3d3aef",3448:"2148bbf7",3596:"274374f6",3656:"33719e0f",3697:"6c789023",4004:"26d41880",4093:"d788e7b8",4201:"6cfd12cd",4246:"a3998786",4310:"3fb6d0dd",4500:"3dc738a0",4625:"7e3955f8",4661:"062c7da1",4682:"3aad395f",4708:"1f8d7e2f",4865:"e9b18b58",4931:"720ec632",5010:"d7d36249",5024:"5ea2e904",5149:"e0e32685",5311:"e611b903",5333:"9c4c924f",5465:"c99bc32c",5596:"b9be76f9",5656:"b8c90861",5710:"296e71ac",5911:"88814dcb",5938:"226aba9b",6003:"8d093173",6015:"ef33c0f4",6243:"f1b34295",6426:"864ff7dc",6453:"91ed7eb8",6495:"cdfda7e1",6549:"b4ee8156",6629:"6622086d",6749:"3dc7ec46",6970:"bdb3c583",7069:"be64fc41",7134:"2ea8cf6e",7217:"f79f4e49",7556:"055f8368",7610:"255bf943",7654:"3baa6331",7751:"4f51d9a1",7767:"444ab342",7942:"4413278d",8007:"6709568e",8126:"f59552c4",8417:"631bf6b4",8471:"5b641b5b",8486:"ac1641d0",8606:"28ad20bb",8817:"833259ea",8926:"a15f4de2",9053:"b7c607e9",9075:"b3839720",9197:"541eb341",9539:"f214875e",9729:"5392f5f0",9867:"ba7c2c07",9871:"7691e152"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="add-product-html:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/add-product-page-paymyemail/",(()=>{var e={8792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],c=r[2],l=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkadd_product_html=self.webpackChunkadd_product_html||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>Ag,My:()=>hg,Ph:()=>gg,lX:()=>mg,Id:()=>wg,fg:()=>Cg,qj:()=>bg,aT:()=>pg,lq:()=>vg,z:()=>yg,Q5:()=>kg});var t=n(5043),r=n(4391),i=n(3986),s=n(9379);const o=["sri"],a=["page"],c=["page","matches"],l=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var h="popstate";function f(){return w((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return v("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:y(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,s.A)((0,s.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c="POP",l=null,u=d();function d(){return(a.state||{idx:null}).idx}function f(){c="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:c,location:g.location,delta:t})}function p(e){return A(e)}null==u&&(u=0,a.replaceState((0,s.A)((0,s.A)({},a.state),{},{idx:u}),""));let g={get action(){return c},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(h,f),l=e,()=>{i.removeEventListener(h,f),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=v(g.location,e,t);n&&n(r,e),u=d()+1;let s=m(r,u),h=g.createHref(r);try{a.pushState(s,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:c,location:g.location,delta:1})},replace:function(e,t){c="REPLACE";let r=v(g.location,e,t);n&&n(r,e),u=d();let i=m(r,u),s=g.createHref(r);a.replaceState(i,"",s),o&&l&&l({action:c,location:g.location,delta:0})},go:e=>a.go(e)};return g}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),p(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:y(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function E(e,t){return S(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function S(e,t,n,r){let i=B(("string"===typeof t?b(t):t).pathname||"/",n);if(null==i)return null;let s=C(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=L(i);o=M(s[a],e,r)}return o}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,c={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&o)return;p(c.relativePath.startsWith(r),'Absolute route path "'.concat(c.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),c.relativePath=c.relativePath.slice(r.length)}let l=K([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(l,'".')),C(e.children,t,u,l,o)),(null!=e.path||e.index)&&t.push({path:l,score:R(l,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of _(e.path))s(e,t,!0,r);else s(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=_(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var k=/^:[\w-]+$/,x=3,I=2,N=1,T=10,P=-2,O=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=P),t&&(r+=I),n.filter((e=>!O(e))).reduce(((e,t)=>e+(k.test(t)?x:""===t?N:T)),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],c=a===r.length-1,l="/"===s?t:t.slice(s.length)||"/",u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),d=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:K([s,u.pathname]),pathnameBase:G(K([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=K([s,u.pathnameBase]))}return o}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"))).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j=e=>F.test(e);function z(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function V(e){let t=H(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function q(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=b(e):(r=(0,s.A)({},e),p(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let o,a=""===e||""===r.pathname,c=a?"/":r.pathname;if(null==c)o=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:s=""}="string"===typeof e?b(e):e;if(r)if(j(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),g(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?z(r.substring(1),"/"):z(r,n)}else t=n;return{pathname:t,search:J(i),hash:Y(s)}}(r,o),u=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var K=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z=["POST","PUT","PATCH","DELETE"],X=(new Set(Z),["GET",...Z]);new Set(X),Symbol("ResetLoaderData");var $=t.createContext(null);$.displayName="DataRouter";var ee=t.createContext(null);ee.displayName="DataRouterState";var te=t.createContext(!1);var ne=t.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var re=t.createContext(new Map);re.displayName="Fetchers";var ie=t.createContext(null);ie.displayName="Await";var se=t.createContext(null);se.displayName="Navigation";var oe=t.createContext(null);oe.displayName="Location";var ae=t.createContext({outlet:null,matches:[],isDataRoute:!1});ae.displayName="Route";var ce=t.createContext(null);ce.displayName="RouteError";function le(){return null!=t.useContext(oe)}function ue(){return p(le(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(oe).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function he(e){t.useContext(se).static||t.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=t.useContext(ae);return e?function(){let{router:e}=Ee("useNavigate"),n=Ce("useNavigate"),r=t.useRef(!1);he((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(r.current,de),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,(0,s.A)({fromRouteId:n},i)))}),[e,n]);return i}():function(){p(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext($),{basename:n,navigator:r}=t.useContext(se),{matches:i}=t.useContext(ae),{pathname:s}=ue(),o=JSON.stringify(V(i)),a=t.useRef(!1);he((()=>{a.current=!0}));let c=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(a.current,de),!a.current)return;if("number"===typeof t)return void r.go(t);let c=q(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(c.pathname="/"===c.pathname?n:K([n,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)}),[n,r,o,s,e]);return c}()}t.createContext(null);function pe(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(ae),{pathname:i}=ue(),s=JSON.stringify(V(r));return t.useMemo((()=>q(e,JSON.parse(s),i,"path"===n)),[e,s,i,n])}function ge(e,n,r,i,o){p(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=t.useContext(se),{matches:c}=t.useContext(ae),l=c[c.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";xe(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,v=ue();if(n){var y;let e="string"===typeof n?b(n):n;p("/"===h||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=v;let w=m.pathname||"/",A=w;if("/"!==h){let e=h.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=E(e,{pathname:A});g(f||null!=S,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),g(null==S||void 0!==S[S.length-1].route.element||void 0!==S[S.length-1].route.Component||void 0!==S[S.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let C=we(S&&S.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:K([h,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:K([h,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])}))),c,r,i,o);return n&&C?t.createElement(oe.Provider,{value:{location:(0,s.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},C):C}function me(){let e=_e(),n=Q(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,a)}var ve=t.createElement(me,null),ye=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(ae.Provider,{value:this.props.routeContext},t.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function be(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext($);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ae.Provider,{value:n},i)}function we(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let e=s.findIndex((e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id])));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,c=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){a=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}let l=r&&i?(e,t)=>{var n,s;i(e,{location:r.location,params:null!==(n=null===(s=r.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==n?n:{},errorInfo:t})}:void 0;return s.reduceRight(((e,i,u)=>{let d,h=!1,f=null,p=null;r&&(d=o&&i.route.id?o[i.route.id]:void 0,f=i.route.errorElement||ve,a&&(c<0&&0===u?(xe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):c===u&&(h=!0,p=i.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,u+1)),m=()=>{let n;return n=d?f:h?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(be,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?t.createElement(ye,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:l}):m()}),null)}function Ae(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let n=t.useContext($);return p(n,Ae(e)),n}function Se(e){let n=t.useContext(ee);return p(n,Ae(e)),n}function Ce(e){let n=function(e){let n=t.useContext(ae);return p(n,Ae(e)),n}(e),r=n.matches[n.matches.length-1];return p(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function _e(){var e;let n=t.useContext(ce),r=Se("useRouteError"),i=Ce("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[i]}var ke={};function xe(e,t,n){t||ke[e]||(ke[e]=!0,g(!1,n))}var Ie={};function Ne(e,t){e||Ie[t]||(Ie[t]=!0,console.warn(t))}t.memo((function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return ge(t,void 0,r,i,n)}));function Te(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pe(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:o,static:a=!1}=e;p(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),l=t.useMemo((()=>({basename:c,navigator:o,static:a,future:{}})),[c,o,a]);"string"===typeof i&&(i=b(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=i,v=t.useMemo((()=>{let e=B(u,c);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:m},navigationType:s}}),[c,u,d,h,f,m,s]);return g(null!=v,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==v?null:t.createElement(se.Provider,{value:l},t.createElement(oe.Provider,{children:r,value:v}))}function Oe(e){let{children:t,location:n}=e;return ge(Re(t),n)}t.Component;function Re(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Re(e.props.children,s));p(e.type===Te,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Re(e.props.children,s)),r.push(o)})),r}var Me="get",De="application/x-www-form-urlencoded";function Ue(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Be=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Be.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function je(e,t){let n,r,i,s,o;if(Ue(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?B(o,t):null,n=e.getAttribute("method")||Me,i=Fe(e.getAttribute("enctype"))||De,s=new FormData(e)}else if(function(e){return Ue(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ue(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?B(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Me,i=Fe(e.getAttribute("formenctype"))||Fe(o.getAttribute("enctype"))||De,s=new FormData(o,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Ue(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Me,r=null,i=De,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function ze(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function We(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===B(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function He(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ve(e){return null!=e&&"string"===typeof e.page}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ke(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter(((e,t)=>o(e,t)||a(e,t))):"data"===s?t.filter(((t,s)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var l;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(l=n[0])||void 0===l?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ge(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Je(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ve(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Ye(e,t){return"lazy"===e.mode&&!0===t}function Qe(){let e=t.useContext($);return ze(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ze(){let e=t.useContext(ee);return ze(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xe=t.createContext(void 0);function $e(){let e=t.useContext(Xe);return ze(e,"You must render this element inside a <HydratedRouter> element"),e}function et(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}Xe.displayName="FrameworkContext";function nt(e){let{page:n}=e,r=(0,i.A)(e,a),{router:o}=Qe(),c=t.useMemo((()=>E(o.routes,n,o.basename)),[o.routes,n,o.basename]);return c?t.createElement(it,(0,s.A)({page:n,matches:c},r)):null}function rt(e){let{manifest:n,routeModules:r}=$e(),[i,o]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return Je((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await He(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(qe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?(0,s.A)((0,s.A)({},e),{},{rel:"prefetch",as:"style"}):(0,s.A)((0,s.A)({},e),{},{rel:"prefetch"}))))}(e,n,r).then((e=>{t||o(e)})),()=>{t=!0}}),[e,n,r]),i}function it(e){let{page:n,matches:r}=e,o=(0,i.A)(e,c),a=ue(),{manifest:l,routeModules:u}=$e(),{basename:d}=Qe(),{loaderData:h,matches:f}=Ze(),p=t.useMemo((()=>Ke(n,r,f,l,a,"data")),[n,r,f,l,a]),g=t.useMemo((()=>Ke(n,r,f,l,a,"assets")),[n,r,f,l,a]),m=t.useMemo((()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{var r;let i=l.routes[n.route.id];i&&i.hasLoader&&(!p.some((e=>e.route.id===n.route.id))&&n.route.id in h&&null!==(r=u[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=We(n,d,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[d,h,a,l,p,r,n,u]),v=t.useMemo((()=>Ge(g,l)),[g,l]),y=rt(g);return t.createElement(t.Fragment,null,m.map((e=>t.createElement("link",(0,s.A)({key:e,rel:"prefetch",as:"fetch",href:e},o)))),v.map((e=>t.createElement("link",(0,s.A)({key:e,rel:"modulepreload",href:e},o)))),y.map((e=>{let{key:n,link:r}=e;return t.createElement("link",(0,s.A)({key:n,nonce:o.nonce},r))})))}var st=!1;function ot(e){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:c,routeDiscovery:l,ssr:u}=$e(),{router:d,static:h,staticContext:f}=Qe(),{matches:p}=Ze(),g=t.useContext(te),m=Ye(l,u);c&&(c.didRenderScripts=!0);let v=tt(p,null,a);t.useEffect((()=>{0}),[]);let y=t.useMemo((()=>{var a;if(g)return null;let c=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=h?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map(((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];ze(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:c,module:l}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...c?[{module:c,varName:"".concat(r,"_HydrateFallback")}]:[],{module:l,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(l),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=(0,i.A)(e,o),a=new Set(t.state.matches.map((e=>e.route.id))),c=t.state.location.pathname.split("/").filter(Boolean),l=["/"];for(c.pop();c.length>0;)l.push("/".concat(c.join("/"))),c.pop();l.forEach((e=>{let n=E(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let u=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return(0,s.A)((0,s.A)({},r),{},{routes:u,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:void 0})),t.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:"module",async:!0})))}),[]),b=st||g?[]:(n.entry.imports.concat(Ge(v,n,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let A="object"===typeof n.sri?n.sri:{};return Ne(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),st||g?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:A})}}):null,m?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:A[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:A[n.entry.module],suppressHydrationWarning:!0}),b.map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:A[n],suppressHydrationWarning:!0}))),y)}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}t.Component;function ct(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Q(n))return t.createElement(lt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(lt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function lt(e){var n;let{title:r,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=$e();return null!==a.root&&void 0!==n&&n.Layout&&!s?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?t.createElement(ot,null):null)))}var ut="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ut&&(window.__reactRouterVersion="7.9.6")}catch(uD){}function dt(e){let{basename:n,children:r,window:i}=e,s=t.useRef();null==s.current&&(s.current=f({window:i,v5Compat:!0}));let o=s.current,[a,c]=t.useState({action:o.action,location:o.location}),l=t.useCallback((e=>{t.startTransition((()=>c(e)))}),[c]);return t.useLayoutEffect((()=>o.listen(l)),[o,l]),t.createElement(Pe,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:o})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=t.forwardRef((function(e,n){let r,{onClick:o,discover:a="render",prefetch:c="none",relative:u,reloadDocument:d,replace:h,state:f,target:m,to:v,preventScrollReset:b,viewTransition:w}=e,A=(0,i.A)(e,l),{basename:E}=t.useContext(se),S="string"===typeof v&&ht.test(v),C=!1;if("string"===typeof v&&S&&(r=v,ut))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),n=B(t.pathname,E);t.origin===e.origin&&null!=n?v=n+t.search+t.hash:C=!0}catch(uD){g(!1,'<Link to="'.concat(v,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let _=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(se),{hash:s,pathname:o,search:a}=pe(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:K([r,o])),i.createHref({pathname:c,search:a,hash:s})}(v,{relative:u}),[k,x,I]=function(e,n){let r=t.useContext(Xe),[i,s]=t.useState(!1),[o,a]=t.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},g=()=>{s(!1),a(!1)};return r?"intent"!==e?[o,f,{}]:[o,f,{onFocus:et(c,p),onBlur:et(l,g),onMouseEnter:et(u,p),onMouseLeave:et(d,g),onTouchStart:et(h,p)}]:[!1,f,{}]}(c,A),N=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=fe(),l=ue(),u=pe(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:y(l)===y(u);c(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[l,c,u,r,i,n,e,s,o,a])}(v,{replace:h,state:f,target:m,preventScrollReset:b,relative:u,viewTransition:w});let T=t.createElement("a",(0,s.A)((0,s.A)((0,s.A)({},A),I),{},{href:r||_,onClick:C||d?o:function(e){o&&o(e),e.defaultPrevented||N(e)},ref:at(n,x),target:m,"data-discover":S||"render"!==a?void 0:"true"}));return k&&!S?t.createElement(t.Fragment,null,T,t.createElement(nt,{page:_})):T}));ft.displayName="Link",t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:c=!1,style:l,to:d,viewTransition:h,children:f}=e,g=(0,i.A)(e,u),m=pe(d,{relative:g.relative}),v=ue(),y=t.useContext(ee),{navigator:b,basename:w}=t.useContext(se),A=null!=y&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(ne);p(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mt("useViewTransitionState"),s=pe(e,{relative:n});if(!r.isTransitioning)return!1;let o=B(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=B(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=D(s.pathname,a)||null!=D(s.pathname,o)}(m)&&!0===h,E=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,S=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(S=S.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&w&&(C=B(C,w)||C);const _="/"!==E&&E.endsWith("/")?E.length-1:E.length;let k,x=S===E||!c&&S.startsWith(E)&&"/"===S.charAt(_),I=null!=C&&(C===E||!c&&C.startsWith(E)&&"/"===C.charAt(E.length)),N={isActive:x,isPending:I,isTransitioning:A},T=x?r:void 0;k="function"===typeof a?a(N):[a,x?"active":null,I?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(N):l;return t.createElement(ft,(0,s.A)((0,s.A)({},g),{},{"aria-current":T,className:k,ref:n,style:P,to:d,viewTransition:h}),"function"===typeof f?f(N):f)})).displayName="NavLink";var pt=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:o,navigate:a,reloadDocument:c,replace:l,state:u,method:h=Me,action:f,onSubmit:g,relative:m,preventScrollReset:v,viewTransition:b}=e,w=(0,i.A)(e,d),A=bt(),E=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(se),i=t.useContext(ae);p(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a=(0,s.A)({},pe(e||".",{relative:n})),c=ue();if(null==e){a.search=c.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:K([r,a.pathname]));return y(a)}(f,{relative:m}),S="get"===h.toLowerCase()?"get":"post",C="string"===typeof f&&ht.test(f);return t.createElement("form",(0,s.A)((0,s.A)({ref:n,method:S,action:E,onSubmit:c?g:e=>{if(g&&g(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;A(t||e.currentTarget,{fetcherKey:o,method:n,navigate:a,replace:l,state:u,relative:m,preventScrollReset:v,viewTransition:b})}},w),{},{"data-discover":C||"render"!==r?void 0:"true"}))}));function gt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function mt(e){let n=t.useContext($);return p(n,gt(e)),n}pt.displayName="Form";var vt=0,yt=()=>"__".concat(String(++vt),"__");function bt(){let{router:e}=mt("useSubmit"),{basename:n}=t.useContext(se),r=Ce("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:c,body:l}=je(t,n);if(!1===i.navigate){let t=i.fetcherKey||yt();await e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}const wt={ORDER_DISPATCHER:"https://europe-west1-arnacon-production-gcp.cloudfunctions.net/order-dispatcher",UPDATE_MAPPING:"https://europe-west1-arnacon-production-gcp.cloudfunctions.net/add-eth-address",EMAIL_AUTHENTICATOR:"https://email-authenticator-343948402138.us-central1.run.app",SP_STORE:"https://sp-store-ashy.vercel.app/",ETH_RPC_PROVIDER:"https://eth.llamarpc.com",SNAKE_URL:"https://cellact.github.io/Arnagame/"},At={NEW_ITEM:"new-item",VERIFIED_ENS:"verified-ens",SIGNED_DATA:"signed-data",DATA_RETRIEVED:"data-retrieved",SIGN_DATA_TEMP:"sign-data-temp",VERIFY_ENS:"verify-ens",EMAIL_SENT:"email-sent",SOLANA_SIGN_IN:"solana-sign-in",SOLANA_CONNECT:"solana-connect",SOLANA_DISCONNECT:"solana-disconnect",SOLANA_GET_WALLET_INFO:"solana-get-wallet-info"},Et={TARA:".tara",TEMP:".temp"},St={API_KEY:"AIzaSyAqyYGQtdiaHRL5xQYv7ZO-hDbARAIZlmw",AUTH_DOMAIN:"arnacon-production-gcp.firebaseapp.com",PROJECT_ID:"arnacon-production-gcp"},Ct={USERNAME:"arnacon.bsky.social",PROFILE_URL_TEMPLATE:"https://bsky.app/profile/",SCHEME_TEMPLATE:"bluesky://profile/"},_t={ENS_SIGNATURE:"You are currently verifying your wallet address with Arnacon."},kt={POLYGON_MAINNET:{CHAIN_ID:137,CONTRACT_ADDRESS:"0x1BEF0C94eCEf8E2d0b8aCF990e230d5a5dDcDD15",RPC_URLS:["https://polygon-bor-rpc.publicnode.com","https://polygon.gateway.tenderly.co","https://polygon-rpc.com","https://polygon.drpc.org","https://polygon.lava.build"],RETRY_DELAY:5e3,MAX_RETRIES:3,TIMEOUT:1e4,ABI:[{inputs:[{internalType:"address",name:"walletAddress",type:"address"}],name:"getMessageToSign",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}]}},xt={TEMP_ENS:"TEMP_ENS",PERMANENT_ENS:"PERMANENT_ENS",GAME_SELECTION:"GAME_SELECTION"},It={TIMEOUT:3e4,HEADERS:{"Content-Type":"application/json"}},Nt={NAME_GENERATION_COUNT:3,MAX_CARD_WIDTH:"450px",CARD_PADDING:"25px 20px",ENS_MAX_CARD_WIDTH:"500px",ENS_CARD_PADDING:"15px 10px"},Tt={ADJECTIVES:["Swift","Bright","Clever","Daring","Eager","Fancy","Gentle","Happy","Icy","Jolly","Kind","Lively","Mighty","Noble","Orange","Purple","Quick","Royal","Shiny","Tiny","Unique","Vivid","Witty","Xtra","Young","Zesty","Brave","Calm","Deep","Epic","Fresh","Grand","Huge","Ideal","Jumpy","Keen","Lucky","Magic","Neat","Odd","Prime","Quiet","Rich","Super","Tall","Agile","Bold","Cosmic","Divine","Elastic","Fierce","Gleaming","Humble","Intense","Joyful","Kinetic","Lunar","Mystic","Nimble","Optimal","Polar","Quantum","Radiant","Stellar","Turbo","Ultra","Velvet","Wild","Xenial","Youthful","Zealous","Ancient","Binary","Crystal","Dynamic","Eternal","Frozen","Golden","Hidden","Infinite","Jade","Karmic","Liquid","Molten","Neon","Orbital","Primal","Quartz","Rapid","Sacred","Tribal","Urban","Viral","Wicked","Xerox","Yellow","Zenith","Atomic","Blazing","Chrome","Dreamy","Electric","Frosty","Glowing","Heroic","Iron","Jasper","Kinky","Laser","Marble","Nifty","Onyx","Plasma","Quiver","Rustic","Silver","Titan","Umbra","Vortex","Wispy","Xeno","Yonder","Zephyr","Astral","Blazed","Copper","Dusty","Ember","Flaming","Granite","Hollow","Ivory","Jeweled","Krypton","Lustrous","Mercury","Nebula","Obsidian","Phantom","Quasar","Rogue","Savage","Tempest","Umber","Vapor","Warp","Xray","Dark","Gotham","Arkham","Caped","Masked","Nocturnal","Vigilant","Brooding","Stealthy","Vengeance"],NOUNS:["Apple","Banana","Cloud","Dragon","Eagle","Falcon","Galaxy","Harbor","Island","Jungle","Knight","Lemon","Mountain","Ninja","Ocean","Panda","Quest","River","Storm","Tiger","Unicorn","Valley","Wizard","Xenon","Yacht","Zebra","Arrow","Breeze","Comet","Dolphin","Echo","Forest","Giraffe","Hawk","Igloo","Jaguar","Koala","Lion","Mango","Neptune","Orbit","Phoenix","Quasar","Rocket","Sapphire","Thunder","Anchor","Blizzard","Canyon","Dagger","Eclipse","Flame","Glacier","Horizon","Inferno","Jester","Kraken","Lynx","Meteor","Nexus","Oasis","Panther","Quill","Raven","Sphinx","Tornado","Urchin","Venom","Whale","Xerus","Yeti","Zephyr","Avalanche","Beacon","Cipher","Dynamo","Ember","Frost","Goblin","Hunter","Iceberg","Javelin","Kestrel","Lotus","Mammoth","Nebula","Omega","Pixel","Quartz","Raptor","Serpent","Tempest","Unity","Viper","Warden","Xylon","Yonder","Zenith","Atlas","Baron","Cosmos","Drake","Enigma","Fury","Ghost","Hydra","Impulse","Joker","Karma","Legend","Mantis","Nova","Oracle","Prism","Quinn","Rebel","Shadow","Titan","Uranus","Vulcan","Wolf","Xander","Yakuza","Zeus","Abyss","Bolt","Crater","Dome","Essence","Fang","Griffin","Halo","Ion","Jewel","Kodiak","Lancer","Mirage","Nimbus","Onyx","Pulse","Quantum","Ridge","Saber","Trident","Umbra","Vector","Wayne","Alfred","Robin","Batcave","Penguin","Riddler","Bane","Scarecrow","Catwoman","Gotham","Asylum","Gargoyle","Manor","Signal","Crusader"]},Pt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|c>>6,h=63&c;a||(h=64,s||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Pt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Rt;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Rt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mt=function(e){return function(e){const t=Pt(e);return Ot.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Dt=function(e){try{return Ot.decodeString(e,!0)}catch(uD){console.error("base64Decode failed: ",uD)}return null};const Ut=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Lt=()=>{try{return Ut()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/add-product-page-paymyemail",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uD){return}const t=e&&Dt(e[1]);return t&&JSON.parse(t)})()}catch(uD){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(uD))}},Bt=e=>{var t,n;return null===(n=null===(t=Lt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ft=()=>{var e;return null===(e=Lt())||void 0===e?void 0:e.config},jt=e=>{var t;return null===(t=Lt())||void 0===t?void 0:t["_".concat(e)]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Wt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}class Ht extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}}class Vt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(qt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ht(n,s,t)}}const qt=/\{\$([^}]+)}/g;function Kt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Gt(n)&&Gt(s)){if(!Kt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gt(e){return null!==e&&"object"===typeof e}function Jt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Yt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Qt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Zt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Xt),void 0===r.error&&(r.error=Xt),void 0===r.complete&&(r.complete=Xt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uD){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uD){"undefined"!==typeof console&&console.error&&console.error(uD)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Xt(){}function $t(e){return e&&e._delegate?e._delegate:e}class en{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tn="[DEFAULT]";class nn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new zt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uD){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uD){if(r)return null;throw uD}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch(uD){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uD){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===tn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.component?this.component.multipleInstances?e:tn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const sn=[];var on,an;(an=on||(on={}))[an.DEBUG=0]="DEBUG",an[an.VERBOSE=1]="VERBOSE",an[an.INFO=2]="INFO",an[an.WARN=3]="WARN",an[an.ERROR=4]="ERROR",an[an.SILENT=5]="SILENT";const cn={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},ln=on.INFO,un={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},dn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=un[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class hn{constructor(e){this.name=e,this._logLevel=ln,this._logHandler=dn,this._userLogHandler=null,sn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in on))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?cn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...t),this._logHandler(this,on.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...t),this._logHandler(this,on.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.INFO,...t),this._logHandler(this,on.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.WARN,...t),this._logHandler(this,on.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.ERROR,...t),this._logHandler(this,on.ERROR,...t)}}let fn,pn;const gn=new WeakMap,mn=new WeakMap,vn=new WeakMap,yn=new WeakMap,bn=new WeakMap;let wn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function An(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pn||(pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Cn(this),n),Sn(gn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sn(e.apply(Cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Cn(this),t,...r);return vn.set(s,t.sort?t.sort():[t]),Sn(s)}}function En(e){return"function"===typeof e?An(e):(e instanceof IDBTransaction&&function(e){if(mn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));mn.set(e,t)}(e),t=e,(fn||(fn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,wn):e);var t}function Sn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Sn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&gn.set(t,e)})).catch((()=>{})),bn.set(t,e),t}(e);if(yn.has(e))return yn.get(e);const t=En(e);return t!==e&&(yn.set(e,t),bn.set(t,e)),t}const Cn=e=>bn.get(e);const _n=["get","getKey","getAll","getAllKeys","count"],kn=["put","add","delete","clear"],xn=new Map;function In(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(xn.get(t))return xn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=kn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_n.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return xn.set(t,s),s}wn=(e=>(0,s.A)((0,s.A)({},e),{},{get:(t,n,r)=>In(t,n)||e.get(t,n,r),has:(t,n)=>!!In(t,n)||e.has(t,n)}))(wn);class Nn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Tn="@firebase/app",Pn="0.11.3",On=new hn("@firebase/app"),Rn="@firebase/app-compat",Mn="@firebase/analytics-compat",Dn="@firebase/analytics",Un="@firebase/app-check-compat",Ln="@firebase/app-check",Bn="@firebase/auth",Fn="@firebase/auth-compat",jn="@firebase/database",zn="@firebase/data-connect",Wn="@firebase/database-compat",Hn="@firebase/functions",Vn="@firebase/functions-compat",qn="@firebase/installations",Kn="@firebase/installations-compat",Gn="@firebase/messaging",Jn="@firebase/messaging-compat",Yn="@firebase/performance",Qn="@firebase/performance-compat",Zn="@firebase/remote-config",Xn="@firebase/remote-config-compat",$n="@firebase/storage",er="@firebase/storage-compat",tr="@firebase/firestore",nr="@firebase/vertexai",rr="@firebase/firestore-compat",ir="firebase",sr="[DEFAULT]",or={[Tn]:"fire-core",[Rn]:"fire-core-compat",[Dn]:"fire-analytics",[Mn]:"fire-analytics-compat",[Ln]:"fire-app-check",[Un]:"fire-app-check-compat",[Bn]:"fire-auth",[Fn]:"fire-auth-compat",[jn]:"fire-rtdb",[zn]:"fire-data-connect",[Wn]:"fire-rtdb-compat",[Hn]:"fire-fn",[Vn]:"fire-fn-compat",[qn]:"fire-iid",[Kn]:"fire-iid-compat",[Gn]:"fire-fcm",[Jn]:"fire-fcm-compat",[Yn]:"fire-perf",[Qn]:"fire-perf-compat",[Zn]:"fire-rc",[Xn]:"fire-rc-compat",[$n]:"fire-gcs",[er]:"fire-gcs-compat",[tr]:"fire-fst",[rr]:"fire-fst-compat",[nr]:"fire-vertex","fire-js":"fire-js",[ir]:"fire-js-all"},ar=new Map,cr=new Map,lr=new Map;function ur(e,t){try{e.container.addComponent(t)}catch(uD){On.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),uD)}}function dr(e){const t=e.name;if(lr.has(t))return On.debug("There were multiple attempts to register component ".concat(t,".")),!1;lr.set(t,e);for(const n of ar.values())ur(n,e);for(const n of cr.values())ur(n,e);return!0}function hr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const pr=new Vt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new en("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const mr="11.5.0";function vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:sr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=Ft()),!n)throw pr.create("no-options");const s=ar.get(i);if(s){if(Kt(n,s.options)&&Kt(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}const o=new rn(i);for(const c of lr.values())o.addComponent(c);const a=new gr(n,r,o);return ar.set(i,a),a}function yr(e,t,n){var r;let i=null!==(r=or[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void On.warn(e.join(" "))}dr(new en("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const br="firebase-heartbeat-store";let wr=null;function Ar(){return wr||(wr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Sn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Sn(o.result),e.oldVersion,e.newVersion,Sn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(br)}catch(uD){console.warn(uD)}}}).catch((e=>{throw pr.create("idb-open",{originalErrorMessage:e.message})}))),wr}async function Er(e,t){try{const n=(await Ar()).transaction(br,"readwrite"),r=n.objectStore(br);await r.put(t,Sr(e)),await n.done}catch(uD){if(uD instanceof Ht)On.warn(uD.message);else{const t=pr.create("idb-set",{originalErrorMessage:null===uD||void 0===uD?void 0:uD.message});On.warn(t.message)}}}function Sr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Cr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_r();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(uD){On.warn(uD)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_r(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),xr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Mt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(uD){return On.warn(uD),""}}}function _r(){return(new Date).toISOString().substring(0,10)}class kr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(uD){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ar()).transaction(br),n=await t.objectStore(br).get(Sr(e));return await t.done,n}catch(uD){if(uD instanceof Ht)On.warn(uD.message);else{const t=pr.create("idb-get",{originalErrorMessage:null===uD||void 0===uD?void 0:uD.message});On.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function xr(e){return Mt(JSON.stringify({version:2,heartbeats:e})).length}var Ir;Ir="",dr(new en("platform-logger",(e=>new Nn(e)),"PRIVATE")),dr(new en("heartbeat",(e=>new Cr(e)),"PRIVATE")),yr(Tn,Pn,Ir),yr(Tn,Pn,"esm2017"),yr("fire-js","");yr("firebase","11.5.0","app");function Nr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Tr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pr=Tr,Or=new Vt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rr=new hn("@firebase/auth");function Mr(e){if(Rr.logLevel<=on.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Rr.error("Auth (".concat(mr,"): ").concat(e),...n)}}function Dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Fr(e,...n)}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fr(e,...n)}function Lr(e,t,n){const r=Object.assign(Object.assign({},Pr()),{[t]:n});return new Vt("auth","Firebase",r).create(t,{appName:e.name})}function Br(e){return Lr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Or.create(e,...n)}function jr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Fr(t,...r)}}function zr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Mr(t),new Error(t)}function Wr(e,t){e||zr(t)}function Hr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vr(){return"http:"===qr()||"https:"===qr()}function qr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Gr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Kr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jr(e,t){Wr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Yr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zr=new Gr(3e4,6e4);function Xr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $r(e,t,n,r){return ei(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Jt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),Yr.fetch()(ni(e,e.config.apiHost,n,o),c)}))}async function ei(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qr),t);try{const t=new ii(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw si(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw si(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw si(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw si(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Lr(e,a,o);Dr(e,a)}}catch(uD){if(uD instanceof Ht)throw uD;Dr(e,"network-request-failed",{message:String(uD)})}}async function ti(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await $r(e,t,n,r,i);return"mfaPendingCredential"in s&&Dr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ni(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Jr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ri(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ii{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ur(this.auth,"network-request-failed"))),Zr.get())}))}}function si(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(e,t,r);return i.customData._tokenResponse=n,i}function oi(e){return void 0!==e&&void 0!==e.enterprise}class ai{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ri(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ci(e,t){return $r(e,"GET","/v2/recaptchaConfig",Xr(e,t))}async function li(e,t){return $r(e,"POST","/v1/accounts:lookup",t)}function ui(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uD){}}function di(e){return 1e3*Number(e)}function hi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Mr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Dt(n);return e?JSON.parse(e):(Mr("Failed to decode base64 JWT payload"),null)}catch(uD){return Mr("Caught error parsing JWT payload as JSON",null===uD||void 0===uD?void 0:uD.toString()),null}}function fi(e){const t=hi(e);return jr(t,"internal-error"),jr("undefined"!==typeof t.exp,"internal-error"),jr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function pi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uD){throw uD instanceof Ht&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(uD)&&e.auth.currentUser===e&&await e.auth.signOut(),uD}}class gi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uD){return void((null===uD||void 0===uD?void 0:uD.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class mi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ui(this.lastLoginAt),this.creationTime=ui(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await pi(e,li(n,{idToken:r}));jr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?yi(s.providerUserInfo):[],a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mi(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function yi(e){return e.map((e=>{var{providerId:t}=e,n=Nr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jr(e.idToken,"internal-error"),jr("undefined"!==typeof e.idToken,"internal-error"),jr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):fi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){jr(0!==e.length,"internal-error");const t=fi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(jr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ei(e,{},(async()=>{const n=Jt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ni(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Yr.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new bi;return n&&(jr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(jr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(jr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bi,this.toJSON())}_performRefresh(){return zr("not implemented")}}function wi(e,t){jr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ai{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Nr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await pi(this,this.stsTokenManager.getToken(this.auth,e));return jr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$t(e),r=await n.getIdToken(t),i=hi(r);jr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ui(di(i.auth_time)),issuedAtTime:ui(di(i.iat)),expirationTime:ui(di(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=$t(e);await vi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(jr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){jr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await vi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await pi(this,async function(e,t){return $r(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:A,stsTokenManager:E}=t;jr(y&&E,e,"internal-error");const S=bi.fromJSON(this.name,E);jr("string"===typeof y,e,"internal-error"),wi(u,e.name),wi(d,e.name),jr("boolean"===typeof b,e,"internal-error"),jr("boolean"===typeof w,e,"internal-error"),wi(h,e.name),wi(f,e.name),wi(p,e.name),wi(g,e.name),wi(m,e.name),wi(v,e.name);const C=new Ai({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:v});return A&&Array.isArray(A)&&(C.providerData=A.map((e=>Object.assign({},e)))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new bi;r.updateFromServerResponse(t);const i=new Ai({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await vi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];jr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?yi(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new bi;o.updateFromIdToken(n);const a=new Ai({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new mi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const Ei=new Map;function Si(e){Wr(e instanceof Function,"Expected a class definition");let t=Ei.get(e);return t?(Wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ei.set(e,t),t)}class Ci{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ci.type="NONE";const _i=Ci;function ki(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class xi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ki(this.userKey,r.apiKey,i),this.fullPersistenceKey=ki("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xi(Si(_i),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Si(_i);const s=ki(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Ai._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new xi(i,e,n)):new xi(i,e,n)}}function Ii(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ni(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mi(t))return"Blackberry";if(Di(t))return"Webos";if(Ti(t))return"Safari";if((t.includes("chrome/")||Pi(t))&&!t.includes("edge/"))return"Chrome";if(Ri(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/firefox\//i.test(e)}function Ti(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/crios\//i.test(e)}function Oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/iemobile/i.test(e)}function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/android/i.test(e)}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/blackberry/i.test(e)}function Di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/webos/i.test(e)}function Ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Li(){return function(){const e=Wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return Ui(e)||Ri(e)||Di(e)||Mi(e)||/windows phone/i.test(e)||Oi(e)}function Fi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ii(Wt());break;case"Worker":t="".concat(Ii(Wt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(mr,"/").concat(r)}class ji{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(uD){r(uD)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uD){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===uD||void 0===uD?void 0:uD.message})}}}class zi{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Wi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.beforeStateQueue=new ji(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Or,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await xi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uD){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await li(this,{idToken:e}),n=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(uD){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(uD)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return jr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uD){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vi(e)}catch(uD){if((null===uD||void 0===uD?void 0:uD.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Br(this));const t=e?$t(e):null;return t&&jr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&jr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return fr(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Br(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Si(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return $r(e,"GET","/v2/passwordPolicy",Xr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new zi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return $r(e,"POST","/v2/accounts:revokeToken",Xr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Si(e)||this._popupRedirectResolver;jr(t,this,"argument-error"),this.redirectPersistenceManager=await xi.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(jr(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Rr.logLevel<=on.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Rr.warn("Auth (".concat(mr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Hi(e){return $t(e)}class Vi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Zt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return jr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ki(e){return qi.loadJS(e)}function Gi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ji{constructor(){this.enterprise=new Yi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Yi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Qi="NO_RECAPTCHA";class Zi{constructor(e){this.type="recaptcha-enterprise",this.auth=Hi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;oi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Qi)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ji).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ci(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ai(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&oi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=qi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ki(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Xi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Zi(e);let o;if(i)o=Qi;else try{o=await s.verify(n)}catch(c){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $i(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Xi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Xi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Xi(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Xi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Xi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function es(e){const t=Hi(e),n=await ci(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ai(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Zi(t).verify()}}function ts(e,t,n){const r=Hi(e);jr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ns(t),{host:o,port:a}=function(e){const t=ns(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:rs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:rs(t)}}}(t),c=null===a?"":":".concat(a),l={url:"".concat(s,"//").concat(o).concat(c,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return jr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void jr(Kt(l,r.config.emulator)&&Kt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ns(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class is{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function ss(e,t){return $r(e,"POST","/v1/accounts:signUp",t)}async function os(e,t){return ti(e,"POST","/v1/accounts:signInWithPassword",Xr(e,t))}async function as(e,t){return $r(e,"POST","/v1/accounts:sendOobCode",Xr(e,t))}async function cs(e,t){return as(e,t)}class ls extends is{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ls(e,t,"password")}static _fromEmailAndCode(e,t){return new ls(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $i(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",os,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ti(e,"POST","/v1/accounts:signInWithEmailLink",Xr(e,t))}(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return $i(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ss,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ti(e,"POST","/v1/accounts:signInWithEmailLink",Xr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function us(e,t){return ti(e,"POST","/v1/accounts:signInWithIdp",Xr(e,t))}class ds extends is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Nr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ds(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return us(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,us(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,us(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jt(t)}return e}}async function hs(e,t){return $r(e,"POST","/v1/accounts:sendVerificationCode",Xr(e,t))}const fs={USER_NOT_FOUND:"user-not-found"};class ps extends is{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ps({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ps({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ti(e,"POST","/v1/accounts:signInWithPhoneNumber",Xr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ti(e,"POST","/v1/accounts:signInWithPhoneNumber",Xr(e,t));if(n.temporaryProof)throw si(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ti(e,"POST","/v1/accounts:signInWithPhoneNumber",Xr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),fs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ps({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class gs{constructor(e){var t,n,r,i,s,o;const a=Yt(Qt(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);jr(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Yt(Qt(e)).link,n=t?Yt(Qt(t)).deep_link_id:null,r=Yt(Qt(e)).deep_link_id;return(r?Yt(Qt(r)).link:null)||r||n||t||e}(e);try{return new gs(t)}catch(n){return null}}}class ms{constructor(){this.providerId=ms.PROVIDER_ID}static credential(e,t){return ls._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=gs.parseLink(t);return jr(n,"argument-error"),ls._fromEmailAndCode(e,n.code,n.tenantId)}}ms.PROVIDER_ID="password",ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ys extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bs extends ys{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch(n){return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com",bs.PROVIDER_ID="facebook.com";class ws extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ds._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ws.credential(n,r)}catch(i){return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com",ws.PROVIDER_ID="google.com";class As extends ys{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return As.credential(t.oauthAccessToken)}catch(n){return null}}}As.GITHUB_SIGN_IN_METHOD="github.com",As.PROVIDER_ID="github.com";class Es extends ys{constructor(){super("twitter.com")}static credential(e,t){return ds._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Es.credential(n,r)}catch(i){return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com",Es.PROVIDER_ID="twitter.com";class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ai._fromIdTokenResponse(e,n,r),s=Cs(n);return new Ss({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Cs(n);return new Ss({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Cs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class _s extends Ht{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,_s.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new _s(e,t,n,r)}}function ks(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw _s._fromErrorAndOperation(e,n,t,r);throw n}))}async function xs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await pi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ss._forOperation(e,"link",r)}async function Is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(fr(r.app))return Promise.reject(Br(r));const i="reauthenticate";try{const s=await pi(e,ks(r,i,t,e),n);jr(s.idToken,r,"internal-error");const o=hi(s.idToken);jr(o,r,"internal-error");const{sub:a}=o;return jr(e.uid===a,r,"user-mismatch"),Ss._forOperation(e,i,s)}catch(uD){throw(null===uD||void 0===uD?void 0:uD.code)==="auth/".concat("user-not-found")&&Dr(r,"user-mismatch"),uD}}async function Ns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fr(e.app))return Promise.reject(Br(e));const r="signIn",i=await ks(e,r,t),s=await Ss._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Ts(e,t,n){var r;jr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),jr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),jr("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(jr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(jr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ps(e,t){return $r(e,"POST","/v2/accounts/mfaEnrollment:start",Xr(e,t))}new WeakMap;const Os="__sak";class Rs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Os,"1"),this.storage.removeItem(Os),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ms extends Rs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Li()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ms.type="LOCAL";const Ds=Ms;class Us extends Rs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Us.type="SESSION";const Ls=Us;class Bs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Bs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bs.receivers=[];class js{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=Fs("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function zs(){return window}function Ws(){return"undefined"!==typeof zs().WorkerGlobalScope&&"function"===typeof zs().importScripts}const Hs="firebaseLocalStorageDb",Vs="firebaseLocalStorage",qs="fbase_key";class Ks{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Gs(e,t){return e.transaction([Vs],t?"readwrite":"readonly").objectStore(Vs)}function Js(){const e=indexedDB.open(Hs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Vs,{keyPath:qs})}catch(uD){n(uD)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Vs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Hs);return new Ks(e).toPromise()}(),t(await Js()))}))}))}async function Ys(e,t,n){const r=Gs(e,!0).put({[qs]:t,value:n});return new Ks(r).toPromise()}function Qs(e,t){const n=Gs(e,!0).delete(t);return new Ks(n).toPromise()}class Zs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Js()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uD){if(t++>3)throw uD;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ws()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bs._getInstance(Ws()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new js(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Js();return await Ys(e,Os,"1"),await Qs(e,Os),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ys(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Gs(e,!1).get(t),r=await new Ks(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Qs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Gs(e,!1).getAll();return new Ks(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Zs.type="LOCAL";const Xs=Zs;function $s(e,t){return $r(e,"POST","/v2/accounts/mfaSignIn:start",Xr(e,t))}Gi("rcb"),new Gr(3e4,6e4);const eo="recaptcha";async function to(e,t,n){var r;if(!e._getRecaptchaConfig())try{await es(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){jr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=$i(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Qi){jr((null===n||void 0===n?void 0:n.type)===eo,e,"argument-error");return Ps(e,await no(e,t,n))}return Ps(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{jr("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;jr(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=$i(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Qi){jr((null===n||void 0===n?void 0:n.type)===eo,e,"argument-error");return $s(e,await no(e,t,n))}return $s(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=$i(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Qi){jr((null===n||void 0===n?void 0:n.type)===eo,e,"argument-error");return hs(e,await no(e,t,n))}return hs(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function no(e,t,n){jr(n.type===eo,e,"argument-error");const r=await n.verify();jr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ro{constructor(e){this.providerId=ro.PROVIDER_ID,this.auth=Hi(e)}verifyPhoneNumber(e,t){return to(this.auth,e,$t(t))}static credential(e,t){return ps._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ro.credentialFromTaggedObject(t)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ps._fromTokenResponse(n,r):null}}function io(e,t){return t?Si(t):(jr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ro.PROVIDER_ID="phone",ro.PHONE_SIGN_IN_METHOD="phone";class so extends is{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return us(e,this._buildIdpRequest())}_linkToIdToken(e,t){return us(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return us(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oo(e){return Ns(e.auth,new so(e),e.bypassAuthState)}function ao(e){const{auth:t,user:n}=e;return jr(n,t,"internal-error"),Is(n,new so(e),e.bypassAuthState)}async function co(e){const{auth:t,user:n}=e;return jr(n,t,"internal-error"),xs(n,new so(e),e.bypassAuthState)}class lo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uD){this.reject(uD)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(uD){this.reject(uD)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oo;case"linkViaPopup":case"linkViaRedirect":return co;case"reauthViaPopup":case"reauthViaRedirect":return ao;default:Dr(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uo=new Gr(2e3,1e4);class ho extends lo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jr(e,this.auth,"internal-error"),e}async onExecution(){Wr(1===this.filter.length,"Popup operations only handle one event");const e=Fs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ur(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,uo.get())};e()}}ho.currentPopupAction=null;const fo=new Map;class po extends lo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=fo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=vo(t),r=mo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(uD){e=()=>Promise.reject(uD)}fo.set(this.auth._key(),e)}return this.bypassAuthState||fo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function go(e,t){fo.set(e._key(),t)}function mo(e){return Si(e._redirectPersistence)}function vo(e){return ki("pendingRedirect",e.config.apiKey,e.name)}async function yo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fr(e.app))return Promise.reject(Br(e));const r=Hi(e),i=io(r,t),s=new po(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class bo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ao(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ao(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wo(e))}saveEventToCache(e){this.cachedEventUids.add(wo(e)),this.lastProcessedEventTime=Date.now()}}function wo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ao(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Eo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,So=/^https?/;async function Co(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return $r(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(_o(r))return}catch(n){}Dr(e,"unauthorized-domain")}function _o(e){const t=Hr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!So.test(n))return!1;if(Eo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ko=new Gr(3e4,6e4);function xo(){const e=zs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Io(e){return new Promise(((t,n)=>{var r,i,s;function o(){xo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xo(),n(Ur(e,"network-request-failed"))},timeout:ko.get()})}if(null===(i=null===(r=zs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=zs().gapi)||void 0===s?void 0:s.load)){const t=Gi("iframefcb");return zs()[t]=()=>{gapi.load?o():n(Ur(e,"network-request-failed"))},Ki("".concat(qi.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw No=null,e}))}let No=null;const To=new Gr(5e3,15e3),Po={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ro(e){const t=e.config;jr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Jr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:mr},i=Oo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Jt(r).slice(1))}async function Mo(e){const t=await function(e){return No=No||Io(e),No}(e),n=zs().gapi;return jr(n,e,"internal-error"),t.open({where:document.body,url:Ro(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Po,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ur(e,"network-request-failed"),s=zs().setTimeout((()=>{r(i)}),To.get());function o(){zs().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Do={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uD){}}}function Lo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Do),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Wt().toLowerCase();n&&(a=Pi(l)?"_blank":n),Ni(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ui(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Uo(null);const d=window.open(t||"",a,u);jr(d,e,"popup-blocked");try{d.focus()}catch(uD){}return new Uo(d)}const Bo="__/auth/handler",Fo="emulator/auth/handler",jo=encodeURIComponent("fac");async function zo(e,t,n,r,i,s){jr(e.config.authDomain,e,"auth-domain-config-required"),jr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(t instanceof vs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ys){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(jo,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Bo);return Jr(t,Fo)}(e),"?").concat(Jt(a).slice(1)).concat(l)}const Wo="webStorageSupport";const Ho=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=yo,this._overrideRedirectResult=go}async _openPopup(e,t,n,r){var i;Wr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Lo(e,await zo(e,t,n,Hr(),r),Fs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){zs().location.href=e}(await zo(e,t,n,Hr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Wr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Mo(e),n=new bo(e);return t.register("authEvent",(t=>{jr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wo,{type:Wo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Wo];void 0!==i&&t(!!i),Dr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Co(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bi()||Ti()||Ui()}};var Vo="@firebase/auth",qo="1.9.1";class Ko{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){jr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Go=jt("authIdTokenMaxAge")||300;let Jo=null;function Yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr;const t=ar.get(e);if(!t&&e===sr&&Ft())return vr();if(!t)throw pr.create("no-app",{appName:e});return t}();const t=hr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=hr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Kt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Dr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ho,persistence:[Xs,Ds,Ls]}),r=jt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Go)return;const r=null===t||void 0===t?void 0:t.token;Jo!==r&&(Jo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){$t(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){$t(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Bt("auth");return s&&ts(n,"http://".concat(s)),n}var Qo;qi={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ur("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Qo="Browser",dr(new en("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;jr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:Qo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fi(Qo)},l=new Wi(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),dr(new en("auth-internal",(e=>(e=>new Ko(e))(Hi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),yr(Vo,qo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Qo)),yr(Vo,qo,"esm2017");var Zo=n(579);const Xo=e=>{let{walletAddress:n}=e;const[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[a,c]=(0,t.useState)("input"),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),g=fe(),m={apiKey:St.API_KEY,authDomain:St.AUTH_DOMAIN,projectId:St.PROJECT_ID};(0,t.useEffect)((()=>{vr(m)}),[]);const v=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),y=async e=>{u(!0),o("");try{const t={url:"".concat(wt.EMAIL_AUTHENTICATOR,"?walletAddress=").concat(n||"","&email=").concat(e),handleCodeInApp:!0};console.log("Action Code Settings:",t);const r=Yo();if(window.Android&&window.Android.installProduct){const t={item:e,packageType:"EMAIL",url:"https://orange-acceptable-mouse-528.mypinata.cloud/ipfs/bafkreickhtxddhcpz72n6yomsbbbdufihzhvsb3v75oj7xub32shmz5uwu",uuid:Date.now().toString(),timestamp:Math.floor(Date.now()/1e3),label:e};console.log("Creating PENDING email product:",e),window.Android.installProduct(JSON.stringify(t))}await async function(e,t,n){const r=Hi(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){jr(t.handleCodeInApp,r,"argument-error"),t&&Ts(r,e,t)}(i,n),await $i(r,i,"getOobCode",cs,"EMAIL_PASSWORD_PROVIDER")}(r,e,t),console.log("Email sent successfully"),c("success"),b({action:At.EMAIL_SENT,body:{}})}catch(t){console.error("Error sending verification email:",t),o("Failed to send verification email. Please try again later.")}finally{u(!1)}},b=e=>{window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeHandler?window.webkit.messageHandlers.nativeHandler.postMessage(JSON.stringify(e)):window.AndroidBridge&&window.AndroidBridge.processAction?window.AndroidBridge.processAction(JSON.stringify(e)):console.log("Native interface not available")},w=()=>{d||(h(!0),g("/"),setTimeout((()=>{h(!1)}),300))};return(0,Zo.jsx)("div",{className:"container",children:(0,Zo.jsxs)("div",{className:"card",children:["input"===a&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsx)("h1",{style:{textAlign:"center"},children:"Verify your email to use it as your calling identity."}),(0,Zo.jsxs)("div",{className:"input-group",children:[(0,Zo.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter your email address",value:r,onChange:e=>i(e.target.value.toLowerCase()),disabled:l}),s&&(0,Zo.jsx)("p",{className:"error-message",style:{textAlign:"center"},children:s})]}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"space-between"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:w,disabled:l||d,children:"Back"}),(0,Zo.jsx)("button",{className:"button primary-button ".concat(l?"button-loading":""),onClick:async()=>{v(r)?await y(r):o("Please enter a valid email address")},disabled:l||!r||!v(r),children:l?"Sending...":"Verify"})]})]}),"success"===a&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{className:"success-message",style:{textAlign:"center"},children:[(0,Zo.jsx)("h2",{style:{textAlign:"center"},children:"Verification Email Sent!"}),(0,Zo.jsxs)("div",{className:"email-confirmation",children:[(0,Zo.jsxs)("p",{children:["A verification email has been sent to ",(0,Zo.jsx)("strong",{children:r}),"."]}),(0,Zo.jsx)("p",{children:"Please check your inbox and click the verification link to complete the process."}),(0,Zo.jsx)("p",{children:"If you don't see the email, check your spam folder or try again."})]})]}),(0,Zo.jsxs)("div",{className:"next-steps",style:{textAlign:"center"},children:[(0,Zo.jsx)("h3",{style:{textAlign:"center"},children:"What's next?"}),(0,Zo.jsx)("p",{children:"After verification, you can start using your email as your calling identity with Arnacon."})]}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"space-between"},children:[(0,Zo.jsx)("button",{className:"button primary-button",onClick:w,disabled:d,children:"Return to Home"}),(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>{f||(p(!0),i(""),o(""),c("input"),setTimeout((()=>{p(!1)}),1e3))},disabled:f,children:"Add Another Email"})]})]})]})})};function $o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ea(e,t){$o(e,t),t.add(e)}function ta(e,t,n){$o(e,t),t.set(e,n)}function na(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function ra(e,t,n){return e.set(na(e,t),n),n}function ia(e,t){return e.get(na(e,t))}var sa=n(4705);function oa(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error("invalid value for type ".concat(t));throw i.code="INVALID_ARGUMENT",i.argument="value.".concat(n),i.value=e,i}async function aa(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function ca(e,t,n){for(let r in t){let i=t[r];const s=n?n[r]:null;s&&oa(i,s,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function la(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(la).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return la(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>"".concat(la(t),": ").concat(la(e[t])))).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ua(e,t){return e&&e.code===t}function da(e){return ua(e,"CALL_EXCEPTION")}function ha(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(la(n)));for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+la(t))}}r.push("code=".concat(t)),r.push("version=".concat("6.13.5")),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return ca(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&ca(r,{shortMessage:i}),r}function fa(e,t,n,r){if(!e)throw ha(t,n,r)}function pa(e,t,n,r){fa(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function ga(e,t,n){null==n&&(n=""),n&&(n=": "+n),fa(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),fa(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const ma=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e}),[]);function va(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),fa(!1,"private constructor; use ".concat(e,"from* methods"),"UNSUPPORTED_OPERATION",{operation:t})}}function ya(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}pa(!1,"invalid BytesLike value",t||"value",e)}function ba(e,t){return ya(e,t,!1)}function wa(e,t){return ya(e,t,!0)}function Aa(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function Ea(e){return Aa(e,!0)||e instanceof Uint8Array}const Sa="0123456789abcdef";function Ca(e){const t=ba(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=Sa[(240&e)>>4]+Sa[15&e]}return n}function _a(e){return"0x"+e.map((e=>Ca(e).substring(2))).join("")}function ka(e){return Aa(e,!0)?(e.length-2)/2:ba(e).length}function xa(e,t,n){const r=ba(e);return null!=n&&n>r.length&&fa(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Ca(r.slice(null==t?0:t,null==n?r.length:n))}function Ia(e,t,n){const r=ba(e);fa(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),Ca(i)}function Na(e,t){return Ia(e,t,!0)}const Ta=BigInt(0),Pa=BigInt(1),Oa=9007199254740991;function Ra(e,t){const n=La(e,"value"),r=BigInt(ja(t,"width"));if(fa(n>>r===Ta,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-Pa){return-((~n&(Pa<<r)-Pa)+Pa)}return n}function Ma(e,t){let n=Ua(e,"value");const r=BigInt(ja(t,"width")),i=Pa<<r-Pa;if(n<Ta){n=-n,fa(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(Pa<<r)-Pa)+Pa}return fa(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function Da(e,t){const n=La(e,"value"),r=BigInt(ja(t,"bits"));return n&(Pa<<r)-Pa}function Ua(e,t){switch(typeof e){case"bigint":return e;case"number":return pa(Number.isInteger(e),"underflow",t||"value",e),pa(e>=-Oa&&e<=Oa,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(uD){pa(!1,"invalid BigNumberish string: ".concat(uD.message),t||"value",e)}}pa(!1,"invalid BigNumberish value",t||"value",e)}function La(e,t){const n=Ua(e,t);return fa(n>=Ta,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Ba="0123456789abcdef";function Fa(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Ba[n>>4],t+=Ba[15&n];return BigInt(t)}return Ua(e)}function ja(e,t){switch(typeof e){case"bigint":return pa(e>=-Oa&&e<=Oa,"overflow",t||"value",e),Number(e);case"number":return pa(Number.isInteger(e),"underflow",t||"value",e),pa(e>=-Oa&&e<=Oa,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return ja(BigInt(e),t)}catch(uD){pa(!1,"invalid numeric string: ".concat(uD.message),t||"value",e)}}pa(!1,"invalid numeric value",t||"value",e)}function za(e,t){let n=La(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=ja(t,"width");for(fa(2*r>=n.length,"value exceeds width (".concat(r," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function Wa(e){const t=La(e,"value");if(t===Ta)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const e=2*i;r[i]=parseInt(n.substring(e,e+2),16)}return r}function Ha(e){let t=Ca(Ea(e)?e:Wa(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const Va=32,qa=new Uint8Array(Va),Ka=["then"],Ga={},Ja=new WeakMap;function Ya(e){return Ja.get(e)}function Qa(e,t){Ja.set(e,t)}function Za(e,t){const n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));throw n.error=t,n}function Xa(e,t,n){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof ec?Xa(Ya(e),e,n):e)):e.reduce(((e,r,i)=>{let s=t.getValue(r);return r in e||(n&&s instanceof ec&&(s=Xa(Ya(s),s,n)),e[r]=s),e}),{})}var $a=new WeakMap;class ec extends Array{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;r!==Ga&&(i=t,s=[],o=!1),super(i.length),ta(this,$a,void 0),i.forEach(((e,t)=>{this[t]=e}));const a=s.reduce(((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(Qa(this,Object.freeze(i.map(((e,t)=>{const n=s[t];return null!=n&&1===a.get(n)?n:null})))),ra($a,this,[]),null==ia($a,this)&&ia($a,this),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=ja(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&Za("index ".concat(n),r),r}if(Ka.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return Qa(c,Ya(this)),c}toArray(e){const t=[];return this.forEach(((n,r)=>{n instanceof Error&&Za("index ".concat(r),n),e&&n instanceof ec&&(n=n.toArray(e)),t.push(n)})),t}toObject(e){const t=Ya(this);return t.reduce(((n,r,i)=>(fa(null!=r,"value at index ".concat(i," unnamed"),"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Xa(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=Ya(this),r=[],i=[];for(let s=e;s<t;s++)r.push(this[s]),i.push(n[s]);return new ec(Ga,r,i)}filter(e,t){const n=Ya(this),r=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Za("index ".concat(s),o),e.call(t,o,s,this)&&(r.push(o),i.push(n[s]))}return new ec(Ga,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&Za("index ".concat(r),i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=Ya(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&Za("property ".concat(JSON.stringify(e)),n.error),n}static fromItems(e,t){return new ec(Ga,e,t)}}function tc(e){let t=Wa(e);return fa(t.length<=Va,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Va,offset:t.length}),t.length!==Va&&(t=wa(_a([qa.slice(t.length%Va),t]))),t}class nc{constructor(e,t,n,r){(0,sa.A)(this,"name",void 0),(0,sa.A)(this,"type",void 0),(0,sa.A)(this,"localName",void 0),(0,sa.A)(this,"dynamic",void 0),ca(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){pa(!1,e,this.localName,t)}}var rc=new WeakMap,ic=new WeakMap,sc=new WeakSet;class oc{constructor(){ea(this,sc),ta(this,rc,void 0),ta(this,ic,void 0),ra(rc,this,[]),ra(ic,this,0)}get data(){return _a(ia(rc,this))}get length(){return ia(ic,this)}appendWriter(e){return na(sc,this,ac).call(this,wa(e.data))}writeBytes(e){let t=wa(e);const n=t.length%Va;return n&&(t=wa(_a([t,qa.slice(n)]))),na(sc,this,ac).call(this,t)}writeValue(e){return na(sc,this,ac).call(this,tc(e))}writeUpdatableValue(){const e=ia(rc,this).length;return ia(rc,this).push(qa),ra(ic,this,ia(ic,this)+Va),t=>{ia(rc,this)[e]=tc(t)}}}function ac(e){return ia(rc,this).push(e),ra(ic,this,ia(ic,this)+e.length),e.length}var cc=new WeakMap,lc=new WeakMap,uc=new WeakMap,dc=new WeakMap,hc=new WeakMap,fc=new WeakSet;class pc{constructor(e,t,n){ea(this,fc),(0,sa.A)(this,"allowLoose",void 0),ta(this,cc,void 0),ta(this,lc,void 0),ta(this,uc,void 0),ta(this,dc,void 0),ta(this,hc,void 0),ca(this,{allowLoose:!!t}),ra(cc,this,wa(e)),ra(uc,this,0),ra(dc,this,null),ra(hc,this,null!=n?n:1024),ra(lc,this,0)}get data(){return Ca(ia(cc,this))}get dataLength(){return ia(cc,this).length}get consumed(){return ia(lc,this)}get bytes(){return new Uint8Array(ia(cc,this))}subReader(e){const t=new pc(ia(cc,this).slice(ia(lc,this)+e),this.allowLoose,ia(hc,this));return ra(dc,t,this),t}readBytes(e,t){let n=na(fc,this,mc).call(this,0,e,!!t);return na(fc,this,gc).call(this,e),ra(lc,this,ia(lc,this)+n.length),n.slice(0,e)}readValue(){return Fa(this.readBytes(Va))}readIndex(){return ja(Fa(this.readBytes(Va)))}}function gc(e){var t;if(ia(dc,this))return na(fc,t=ia(dc,this),gc).call(t,e);ra(uc,this,ia(uc,this)+e),fa(ia(hc,this)<1||ia(uc,this)<=ia(hc,this)*this.dataLength,"compressed ABI data exceeds inflation ratio of ".concat(ia(hc,this)," ( see: https://github.com/ethers-io/ethers.js/issues/4537 )"),"BUFFER_OVERRUN",{buffer:wa(ia(cc,this)),offset:ia(lc,this),length:e,info:{bytesRead:ia(uc,this),dataLength:this.dataLength}})}function mc(e,t,n){let r=Math.ceil(t/Va)*Va;return ia(lc,this)+r>ia(cc,this).length&&(this.allowLoose&&n&&ia(lc,this)+t<=ia(cc,this).length?r=t:fa(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:wa(ia(cc,this)),length:ia(cc,this).length,offset:ia(lc,this)+r})),ia(cc,this).slice(ia(lc,this),ia(lc,this)+r)}function vc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function yc(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function bc(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");vc(e.outputLen),vc(e.blockLen)}function wc(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ac(e,t){yc(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const Ec=BigInt(2**32-1),Sc=BigInt(32);function Cc(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Ec),l:Number(e>>Sc&Ec)}:{h:0|Number(e>>Sc&Ec),l:0|Number(e&Ec)}}function _c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Cc(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const kc=(e,t,n)=>e<<n|t>>>32-n,xc=(e,t,n)=>t<<n|e>>>32-n,Ic=(e,t,n)=>t<<n-32|e>>>64-n,Nc=(e,t,n)=>e<<n-32|t>>>64-n;const Tc={fromBig:Cc,split:_c,toBig:(e,t)=>BigInt(e>>>0)<<Sc|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:kc,rotlSL:xc,rotlBH:Ic,rotlBL:Nc,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Pc="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Oc=e=>e instanceof Uint8Array,Rc=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Mc=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Dc(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!Oc(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class Uc{clone(){return this._cloneInto()}}function Lc(e){const t=t=>e().update(Dc(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Bc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Pc&&"function"===typeof Pc.getRandomValues)return Pc.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[Fc,jc,zc]=[[],[],[]],Wc=BigInt(0),Hc=BigInt(1),Vc=BigInt(2),qc=BigInt(7),Kc=BigInt(256),Gc=BigInt(113);for(let n=0,hD=Hc,fD=1,pD=0;n<24;n++){[fD,pD]=[pD,(2*fD+3*pD)%5],Fc.push(2*(5*pD+fD)),jc.push((n+1)*(n+2)/2%64);let e=Wc;for(let t=0;t<7;t++)hD=(hD<<Hc^(hD>>qc)*Gc)%Kc,hD&Vc&&(e^=Hc<<(Hc<<BigInt(t))-Hc);zc.push(e)}const[Jc,Yc]=_c(zc,!0),Qc=(e,t,n)=>n>32?Ic(e,t,n):kc(e,t,n),Zc=(e,t,n)=>n>32?Nc(e,t,n):xc(e,t,n);class Xc extends Uc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,vc(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Qc(s,o,1)^n[t],c=Zc(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=jc[n],s=Qc(t,i,r),o=Zc(t,i,r),a=Fc[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Jc[r],e[1]^=Yc[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){wc(this);const{blockLen:t,state:n}=this,r=(e=Dc(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){wc(this,!1),yc(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ac(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Xc(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const $c=(e,t,n)=>Lc((()=>new Xc(t,e,n))),el=$c(1,136,32);let tl=!1;const nl=function(e){return el(e)};let rl=nl;function il(e){const t=ba(e,"data");return Ca(rl(t))}il._=nl,il.lock=function(){tl=!0},il.register=function(e){if(tl)throw new TypeError("keccak256 is locked");rl=e},Object.freeze(il);const sl=BigInt(0),ol=BigInt(36);function al(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=ba(il(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const cl={};for(let n=0;n<10;n++)cl[String(n)]=String(n);for(let n=0;n<26;n++)cl[String.fromCharCode(65+n)]=String(10+n);function ll(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>cl[e])).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const ul=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function dl(e){if(pa("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=al(e);return pa(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){pa(e.substring(2,4)===ll(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=sl;for(let n=0;n<e.length;n++)t=t*ol+ul[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return al("0x"+t)}pa(!1,"invalid address","address",e)}const hl={};function fl(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new vl(hl,"".concat(n?"":"u","int").concat(t),e,{signed:n,width:t})}function pl(e,t){return new vl(hl,"bytes".concat(t||""),e,{size:t})}const gl=Symbol.for("_ethers_typed");var ml=new WeakMap;class vl{constructor(e,t,n,r){(0,sa.A)(this,"type",void 0),(0,sa.A)(this,"value",void 0),ta(this,ml,void 0),(0,sa.A)(this,"_typedSymbol",void 0),null==r&&(r=null),va(hl,e,"Typed"),ca(this,{_typedSymbol:gl,type:t,value:n}),ra(ml,this,r),this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map((e=>e.format())).join(","),")"):this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return ia(ml,this)}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===ia(ml,this)?-1:!1===ia(ml,this)?this.value.length:null}static from(e,t){return new vl(hl,e,t)}static uint8(e){return fl(e,8)}static uint16(e){return fl(e,16)}static uint24(e){return fl(e,24)}static uint32(e){return fl(e,32)}static uint40(e){return fl(e,40)}static uint48(e){return fl(e,48)}static uint56(e){return fl(e,56)}static uint64(e){return fl(e,64)}static uint72(e){return fl(e,72)}static uint80(e){return fl(e,80)}static uint88(e){return fl(e,88)}static uint96(e){return fl(e,96)}static uint104(e){return fl(e,104)}static uint112(e){return fl(e,112)}static uint120(e){return fl(e,120)}static uint128(e){return fl(e,128)}static uint136(e){return fl(e,136)}static uint144(e){return fl(e,144)}static uint152(e){return fl(e,152)}static uint160(e){return fl(e,160)}static uint168(e){return fl(e,168)}static uint176(e){return fl(e,176)}static uint184(e){return fl(e,184)}static uint192(e){return fl(e,192)}static uint200(e){return fl(e,200)}static uint208(e){return fl(e,208)}static uint216(e){return fl(e,216)}static uint224(e){return fl(e,224)}static uint232(e){return fl(e,232)}static uint240(e){return fl(e,240)}static uint248(e){return fl(e,248)}static uint256(e){return fl(e,256)}static uint(e){return fl(e,256)}static int8(e){return fl(e,-8)}static int16(e){return fl(e,-16)}static int24(e){return fl(e,-24)}static int32(e){return fl(e,-32)}static int40(e){return fl(e,-40)}static int48(e){return fl(e,-48)}static int56(e){return fl(e,-56)}static int64(e){return fl(e,-64)}static int72(e){return fl(e,-72)}static int80(e){return fl(e,-80)}static int88(e){return fl(e,-88)}static int96(e){return fl(e,-96)}static int104(e){return fl(e,-104)}static int112(e){return fl(e,-112)}static int120(e){return fl(e,-120)}static int128(e){return fl(e,-128)}static int136(e){return fl(e,-136)}static int144(e){return fl(e,-144)}static int152(e){return fl(e,-152)}static int160(e){return fl(e,-160)}static int168(e){return fl(e,-168)}static int176(e){return fl(e,-176)}static int184(e){return fl(e,-184)}static int192(e){return fl(e,-192)}static int200(e){return fl(e,-200)}static int208(e){return fl(e,-208)}static int216(e){return fl(e,-216)}static int224(e){return fl(e,-224)}static int232(e){return fl(e,-232)}static int240(e){return fl(e,-240)}static int248(e){return fl(e,-248)}static int256(e){return fl(e,-256)}static int(e){return fl(e,-256)}static bytes1(e){return pl(e,1)}static bytes2(e){return pl(e,2)}static bytes3(e){return pl(e,3)}static bytes4(e){return pl(e,4)}static bytes5(e){return pl(e,5)}static bytes6(e){return pl(e,6)}static bytes7(e){return pl(e,7)}static bytes8(e){return pl(e,8)}static bytes9(e){return pl(e,9)}static bytes10(e){return pl(e,10)}static bytes11(e){return pl(e,11)}static bytes12(e){return pl(e,12)}static bytes13(e){return pl(e,13)}static bytes14(e){return pl(e,14)}static bytes15(e){return pl(e,15)}static bytes16(e){return pl(e,16)}static bytes17(e){return pl(e,17)}static bytes18(e){return pl(e,18)}static bytes19(e){return pl(e,19)}static bytes20(e){return pl(e,20)}static bytes21(e){return pl(e,21)}static bytes22(e){return pl(e,22)}static bytes23(e){return pl(e,23)}static bytes24(e){return pl(e,24)}static bytes25(e){return pl(e,25)}static bytes26(e){return pl(e,26)}static bytes27(e){return pl(e,27)}static bytes28(e){return pl(e,28)}static bytes29(e){return pl(e,29)}static bytes30(e){return pl(e,30)}static bytes31(e){return pl(e,31)}static bytes32(e){return pl(e,32)}static address(e){return new vl(hl,"address",e)}static bool(e){return new vl(hl,"bool",!!e)}static bytes(e){return new vl(hl,"bytes",e)}static string(e){return new vl(hl,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new vl(hl,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===gl}static dereference(e,t){if(vl.isTyped(e)){if(e.type!==t)throw new Error("invalid type: expecetd ".concat(t,", got ").concat(e.type));return e.value}return e}}class yl extends nc{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=vl.dereference(t,"string");try{n=dl(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return dl(za(e.readValue(),20))}}class bl extends nc{constructor(e){super(e.name,e.type,"_",e.dynamic),(0,sa.A)(this,"coder",void 0),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function wl(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map((t=>{const r=t.localName;return fa(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),fa(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else pa(!1,"invalid tuple value","tuple",n);pa(t.length===r.length,"types/value length mismatch","tuple",n);let i=new oc,s=new oc,o=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();o.push((e=>{r(e+t)}))}else e.encode(i,n)})),o.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function Al(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach((t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{s=t.decode(r)}catch(o){if(ua(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(o){if(ua(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)})),ec.fromItems(n,r)}class El extends nc{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),(0,sa.A)(this,"coder",void 0),(0,sa.A)(this,"length",void 0),ca(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=vl.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),ga(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return wl(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),fa(t*Va<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Va,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new bl(this.coder));return Al(e,n)}}class Sl extends nc{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=vl.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Cl extends nc{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=wa(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class _l extends Cl{constructor(e){super("bytes",e)}decode(e){return Ca(super.decode(e))}}class kl extends nc{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),(0,sa.A)(this,"size",void 0),ca(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=wa(vl.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return Ca(e.readBytes(this.size))}}const xl=new Uint8Array([]);class Il extends nc{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(xl)}decode(e){return e.readBytes(0),null}}const Nl=BigInt(0),Tl=BigInt(1),Pl=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ol extends nc{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),(0,sa.A)(this,"size",void 0),(0,sa.A)(this,"signed",void 0),ca(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=Ua(vl.dereference(t,this.type)),r=Da(Pl,256);if(this.signed){let e=Da(r,8*this.size-1);(n>e||n<-(e+Tl))&&this._throwError("value out-of-bounds",t),n=Ma(n,256)}else(n<Nl||n>Da(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=Da(e.readValue(),8*this.size);return this.signed&&(t=Ra(t,8*this.size)),t}}function Rl(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const Ml=Object.freeze({error:function(e,t,n,r,i){pa(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:Rl,replace:function(e,t,n,r,i){return"OVERLONG"===e?(pa("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),Rl(e,t,n))}});function Dl(e,t){null==t&&(t=Ml.error);const n=ba(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,o=65535}if(i-1+s>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let a=e&(1<<8-s-1)-1;for(let c=0;c<s;c++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|63&e,i++}null!==a&&(a>1114111?i+=t("OUT_OF_RANGE",i-1-s,n,r,a):a>=55296&&a<=57343?i+=t("UTF16_SURROGATE",i-1-s,n,r,a):a<=o?i+=t("OVERLONG",i-1-s,n,r,a):r.push(a))}return r}function Ul(e,t){pa("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){fa(ma.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);pa(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function Ll(e,t){return Dl(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class Bl extends Cl{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Ul(vl.dereference(t,"string")))}decode(e){return Ll(super.decode(e))}}class Fl extends nc{constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),(0,sa.A)(this,"coders",void 0),ca(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){const n=vl.dereference(t,"tuple");return wl(e,this.coders,n)}decode(e){return Al(e,this.coders)}}function jl(e){return il(Ul(e))}var zl;function Wl(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const Hl=Wl("external public payable override".split(" ")),Vl="constant external internal payable private public pure view override",ql=Wl(Vl.split(" ")),Kl="constructor error event fallback function receive struct",Gl=Wl(Kl.split(" ")),Jl="calldata memory storage payable indexed",Yl=Wl(Jl.split(" ")),Ql=Wl([Kl,Jl,"tuple returns",Vl].join(" ").split(" ")),Zl={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Xl=new RegExp("^(\\s*)"),$l=new RegExp("^([0-9]+)"),eu=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),tu=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),nu=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var ru=new WeakMap,iu=new WeakMap,su=new WeakSet;class ou{get offset(){return ia(ru,this)}get length(){return ia(iu,this).length-ia(ru,this)}constructor(e){ea(this,su),ta(this,ru,void 0),ta(this,iu,void 0),ra(ru,this,0),ra(iu,this,e.slice())}clone(){return new ou(ia(iu,this))}reset(){ra(ru,this,0)}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error("expected keyword ".concat(t.text));return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error("expected ".concat(e,"; got ").concat(t.type," ").concat(JSON.stringify(t.text)))}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=na(su,this,au).call(this,ia(ru,this)+1,e.match+1);return ra(ru,this,e.match+1),t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;ia(ru,this)<e.match-1;){const e=this.peek().linkNext;t.push(na(su,this,au).call(this,ia(ru,this)+1,e)),ra(ru,this,e)}return ra(ru,this,e.match+1),t}peek(){if(ia(ru,this)>=ia(iu,this).length)throw new Error("out-of-bounds");return ia(iu,this)[ia(ru,this)]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){var e;const t=this.peek();return ra(ru,this,(e=ia(ru,this),e++,e)),t}toString(){const e=[];for(let t=ia(ru,this);t<ia(iu,this).length;t++){const n=ia(iu,this)[t];e.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(e.join(" "),">")}}function au(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new zl(ia(iu,this).slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}function cu(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(s,": ").concat(t))};let r=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(Xl);a&&(s+=a[1].length,o=e.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let l=Zl[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,"OPEN_PAREN"===l)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=ja(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(eu),a){if(c.text=a[1],s+=c.text.length,Ql.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(nu)){c.type="TYPE";continue}c.type="ID"}else{if(a=o.match($l),!a)throw new Error("unexpected token ".concat(JSON.stringify(o[0])," at position ").concat(s));c.text=a[1],c.type="NUMBER",s+=c.text.length}}return new ou(t.map((e=>Object.freeze(e))))}function lu(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function uu(e,t){if(t.peekKeyword(Gl)){const n=t.pop().text;if(n!==e)throw new Error("expected ".concat(e,", got ").concat(n))}return t.popType("ID")}function du(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function hu(e){let t=du(e,ql);return lu(t,Wl("constant payable nonpayable".split(" "))),lu(t,Wl("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function fu(e,t){return e.popParams().map((e=>Iu.from(e,t)))}function pu(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return Ua(e.pop().text);throw new Error("invalid gas")}return null}function gu(e){if(e.length)throw new Error("unexpected tokens at offset ".concat(e.offset,": ").concat(e.toString()))}zl=ou;const mu=new RegExp(/^(.*)\[([0-9]*)\]$/);function vu(e){const t=e.match(nu);if(pa(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);pa(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);pa(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const yu={},bu=Symbol.for("_ethers_internal"),wu="_ParamTypeInternal",Au="_ErrorInternal",Eu="_EventInternal",Su="_ConstructorInternal",Cu="_FallbackInternal",_u="_FunctionInternal",ku="_StructInternal";var xu=new WeakSet;class Iu{constructor(e,t,n,r,i,s,o,a){if(ea(this,xu),(0,sa.A)(this,"name",void 0),(0,sa.A)(this,"type",void 0),(0,sa.A)(this,"baseType",void 0),(0,sa.A)(this,"indexed",void 0),(0,sa.A)(this,"components",void 0),(0,sa.A)(this,"arrayLength",void 0),(0,sa.A)(this,"arrayChildren",void 0),va(e,yu,"ParamType"),Object.defineProperty(this,bu,{value:wu}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");ca(this,{name:t,type:n,baseType:r,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}async walkAsync(e,t){const n=[],r=[e];return na(xu,this,Nu).call(this,n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(Iu.isParamType(e))return e;if("string"===typeof e)try{return Iu.from(cu(e),t)}catch(o){pa(!1,"invalid param type","obj",e)}else if(e instanceof ou){let n="",r="",i=null;du(e,Wl(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map((e=>Iu.from(e))),n="tuple(".concat(i.map((e=>e.format())).join(","),")")):(n=vu(e.popType("TYPE")),r=n);let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new Iu(yu,"",n,r,null,i,o,s),o=t.value,n+=t.text,r="array",i=null}let a=null;if(du(e,Yl).has("indexed")){if(!t)throw new Error("");a=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Iu(yu,c,n,r,a,i,o,s)}const n=e.name;pa(!n||"string"===typeof n&&n.match(tu),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(pa(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,s=i.match(mu);if(s){const t=parseInt(s[2]||"-1"),o=Iu.from({type:s[1],components:e.components});return new Iu(yu,n||"",i,"array",r,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>Iu.from(e))):null;return new Iu(yu,n||"",i,"tuple",r,t,null,null)}return i=vu(e.type),new Iu(yu,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[bu]===wu}}function Nu(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach(((t,r)=>{na(xu,i,Nu).call(i,e,t,n,(e=>{s[r]=e}))})),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error("missing value for component ".concat(e.name));return t[e.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((t,r)=>{var o;na(xu,o=i[r],Nu).call(o,e,t,n,(e=>{s[r]=e}))})),void r(s)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}class Tu{constructor(e,t,n){(0,sa.A)(this,"type",void 0),(0,sa.A)(this,"inputs",void 0),va(e,yu,"Fragment"),ca(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{Tu.from(JSON.parse(e))}catch(uD){}return Tu.from(cu(e))}if(e instanceof ou){switch(e.peekKeyword(Gl)){case"constructor":return Du.from(e);case"error":return Ru.from(e);case"event":return Mu.from(e);case"fallback":case"receive":return Uu.from(e);case"function":return Lu.from(e);case"struct":return Bu.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return Du.from(e);case"error":return Ru.from(e);case"event":return Mu.from(e);case"fallback":case"receive":return Uu.from(e);case"function":return Lu.from(e);case"struct":return Bu.from(e)}fa(!1,"unsupported type: ".concat(e.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}pa(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Du.isFragment(e)}static isError(e){return Ru.isFragment(e)}static isEvent(e){return Mu.isFragment(e)}static isFunction(e){return Lu.isFragment(e)}static isStruct(e){return Bu.isFragment(e)}}class Pu extends Tu{constructor(e,t,n,r){super(e,t,r),(0,sa.A)(this,"name",void 0),pa("string"===typeof n&&n.match(tu),"invalid identifier","name",n),r=Object.freeze(r.slice()),ca(this,{name:n})}}function Ou(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Ru extends Pu{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,bu,{value:Au})}get selector(){return jl(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Ou(e,this.inputs)),t.join(" ")}static from(e){if(Ru.isFragment(e))return e;if("string"===typeof e)return Ru.from(cu(e));if(e instanceof ou){const t=uu("error",e),n=fu(e);return gu(e),new Ru(yu,t,n)}return new Ru(yu,e.name,e.inputs?e.inputs.map(Iu.from):[])}static isFragment(e){return e&&e[bu]===Au}}class Mu extends Pu{constructor(e,t,n,r){super(e,"event",t,n),(0,sa.A)(this,"anonymous",void 0),Object.defineProperty(this,bu,{value:Eu}),ca(this,{anonymous:r})}get topicHash(){return jl(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Ou(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>Iu.from(e)));return new Mu(yu,e,t,!1).topicHash}static from(e){if(Mu.isFragment(e))return e;if("string"===typeof e)try{return Mu.from(cu(e))}catch(t){pa(!1,"invalid event fragment","obj",e)}else if(e instanceof ou){const t=uu("event",e),n=fu(e,!0),r=!!du(e,Wl(["anonymous"])).has("anonymous");return gu(e),new Mu(yu,t,n,r)}return new Mu(yu,e.name,e.inputs?e.inputs.map((e=>Iu.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[bu]===Eu}}class Du extends Tu{constructor(e,t,n,r,i){super(e,t,n),(0,sa.A)(this,"payable",void 0),(0,sa.A)(this,"gas",void 0),Object.defineProperty(this,bu,{value:Su}),ca(this,{payable:r,gas:i})}format(e){if(fa(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=["constructor".concat(Ou(e,this.inputs))];return this.payable&&t.push("payable"),null!=this.gas&&t.push("@".concat(this.gas.toString())),t.join(" ")}static from(e){if(Du.isFragment(e))return e;if("string"===typeof e)try{return Du.from(cu(e))}catch(t){pa(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof ou){du(e,Wl(["constructor"]));const t=fu(e),n=!!du(e,Hl).has("payable"),r=pu(e);return gu(e),new Du(yu,"constructor",t,n,r)}return new Du(yu,"constructor",e.inputs?e.inputs.map(Iu.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[bu]===Su}}class Uu extends Tu{constructor(e,t,n){super(e,"fallback",t),(0,sa.A)(this,"payable",void 0),Object.defineProperty(this,bu,{value:Cu}),ca(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return"".concat(t,"()").concat(this.payable?" payable":"")}static from(e){if(Uu.isFragment(e))return e;if("string"===typeof e)try{return Uu.from(cu(e))}catch(t){pa(!1,"invalid fallback fragment","obj",e)}else if(e instanceof ou){const t=e.toString();pa(e.peekKeyword(Wl(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(Wl(["fallback","receive"]))){const t=fu(e);return pa(0===t.length,"receive cannot have arguments","obj.inputs",t),du(e,Wl(["payable"])),gu(e),new Uu(yu,[],!0)}let n=fu(e);n.length?pa(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[Iu.from("bytes")];const r=hu(e);if(pa("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),du(e,Wl(["returns"])).has("returns")){const t=fu(e);pa(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return gu(e),new Uu(yu,n,"payable"===r)}if("receive"===e.type)return new Uu(yu,[],!0);if("fallback"===e.type){const t=[Iu.from("bytes")],n="payable"===e.stateMutability;return new Uu(yu,t,n)}pa(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[bu]===Cu}}class Lu extends Pu{constructor(e,t,n,r,i,s){super(e,"function",t,r),(0,sa.A)(this,"constant",void 0),(0,sa.A)(this,"outputs",void 0),(0,sa.A)(this,"stateMutability",void 0),(0,sa.A)(this,"payable",void 0),(0,sa.A)(this,"gas",void 0),Object.defineProperty(this,bu,{value:_u});ca(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return jl(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Ou(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Ou(e,this.outputs))),null!=this.gas&&t.push("@".concat(this.gas.toString()))),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>Iu.from(e)));return new Lu(yu,e,"view",t,[],null).selector}static from(e){if(Lu.isFragment(e))return e;if("string"===typeof e)try{return Lu.from(cu(e))}catch(n){pa(!1,"invalid function fragment","obj",e)}else if(e instanceof ou){const t=uu("function",e),n=fu(e),r=hu(e);let i=[];du(e,Wl(["returns"])).has("returns")&&(i=fu(e));const s=pu(e);return gu(e),new Lu(yu,t,r,n,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Lu(yu,e.name,t,e.inputs?e.inputs.map(Iu.from):[],e.outputs?e.outputs.map(Iu.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[bu]===_u}}class Bu extends Pu{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,bu,{value:ku})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return Bu.from(cu(e))}catch(t){pa(!1,"invalid struct fragment","obj",e)}else if(e instanceof ou){const t=uu("struct",e),n=fu(e);return gu(e),new Bu(yu,t,n)}return new Bu(yu,e.name,e.inputs?e.inputs.map(Iu.from):[])}static isFragment(e){return e&&e[bu]===ku}}const Fu=new Map;Fu.set(0,"GENERIC_PANIC"),Fu.set(1,"ASSERT_FALSE"),Fu.set(17,"OVERFLOW"),Fu.set(18,"DIVIDE_BY_ZERO"),Fu.set(33,"ENUM_RANGE_ERROR"),Fu.set(34,"BAD_STORAGE_DATA"),Fu.set(49,"STACK_UNDERFLOW"),Fu.set(50,"ARRAY_RANGE_ERROR"),Fu.set(65,"OUT_OF_MEMORY"),Fu.set(81,"UNINITIALIZED_FUNCTION_CALL");const ju=new RegExp(/^bytes([0-9]*)$/),zu=new RegExp(/^(u?int)([0-9]*)$/);let Wu=null,Hu=1024;var Vu=new WeakSet;class qu{constructor(){ea(this,Vu)}getDefaultValue(e){const t=e.map((e=>na(Vu,this,Ku).call(this,Iu.from(e))));return new Fl(t,"_").defaultValue()}encode(e,t){ga(t.length,e.length,"types/values length mismatch");const n=e.map((e=>na(Vu,this,Ku).call(this,Iu.from(e)))),r=new Fl(n,"_"),i=new oc;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>na(Vu,this,Ku).call(this,Iu.from(e))));return new Fl(r,"_").decode(new pc(t,n,Hu))}static _setDefaultMaxInflation(e){pa("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Hu=e}static defaultAbiCoder(){return null==Wu&&(Wu=new qu),Wu}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",s=null,o=null;if(n){i="execution reverted";const e=ba(n);if(n=Ca(n),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Ca(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=": ".concat(JSON.stringify(s))}catch(c){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Ca(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s="Panic due to ".concat(Fu.get(t)||"UNKNOWN","(").concat(t,")"),i+=": ".concat(s)}catch(c){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?dl(t.to):null,data:t.data||"0x"};return t.from&&(a.from=dl(t.from)),ha(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:a,invocation:null,revert:o})}(e,t,n,qu.defaultAbiCoder())}}function Ku(e){if(e.isArray())return new El(na(Vu,this,Ku).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Fl(e.components.map((e=>na(Vu,this,Ku).call(this,e))),e.name);switch(e.baseType){case"address":return new yl(e.name);case"bool":return new Sl(e.name);case"string":return new Bl(e.name);case"bytes":return new _l(e.name);case"":return new Il(e.name)}let t=e.type.match(zu);if(t){let n=parseInt(t[2]||"256");return pa(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Ol(n/8,"int"===t[1],e.name)}if(t=e.type.match(ju),t){let n=parseInt(t[1]);return pa(0!==n&&n<=32,"invalid bytes length","param",e),new kl(n,e.name)}pa(!1,"invalid type","type",e.type)}function Gu(e){return e&&"function"===typeof e.getAddress}async function Ju(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(fa("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),pa(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),dl(n)}function Yu(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?dl(e):(fa(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Ju(e,t.resolveName(e))):Gu(e)?Ju(e,e.getAddress()):e&&"function"===typeof e.then?Ju(e,e):void pa(!1,"unsupported addressable value","target",e)}const Qu=new Uint8Array(32);Qu.fill(0);const Zu=BigInt(-1),Xu=BigInt(0),$u=BigInt(1),ed=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const td=za($u,32),nd=za(Xu,32),rd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},id=["name","version","chainId","verifyingContract","salt"];function sd(e){return function(t){return pa("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const od={name:sd("name"),version:sd("version"),chainId:function(e){const t=Ua(e,"domain.chainId");return pa(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Ha(t)},verifyingContract:function(e){try{return dl(e).toLowerCase()}catch(t){}pa(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=ba(e,"domain.salt");return pa(32===t.length,'invalid domain value "salt"',"domain.salt",e),Ca(t)}};function ad(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);pa(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=Da(ed,n?r-1:r),s=n?(i+$u)*Zu:Xu;return function(t){const r=Ua(t,"value");return pa(r>=s&&r<=i,"value out-of-bounds for ".concat(e),"value",r),za(n?Ma(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return pa(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return pa(ba(t).length===n,"invalid length for ".concat(e),"value",t),function(e){const t=ba(e),n=t.length%32;return n?_a([t,Qu.slice(n)]):Ca(t)}(t)}}}switch(e){case"address":return function(e){return Na(dl(e),32)};case"bool":return function(e){return e?td:nd};case"bytes":return function(e){return il(e)};case"string":return function(e){return jl(e)}}return null}function cd(e,t){return"".concat(e,"(").concat(t.map((e=>{let{name:t,type:n}=e;return n+" "+t})).join(","),")")}function ld(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var ud=new WeakMap,dd=new WeakMap,hd=new WeakMap,fd=new WeakSet;class pd{get types(){return JSON.parse(ia(ud,this))}constructor(e){ea(this,fd),(0,sa.A)(this,"primaryType",void 0),ta(this,ud,void 0),ta(this,dd,void 0),ta(this,hd,void 0),ra(dd,this,new Map),ra(hd,this,new Map);const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach((s=>{i[s]=e[s].map((t=>{let{name:n,type:r}=t,{base:i,index:s}=ld(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(s||"")}})),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)})),ra(ud,this,JSON.stringify(i));for(const o in i){const r=new Set;for(const s of i[o]){pa(!r.has(s.name),"duplicate variable name ".concat(JSON.stringify(s.name)," in ").concat(JSON.stringify(o)),"types",e),r.add(s.name);const i=ld(s.type).base;pa(i!==o,"circular type reference to ".concat(JSON.stringify(i)),"types",e);ad(i)||(pa(n.has(i),"unknown type ".concat(JSON.stringify(i)),"types",e),n.get(i).push(o),t.get(o).add(i))}}const s=Array.from(n.keys()).filter((e=>0===n.get(e).length));pa(0!==s.length,"missing primary type","types",e),pa(1===s.length,"ambiguous primary types or unused types: ".concat(s.map((e=>JSON.stringify(e))).join(", ")),"types",e),ca(this,{primaryType:s[0]}),function i(s,o){pa(!o.has(s),"circular type reference to ".concat(JSON.stringify(s)),"types",e),o.add(s);for(const e of t.get(s))if(n.has(e)){i(e,o);for(const t of o)r.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of r){const e=Array.from(a);e.sort(),ia(dd,this).set(o,cd(o,i[o])+e.map((e=>cd(e,i[e]))).join(""))}}getEncoder(e){let t=ia(hd,this).get(e);return t||(t=na(fd,this,gd).call(this,e),ia(hd,this).set(e,t)),t}encodeType(e){const t=ia(dd,this).get(e);return pa(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return il(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(ad(e))return n(e,t);const r=ld(e).array;if(r)return pa(-1===r.count||r.count===t.length,"array length mismatch; expected length ".concat(r.count),"value",t),t.map((e=>this._visit(r.prefix,e,n)));const i=this.types[e];if(i)return i.reduce(((e,r)=>{let{name:i,type:s}=r;return e[i]=this._visit(s,t[i],n),e}),{});pa(!1,"unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new pd(e)}static getPrimaryType(e){return pd.from(e).primaryType}static hashStruct(e,t,n){return pd.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=rd[n];pa(r,"invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>id.indexOf(e.name)-id.indexOf(t.name))),pd.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return _a(["0x1901",pd.hashDomain(e),pd.from(t).hash(n)])}static hash(e,t,n){return il(pd.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const i={};e.verifyingContract&&!Aa(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=pd.from(t);s.visit(n,((e,t)=>("address"!==e||Aa(t,20)||(i[t]="0x"),t)));for(const o in i)i[o]=await r(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=s.visit(n,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,n){pd.hashDomain(e);const r={},i=[];id.forEach((t=>{const n=e[t];null!=n&&(r[t]=od[t](n),i.push({name:t,type:rd[t]}))}));const s=pd.from(t);t=s.types;const o=Object.assign({},t);return pa(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(n),{types:o,domain:r,primaryType:s.primaryType,message:s.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return Ca(ba(t));if(e.match(/^u?int/))return Ua(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return pa("string"===typeof t,"invalid string","value",t),t}pa(!1,"unsupported type","type",e)}))}}}function gd(e){{const t=ad(e);if(t)return t}const t=ld(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{pa(-1===t.count||t.count===r.length,"array length mismatch; expected length ".concat(t.count),"value",r);let i=r.map(n);return ia(dd,this).has(e)&&(i=i.map(il)),il(_a(i))}}const n=this.types[e];if(n){const t=jl(ia(dd,this).get(e));return e=>{const r=n.map((t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return ia(dd,this).has(r)?il(i):i}));return r.unshift(t),_a(r)}}pa(!1,"unknown type: ".concat(e),"type",e)}function md(e,t){return{address:dl(e),storageKeys:t.map(((e,t)=>(pa(Aa(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase())))}}function vd(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(pa(2===t.length,"invalid slot set","value[".concat(n,"]"),t),md(t[0],t[1])):(pa(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),md(t.address,t.storageKeys))));pa(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return md(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function yd(e){return async function(e,t){fa(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const n=e.url.split(":")[0].toLowerCase();fa("http"===n||"https"===n,"unsupported protocol ".concat(n),"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),fa("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const i=new AbortController,s=setTimeout((()=>{r=ha("request timeout","TIMEOUT"),i.abort()}),e.timeout);t&&t.addListener((()=>{r=ha("request cancelled","CANCELLED"),i.abort()}));const o={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:i.signal};let a;try{a=await fetch(e.url,o)}catch(d){if(clearTimeout(s),r)throw r;throw d}clearTimeout(s);const c={};a.headers.forEach(((e,t)=>{c[t.toLowerCase()]=e}));const l=await a.arrayBuffer(),u=null==l?null:new Uint8Array(l);return{statusCode:a.status,statusMessage:a.statusText,headers:c,body:u}}}yd();let bd=yd();const wd=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Ad=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ed=!1;async function Sd(e,t){try{const t=e.match(wd);if(!t)throw new Error("invalid data");return new th(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return ba(t)}(t[3]):Ul(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(n){return new th(599,"BAD REQUEST (invalid data: URI)",{},null,new Gd(e))}}function Cd(e){return async function(t,n){try{const n=t.match(Ad);if(!n)throw new Error("invalid link");return new Gd("".concat(e).concat(n[2]))}catch(r){return new th(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Gd(t))}}}const _d={data:Sd,ipfs:Cd("https://gateway.ipfs.io/ipfs/")},kd=new WeakMap;var xd=new WeakMap,Id=new WeakMap;class Nd{constructor(e){ta(this,xd,void 0),ta(this,Id,void 0),ra(xd,this,[]),ra(Id,this,!1),kd.set(e,(()=>{if(!ia(Id,this)){ra(Id,this,!0);for(const e of ia(xd,this))setTimeout((()=>{e()}),0);ra(xd,this,[])}}))}addListener(e){fa(!ia(Id,this),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),ia(xd,this).push(e)}get cancelled(){return ia(Id,this)}checkSignal(){fa(!this.cancelled,"cancelled","CANCELLED",{})}}function Td(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var Pd=new WeakMap,Od=new WeakMap,Rd=new WeakMap,Md=new WeakMap,Dd=new WeakMap,Ud=new WeakMap,Ld=new WeakMap,Bd=new WeakMap,Fd=new WeakMap,jd=new WeakMap,zd=new WeakMap,Wd=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,qd=new WeakMap,Kd=new WeakSet;class Gd{get url(){return ia(Ud,this)}set url(e){ra(Ud,this,String(e))}get body(){return null==ia(Ld,this)?null:new Uint8Array(ia(Ld,this))}set body(e){if(null==e)ra(Ld,this,void 0),ra(Bd,this,void 0);else if("string"===typeof e)ra(Ld,this,Ul(e)),ra(Bd,this,"text/plain");else if(e instanceof Uint8Array)ra(Ld,this,e),ra(Bd,this,"application/octet-stream");else{if("object"!==typeof e)throw new Error("invalid body");ra(Ld,this,Ul(JSON.stringify(e))),ra(Bd,this,"application/json")}}hasBody(){return null!=ia(Ld,this)}get method(){return ia(Md,this)?ia(Md,this):this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),ra(Md,this,String(e).toUpperCase())}get headers(){const e=Object.assign({},ia(Rd,this));return ia(Fd,this)&&(e.authorization="Basic ".concat(function(e){const t=ba(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(Ul(ia(Fd,this))))),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&ia(Bd,this)&&(e["content-type"]=ia(Bd,this)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){ia(Rd,this)[String(e).toLowerCase()]=String(t)}clearHeaders(){ra(Rd,this,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return ia(Fd,this)||null}setCredentials(e,t){pa(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),ra(Fd,this,"".concat(e,":").concat(t))}get allowGzip(){return ia(Od,this)}set allowGzip(e){ra(Od,this,!!e)}get allowInsecureAuthentication(){return!!ia(Pd,this)}set allowInsecureAuthentication(e){ra(Pd,this,!!e)}get timeout(){return ia(Dd,this)}set timeout(e){pa(e>=0,"timeout must be non-zero","timeout",e),ra(Dd,this,e)}get preflightFunc(){return ia(jd,this)||null}set preflightFunc(e){ra(jd,this,e)}get processFunc(){return ia(zd,this)||null}set processFunc(e){ra(zd,this,e)}get retryFunc(){return ia(Wd,this)||null}set retryFunc(e){ra(Wd,this,e)}get getUrlFunc(){return ia(qd,this)||bd}set getUrlFunc(e){ra(qd,this,e)}constructor(e){ea(this,Kd),ta(this,Pd,void 0),ta(this,Od,void 0),ta(this,Rd,void 0),ta(this,Md,void 0),ta(this,Dd,void 0),ta(this,Ud,void 0),ta(this,Ld,void 0),ta(this,Bd,void 0),ta(this,Fd,void 0),ta(this,jd,void 0),ta(this,zd,void 0),ta(this,Wd,void 0),ta(this,Hd,void 0),ta(this,Vd,void 0),ta(this,qd,void 0),ra(Ud,this,String(e)),ra(Pd,this,!1),ra(Od,this,!0),ra(Rd,this,{}),ra(Md,this,""),ra(Dd,this,3e5),ra(Vd,this,{slotInterval:250,maxAttempts:12}),ra(qd,this,null)}toString(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(ia(Ld,this)?Ca(ia(Ld,this)):"null",">")}setThrottleParams(e){null!=e.slotInterval&&(ia(Vd,this).slotInterval=e.slotInterval),null!=e.maxAttempts&&(ia(Vd,this).maxAttempts=e.maxAttempts)}send(){return fa(null==ia(Hd,this),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),ra(Hd,this,new Nd(this)),na(Kd,this,Jd).call(this,0,nh()+this.timeout,0,this,new th(0,"",{},null,this))}cancel(){fa(null!=ia(Hd,this),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=kd.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();fa("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(e),")")});const r=new Gd(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,ra(Rd,r,Object.assign({},ia(Rd,this))),ia(Ld,this)&&ra(Ld,r,new Uint8Array(ia(Ld,this))),ra(Bd,r,ia(Bd,this)),r}clone(){const e=new Gd(this.url);return ra(Md,e,ia(Md,this)),ia(Ld,this)&&ra(Ld,e,ia(Ld,this)),ra(Bd,e,ia(Bd,this)),ra(Rd,e,Object.assign({},ia(Rd,this))),ra(Fd,e,ia(Fd,this)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),ra(jd,e,ia(jd,this)),ra(zd,e,ia(zd,this)),ra(Wd,e,ia(Wd,this)),ra(Vd,e,Object.assign({},ia(Vd,this))),ra(qd,e,ia(qd,this)),e}static lockConfig(){Ed=!0}static getGateway(e){return _d[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error("cannot intercept ".concat(e,"; use registerGetUrl"));if(Ed)throw new Error("gateways locked");_d[e]=t}static registerGetUrl(e){if(Ed)throw new Error("gateways locked");bd=e}static createGetUrlFunc(e){return yd()}static createDataGateway(){return Sd}static createIpfsGatewayFunc(e){return Cd(e)}}async function Jd(e,t,n,r,i){if(e>=ia(Vd,this).maxAttempts)return i.makeServerError("exceeded maximum retry limit");fa(nh()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in _d){const e=await _d[o](s.url,Td(ia(Hd,r)));if(e instanceof th){let t=e;if(this.processFunc){Td(ia(Hd,r));try{t=await this.processFunc(s,t)}catch(h){null!=h.throttle&&"number"===typeof h.stall||t.makeServerError("error in post-processing function",h).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,Td(ia(Hd,r)));let c=new th(a.statusCode,a.statusMessage,a.headers,a.body,r);if(301===c.statusCode||302===c.statusCode){try{var l;const n=c.headers.location||"";return na(Kd,l=s.redirect(n),Jd).call(l,e+1,t,0,r,c)}catch(h){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){var u;const n=c.headers["retry-after"];let i=ia(Vd,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),na(Kd,u=s.clone(),Jd).call(u,e+1,t,i,r,c)}if(this.processFunc){Td(ia(Hd,r));try{c=await this.processFunc(s,c)}catch(h){var d;null!=h.throttle&&"number"===typeof h.stall||c.makeServerError("error in post-processing function",h).assertOk();let n=ia(Vd,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return h.stall>=0&&(n=h.stall),na(Kd,d=s.clone(),Jd).call(d,e+1,t,n,r,c)}}return c}var Yd=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Xd=new WeakMap,$d=new WeakMap,eh=new WeakMap;class th{toString(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(ia(Xd,this)?Ca(ia(Xd,this)):"null",">")}get statusCode(){return ia(Yd,this)}get statusMessage(){return ia(Qd,this)}get headers(){return Object.assign({},ia(Zd,this))}get body(){return null==ia(Xd,this)?null:new Uint8Array(ia(Xd,this))}get bodyText(){try{return null==ia(Xd,this)?"":Ll(ia(Xd,this))}catch(e){fa(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){fa(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){ta(this,Yd,void 0),ta(this,Qd,void 0),ta(this,Zd,void 0),ta(this,Xd,void 0),ta(this,$d,void 0),ta(this,eh,void 0),ra(Yd,this,e),ra(Qd,this,t),ra(Zd,this,Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{})),ra(Xd,this,null==r?null:new Uint8Array(r)),ra($d,this,i||null),ra(eh,this,{message:""})}makeServerError(e,t){let n;e?n="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(e,")"):(e="".concat(this.statusCode," ").concat(this.statusMessage),n="CLIENT ESCALATED SERVER ERROR (".concat(e,")"));const r=new th(599,n,this.headers,this.body,ia($d,this)||void 0);return ra(eh,r,{message:e,error:t}),r}throwThrottleError(e,t){null==t?t=-1:pa(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw ca(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=ia(Xd,this)}get request(){return ia($d,this)}ok(){return""===ia(eh,this).message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=ia(eh,this);""===e&&(e="server response ".concat(this.statusCode," ").concat(this.statusMessage));let n=null;this.request&&(n=this.request.url);let r=null;try{ia(Xd,this)&&(r=Ll(ia(Xd,this)))}catch(uD){}fa(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:"".concat(this.statusCode," ").concat(this.statusMessage)}})}}function nh(){return(new Date).getTime()}const rh="0x0000000000000000000000000000000000000000";class ih{constructor(e,t,n){(0,sa.A)(this,"fragment",void 0),(0,sa.A)(this,"name",void 0),(0,sa.A)(this,"signature",void 0),(0,sa.A)(this,"topic",void 0),(0,sa.A)(this,"args",void 0);const r=e.name,i=e.format();ca(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class sh{constructor(e,t,n,r){(0,sa.A)(this,"fragment",void 0),(0,sa.A)(this,"name",void 0),(0,sa.A)(this,"args",void 0),(0,sa.A)(this,"signature",void 0),(0,sa.A)(this,"selector",void 0),(0,sa.A)(this,"value",void 0);const i=e.name,s=e.format();ca(this,{fragment:e,name:i,args:n,signature:s,selector:t,value:r})}}class oh{constructor(e,t,n){(0,sa.A)(this,"fragment",void 0),(0,sa.A)(this,"name",void 0),(0,sa.A)(this,"args",void 0),(0,sa.A)(this,"signature",void 0),(0,sa.A)(this,"selector",void 0);const r=e.name,i=e.format();ca(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class ah{static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){(0,sa.A)(this,"hash",void 0),(0,sa.A)(this,"_isIndexed",void 0),ca(this,{hash:e,_isIndexed:!0})}}const ch={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},lh={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>"reverted with reason string ".concat(JSON.stringify(e))},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&ch[e.toString()]&&(t=ch[e.toString()]),"reverted with panic code 0x".concat(e.toString(16)," (").concat(t,")")}}};var uh=new WeakMap,dh=new WeakMap,hh=new WeakMap,fh=new WeakMap,ph=new WeakSet;class gh{constructor(e){ea(this,ph),(0,sa.A)(this,"fragments",void 0),(0,sa.A)(this,"deploy",void 0),(0,sa.A)(this,"fallback",void 0),(0,sa.A)(this,"receive",void 0),ta(this,uh,void 0),ta(this,dh,void 0),ta(this,hh,void 0),ta(this,fh,void 0);let t=[];t="string"===typeof e?JSON.parse(e):e,ra(hh,this,new Map),ra(uh,this,new Map),ra(dh,this,new Map);const n=[];for(const o of t)try{n.push(Tu.from(o))}catch(s){console.log("[Warning] Invalid Fragment ".concat(JSON.stringify(o),":"),s.message)}ca(this,{fragments:Object.freeze(n)});let r=null,i=!1;ra(fh,this,this.getAbiCoder()),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void ca(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(pa(!r||e.payable!==r.payable,"conflicting fallback fragments","fragments[".concat(t,"]"),e),r=e,i=r.payable));case"function":n=ia(hh,this);break;case"event":n=ia(dh,this);break;case"error":n=ia(uh,this);break;default:return}const s=e.format();n.has(s)||n.set(s,e)})),this.deploy||ca(this,{deploy:Du.from("constructor()")}),ca(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return qu.defaultAbiCoder()}getFunctionName(e){const t=na(ph,this,mh).call(this,e,null,!1);return pa(t,"no matching function","key",e),t.name}hasFunction(e){return!!na(ph,this,mh).call(this,e,null,!1)}getFunction(e,t){return na(ph,this,mh).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(ia(hh,this).keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(ia(hh,this).get(r),n)}}getEventName(e){const t=na(ph,this,vh).call(this,e,null,!1);return pa(t,"no matching event","key",e),t.name}hasEvent(e){return!!na(ph,this,vh).call(this,e,null,!1)}getEvent(e,t){return na(ph,this,vh).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(ia(dh,this).keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(ia(dh,this).get(r),n)}}getError(e,t){if(Aa(e)){const t=e.toLowerCase();if(lh[t])return Ru.from(lh[t].signature);for(const e of ia(uh,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of ia(uh,this))n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?Ru.from("error Error(string)"):"Panic"===e?Ru.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map((e=>JSON.stringify(e.format()))).join(", ");pa(!1,"ambiguous error description (i.e. ".concat(n,")"),"name",e)}return t[0]}if("Error(string)"===(e=Ru.from(e).format()))return Ru.from("error Error(string)");if("Panic(uint256)"===e)return Ru.from("error Panic(uint256)");const n=ia(uh,this).get(e);return n||null}forEachError(e){const t=Array.from(ia(uh,this).keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(ia(uh,this).get(r),n)}}_decodeParams(e,t){return ia(fh,this).decode(e,t)}_encodeParams(e,t){return ia(fh,this).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);pa(t,"unknown error","fragment",e),e=t}return pa(xa(t,0,4)===e.selector,"data signature does not match error ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,xa(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);pa(t,"unknown error","fragment",e),e=t}return _a([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);pa(t,"unknown function","fragment",e),e=t}return pa(xa(t,0,4)===e.selector,"data signature does not match function ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,xa(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);pa(t,"unknown function","fragment",e),e=t}return _a([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);pa(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=wa(t);if(r.length%32===0)try{return ia(fh,this).decode(e.outputs,r)}catch(i){n="could not decode result data"}fa(!1,n,"BAD_DATA",{value:Ca(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=ba(e,"data"),r=qu.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=Ca(n.slice(0,4)),t=this.getError(e);if(t)try{const e=ia(fh,this).decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(uD){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);pa(t,"unknown function","fragment",e),e=t}return Ca(ia(fh,this).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);pa(t,"unknown event","eventFragment",e),e=t}fa(t.length<=e.inputs.length,"too many arguments for ".concat(e.format()),"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?jl(t):"bytes"===e.type?il(Ca(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=za(t):e.type.match(/^bytes/)?t=Ia(t,32,!1):"address"===e.type&&ia(fh,this).encode(["address"],[t]),Na(Ca(t),32));for(t.forEach(((t,i)=>{const s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?pa(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map((e=>r(s,e)))):n.push(r(s,t)):pa(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);pa(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),pa(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)n.push(jl(o));else if("bytes"===e.type)n.push(il(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(ia(fh,this).encode([e.type],[o]))}else r.push(e),i.push(o)})),{data:ia(fh,this).encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);pa(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;pa(Aa(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Iu.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))}));const o=null!=n?ia(fh,this).decode(r,_a(n)):null,a=ia(fh,this).decode(i,t,!0),c=[],l=[];let u=0,d=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==o)n=new ah(null);else if(s[t])n=new ah(o[d++]);else try{n=o[d++]}catch(r){n=r}else try{n=a[u++]}catch(r){n=r}c.push(n),l.push(e.name||null)})),ec.fromItems(c,l)}parseTransaction(e){const t=ba(e.data,"tx.data"),n=Ua(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(Ca(t.slice(0,4)));if(!r)return null;const i=ia(fh,this).decode(r.inputs,t.slice(4));return new sh(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new ih(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Ca(e),n=this.getError(xa(t,0,4));if(!n)return null;const r=ia(fh,this).decode(n.inputs,xa(t,4));return new oh(n,n.selector,r)}static from(e){return e instanceof gh?e:"string"===typeof e?new gh(JSON.parse(e)):"function"===typeof e.formatJson?new gh(e.formatJson()):"function"===typeof e.format?new gh(e.format("json")):new gh(e)}}function mh(e,t,n){if(Aa(e)){const t=e.toLowerCase();for(const e of ia(hh,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of ia(hh,this))t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;vl.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if(vl.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map((e=>JSON.stringify(e.format()))).join(", ");pa(!1,"ambiguous function description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=ia(hh,this).get(Lu.from(e).format());return r||null}function vh(e,t,n){if(Aa(e)){const t=e.toLowerCase();for(const e of ia(dh,this).values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of ia(dh,this))t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if(vl.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map((e=>JSON.stringify(e.format()))).join(", ");pa(!1,"ambiguous event description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=ia(dh,this).get(Mu.from(e).format());return r||null}const yh=BigInt(0);function bh(e){return null==e?null:e}function wh(e){return null==e?null:e.toString()}class Ah{constructor(e,t,n){(0,sa.A)(this,"gasPrice",void 0),(0,sa.A)(this,"maxFeePerGas",void 0),(0,sa.A)(this,"maxPriorityFeePerGas",void 0),ca(this,{gasPrice:bh(e),maxFeePerGas:bh(t),maxPriorityFeePerGas:bh(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:wh(e),maxFeePerGas:wh(t),maxPriorityFeePerGas:wh(n)}}}function Eh(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Ca(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=Ua(e[i],"request.".concat(i)));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=ja(e[i],"request.".concat(i)));return e.accessList&&(t.accessList=vd(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>Ea(e)?Ca(e):Object.assign({},e)))),t}var Sh=new WeakMap;class Ch{constructor(e,t){(0,sa.A)(this,"provider",void 0),(0,sa.A)(this,"number",void 0),(0,sa.A)(this,"hash",void 0),(0,sa.A)(this,"timestamp",void 0),(0,sa.A)(this,"parentHash",void 0),(0,sa.A)(this,"parentBeaconBlockRoot",void 0),(0,sa.A)(this,"nonce",void 0),(0,sa.A)(this,"difficulty",void 0),(0,sa.A)(this,"gasLimit",void 0),(0,sa.A)(this,"gasUsed",void 0),(0,sa.A)(this,"stateRoot",void 0),(0,sa.A)(this,"receiptsRoot",void 0),(0,sa.A)(this,"blobGasUsed",void 0),(0,sa.A)(this,"excessBlobGas",void 0),(0,sa.A)(this,"miner",void 0),(0,sa.A)(this,"prevRandao",void 0),(0,sa.A)(this,"extraData",void 0),(0,sa.A)(this,"baseFeePerGas",void 0),ta(this,Sh,void 0),ra(Sh,this,e.transactions.map((e=>"string"!==typeof e?new Nh(e,t):e))),ca(this,{provider:t,hash:bh(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:bh(e.prevRandao),extraData:e.extraData,baseFeePerGas:bh(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return ia(Sh,this).map((e=>"string"===typeof e?e:e.hash))}get prefetchedTransactions(){const e=ia(Sh,this).slice();return 0===e.length?[]:(fa("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:wh(e),difficulty:wh(t),extraData:n,gasLimit:wh(r),gasUsed:wh(i),blobGasUsed:wh(this.blobGasUsed),excessBlobGas:wh(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,timestamp:p,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return ia(Sh,this).length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=ia(Sh,this)[e];else{const n=e.toLowerCase();for(const e of ia(Sh,this)){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash===n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;pa(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class _h{constructor(e,t){(0,sa.A)(this,"provider",void 0),(0,sa.A)(this,"transactionHash",void 0),(0,sa.A)(this,"blockHash",void 0),(0,sa.A)(this,"blockNumber",void 0),(0,sa.A)(this,"removed",void 0),(0,sa.A)(this,"address",void 0),(0,sa.A)(this,"data",void 0),(0,sa.A)(this,"topics",void 0),(0,sa.A)(this,"index",void 0),(0,sa.A)(this,"transactionIndex",void 0),this.provider=t;const n=Object.freeze(e.topics.slice());ca(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return fa(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return fa(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return fa(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}var kh=new WeakMap;class xh{constructor(e,t){(0,sa.A)(this,"provider",void 0),(0,sa.A)(this,"to",void 0),(0,sa.A)(this,"from",void 0),(0,sa.A)(this,"contractAddress",void 0),(0,sa.A)(this,"hash",void 0),(0,sa.A)(this,"index",void 0),(0,sa.A)(this,"blockHash",void 0),(0,sa.A)(this,"blockNumber",void 0),(0,sa.A)(this,"logsBloom",void 0),(0,sa.A)(this,"gasUsed",void 0),(0,sa.A)(this,"blobGasUsed",void 0),(0,sa.A)(this,"cumulativeGasUsed",void 0),(0,sa.A)(this,"gasPrice",void 0),(0,sa.A)(this,"blobGasPrice",void 0),(0,sa.A)(this,"type",void 0),(0,sa.A)(this,"status",void 0),(0,sa.A)(this,"root",void 0),ta(this,kh,void 0),ra(kh,this,Object.freeze(e.logs.map((e=>new _h(e,t)))));let n=yh;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),ca(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return ia(kh,this)}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:n,cumulativeGasUsed:wh(this.cumulativeGasUsed),from:t,gasPrice:wh(this.gasPrice),blobGasUsed:wh(this.blobGasUsed),blobGasPrice:wh(this.blobGasPrice),gasUsed:wh(this.gasUsed),hash:r,index:i,logs:c,logsBloom:a,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Ph(this)}reorderedEvent(e){return fa(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Th(this,e)}}var Ih=new WeakMap;class Nh{constructor(e,t){(0,sa.A)(this,"provider",void 0),(0,sa.A)(this,"blockNumber",void 0),(0,sa.A)(this,"blockHash",void 0),(0,sa.A)(this,"index",void 0),(0,sa.A)(this,"hash",void 0),(0,sa.A)(this,"type",void 0),(0,sa.A)(this,"to",void 0),(0,sa.A)(this,"from",void 0),(0,sa.A)(this,"nonce",void 0),(0,sa.A)(this,"gasLimit",void 0),(0,sa.A)(this,"gasPrice",void 0),(0,sa.A)(this,"maxPriorityFeePerGas",void 0),(0,sa.A)(this,"maxFeePerGas",void 0),(0,sa.A)(this,"maxFeePerBlobGas",void 0),(0,sa.A)(this,"data",void 0),(0,sa.A)(this,"value",void 0),(0,sa.A)(this,"chainId",void 0),(0,sa.A)(this,"signature",void 0),(0,sa.A)(this,"accessList",void 0),(0,sa.A)(this,"blobVersionedHashes",void 0),ta(this,Ih,void 0),this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,ra(Ih,this,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:s,from:o,nonce:a,data:c,signature:l,accessList:u,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:wh(this.chainId),data:c,from:o,gasLimit:wh(this.gasLimit),gasPrice:wh(this.gasPrice),hash:r,maxFeePerGas:wh(this.maxFeePerGas),maxPriorityFeePerGas:wh(this.maxPriorityFeePerGas),maxFeePerBlobGas:wh(this.maxFeePerBlobGas),nonce:a,signature:l,to:s,index:n,type:i,value:wh(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await aa({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=ia(Ih,this),s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await aa({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=i-3,s<ia(Ih,this)&&(s=ia(Ih,this)));s<=e;){if(o)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===yh&&(r="cancelled"),fa(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},c=e=>{if(null==e||0!==e.status)return e;fa(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===n)return c(l);if(l){if(await l.confirmations()>=n)return c(l)}else if(await a(),0===n)return null;const u=new Promise(((e,t)=>{const s=[],l=()=>{s.forEach((e=>e()))};if(s.push((()=>{o=!0})),r>0){const e=setTimeout((()=>{l(),t(ha("wait for transaction timeout","TIMEOUT"))}),r);s.push((()=>{clearTimeout(e)}))}const u=async r=>{if(await r.confirmations()>=n){l();try{e(c(r))}catch(i){t(i)}}};if(s.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await a()}catch(n){if(ua(n,"TRANSACTION_REPLACED"))return l(),void t(n)}o||this.provider.once("block",e)};s.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return fa(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ph(this)}reorderedEvent(e){return fa(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),fa(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Th(this,e)}replaceableTransaction(e){pa(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Nh(this,this.provider);return ra(Ih,t,e),t}}function Th(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Ph(e){return{orphan:"drop-transaction",tx:e}}var Oh=new WeakMap;class Rh{constructor(e,t,n){(0,sa.A)(this,"filter",void 0),(0,sa.A)(this,"emitter",void 0),ta(this,Oh,void 0),ra(Oh,this,t),ca(this,{emitter:e,filter:n})}async removeListener(){null!=ia(Oh,this)&&await this.emitter.off(this.filter,ia(Oh,this))}}class Mh extends _h{constructor(e,t,n){super(e,e.provider),(0,sa.A)(this,"interface",void 0),(0,sa.A)(this,"fragment",void 0),(0,sa.A)(this,"args",void 0);ca(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Dh extends _h{constructor(e,t){super(e,e.provider),(0,sa.A)(this,"error",void 0),ca(this,{error:t})}}var Uh=new WeakMap;class Lh extends xh{constructor(e,t,n){super(n,t),ta(this,Uh,void 0),ra(Uh,this,e)}get logs(){return super.logs.map((e=>{const t=e.topics.length?ia(Uh,this).getEvent(e.topics[0]):null;if(t)try{return new Mh(e,ia(Uh,this),t)}catch(n){return new Dh(e,n)}return e}))}}var Bh=new WeakMap;class Fh extends Nh{constructor(e,t,n){super(n,t),ta(this,Bh,void 0),ra(Bh,this,e)}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new Lh(ia(Bh,this),this.provider,n)}}class jh extends Rh{constructor(e,t,n,r){super(e,t,n),(0,sa.A)(this,"log",void 0),ca(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class zh extends jh{constructor(e,t,n,r,i){super(e,t,n,new Mh(i,e.interface,r));ca(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Wh=BigInt(0);function Hh(e){return e&&"function"===typeof e.call}function Vh(e){return e&&"function"===typeof e.estimateGas}function qh(e){return e&&"function"===typeof e.resolveName}function Kh(e){return e&&"function"===typeof e.sendTransaction}function Gh(e){if(null!=e){if(qh(e))return e;if(e.provider)return e.provider}}var Jh=new WeakMap;class Yh{constructor(e,t,n){if(ta(this,Jh,void 0),(0,sa.A)(this,"fragment",void 0),ca(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=Qh(e.runner,"resolveName"),i=qh(r)?r:null;ra(Jh,this,async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>Yu(e,i)))):Yu(t,i):t)))));return e.interface.encodeFilterTopics(t,r)}())}getTopicFilter(){return ia(Jh,this)}}function Qh(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function Zh(e){return null==e?null:e.provider||null}async function Xh(e,t){const n=vl.dereference(e,"overrides");pa("object"===typeof n,"invalid overrides parameter","overrides",e);const r=Eh(n);return pa(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),pa(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function $h(e){const t=async function(t){const n=await Xh(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await Yu(n.from,Gh(e.runner)));const r=e.interface,i=Ua(n.value||Wh,"overrides.value")===Wh,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||i||pa(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),pa(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return pa(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),pa(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;fa(Kh(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),s=Zh(e.runner);return new Fh(e.interface,s,i)},r=async e=>await n(e);return ca(r,{_contract:e,estimateGas:async function(n){const r=Qh(e.runner,"estimateGas");return fa(Vh(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=Qh(e.runner,"call");fa(Hh(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(s){if(da(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}}}),r}function ef(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getFunction(t,r);return fa(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n(...r);let o={};if(s.inputs.length+1===r.length&&(o=await Xh(r.pop()),o.from&&(o.from=await Yu(o.from,Gh(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await async function(e,t,n){const r=Qh(e,"resolveName"),i=qh(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=vl.dereference(t,e),"address"===e?Yu(t,i):t))))))}(e.runner,s.inputs,r);return Object.assign({},o,await aa({to:e.getAddress(),data:e.interface.encodeFunctionData(s,a)}))},i=async function(){const e=await o(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;fa(Kh(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=Zh(e.runner);return new Fh(e.interface,i,n)},o=async function(){const t=Qh(e.runner,"call");fa(Hh(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let s="0x";try{s=await t.call(i)}catch(a){if(da(a)&&a.data)throw e.interface.makeError(a.data,i);throw a}const o=n(...arguments);return e.interface.decodeFunctionResult(o,s)},a=async function(){return n(...arguments).constant?await i(...arguments):await s(...arguments)};return ca(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=Qh(e.runner,"estimateGas");return fa(Vh(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return fa(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),a}const tf=Symbol.for("_ethersInternal_contract"),nf=new WeakMap;function rf(e){return nf.get(e[tf])}async function sf(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(Aa(t,32))return t;const n=e.interface.getEvent(t);return pa(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"===typeof t?Aa(t,32)?n=[t]:(r=e.interface.getEvent(t),pa(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):pa(!1,"unknown event name","event",t);var i;n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));return{fragment:r,tag:n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:n}}async function of(e,t){const{subs:n}=rf(e);return n.get((await sf(e,t)).tag)||null}async function af(e,t,n){const r=Zh(e.runner);fa(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await sf(e,n),{addr:a,subs:c}=rf(e);let l=c.get(s);if(!l){const t={address:a||e,topics:o},u=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];lf(e,n,o,(r=>new zh(e,r,n,s,t)))}else lf(e,n,[],(r=>new jh(e,r,n,t)))};let d=[];l={tag:s,listeners:[],start:()=>{d.length||d.push(r.on(t,u))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),r.off(t,u)}},c.set(s,l)}return l}let cf=Promise.resolve();async function lf(e,t,n,r){try{await cf}catch(s){}const i=async function(e,t,n,r){await cf;const i=await of(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:i,once:o}=t;const a=Array.from(n);r&&a.push(r(o?null:i));try{i.call(e,...a)}catch(s){}return!o})),0===i.listeners.length&&(i.stop(),rf(e).subs.delete(i.tag)),o>0}(e,t,n,r);return cf=i,await i}const uf=["then"];class df{constructor(e,t,n,r){(0,sa.A)(this,"target",void 0),(0,sa.A)(this,"interface",void 0),(0,sa.A)(this,"runner",void 0),(0,sa.A)(this,"filters",void 0),(0,sa.A)(this,tf,void 0),(0,sa.A)(this,"fallback",void 0),pa("string"===typeof e||Gu(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=gh.from(t);let s;ca(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,tf,{value:{}});let o=null,a=null;if(r){const e=Zh(n);a=new Fh(this.interface,e,r)}let c=new Map;if("string"===typeof e)if(Aa(e))o=e,s=Promise.resolve(e);else{const t=Qh(n,"resolveName");if(!qh(t))throw ha("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then((t=>{if(null==t)throw ha("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return rf(this).addr=t,t}))}else s=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return rf(this).addr=e,e}));var l,u;l=this,u={addrPromise:s,addr:o,deployTx:a,subs:c},nf.set(l[tf],u);const d=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||uf.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!ua(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>uf.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return ca(this,{filters:d}),ca(this,{fallback:i.receive||i.fallback?$h(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||uf.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!ua(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||uf.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new df(this.target,this.interface,e)}attach(e){return new df(e,this.interface,this.runner)}async getAddress(){return await rf(this).addrPromise}async getDeployedCode(){const e=Zh(this.runner);fa(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Zh(this.runner);return fa(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()}))}deploymentTransaction(){return rf(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return ef(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getEvent(t,r);return fa(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new Yh(e,n(...r),r)};return ca(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return fa(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=rf(this),s=r||await i,{fragment:o,topics:a}=await sf(this,e),c={address:s,topics:a,fromBlock:t,toBlock:n},l=Zh(this.runner);return fa(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map((e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Mh(e,this.interface,t)}catch(n){return new Dh(e,n)}return new _h(e,l)}))}async on(e,t){const n=await af(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await af(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await lf(this,e,n,null)}async listenerCount(e){if(e){const t=await of(this,e);return t?t.listeners.length:0}const{subs:t}=rf(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await of(this,e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}const{subs:t}=rf(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map((e=>{let{listener:t}=e;return t})));return n}async off(e,t){const n=await of(this,e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),rf(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await of(this,e);if(!t)return this;t.stop(),rf(this).subs.delete(t.tag)}else{const{subs:e}=rf(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends df{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class hf extends(function(){return df}()){}const ff=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function pf(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let w=1;w<r;w++)s.push(i+=n());let o=n(),a=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const d=2**31,h=d>>>1,f=h>>1,p=d-1;let g=0;for(let w=0;w<31;w++)g=g<<1|u();let m=[],v=0,y=d;for(;;){let e=Math.floor(((g-v+1)*i-1)/y),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;m.push(t);let o=v+Math.floor(y*s[t]/i),a=v+Math.floor(y*s[t+1]/i)-1;for(;0==((o^a)&h);)g=g<<1&p|u(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)g=g&h|g<<1&p>>>1|u(),o=o<<1^h,a=(a^h)<<1|h|1;v=o,y=1+a-o}let b=r-4;return m.map((t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}(e)))}function gf(e){return 1&e?~e>>1:e>>1}function mf(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=gf(t());return n}function vf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function yf(e){return wf((()=>{let t=vf(e);if(t.length)return t}))}function bf(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Ef(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Sf(n,e))}return t.flat()}function wf(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Af(e,t,n){let r=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)mf(e,n).forEach(((e,t)=>r[t].push(e)));return r}function Ef(e,t){let n=1+t(),r=t(),i=wf(t);return Af(i.length,1+e,t).flatMap(((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*r;return[s+t*n,o.map((e=>e+i))]}))}))}function Sf(e,t){return Af(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function Cf(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function _f(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function kf(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function xf(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const If=44032,Nf=4352,Tf=4449,Pf=4519,Of=28,Rf=588;function Mf(e){return e>>24&255}function Df(e){return 16777215&e}let Uf,Lf,Bf,Ff;function jf(e){return e>=If&&e<55204}function zf(e,t){if(e>=Nf&&e<4371&&t>=Tf&&t<4470)return If+(e-Nf)*Rf+(t-Tf)*Of;if(jf(e)&&t>Pf&&t<4547&&(e-If)%Of==0)return e+(t-Pf);{let n=Ff.get(e);return n&&(n=n.get(t),n)?n:-1}}function Wf(e){Uf||function(){let e=pf("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");Uf=new Map(yf(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Lf=new Set(vf(e)),Bf=new Map,Ff=new Map;for(let[t,n]of bf(e)){if(!Lf.has(t)&&2==n.length){let[e,r]=n,i=Ff.get(e);i||(i=new Map,Ff.set(e,i)),i.set(r,t)}Bf.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=Uf.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(jf(s)){let e=s-If,t=e%Rf/Of|0,n=e%Of;i(Nf+(e/Rf|0)),i(Tf+t),n>0&&i(Pf+n)}else{let e=Bf.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=Mf(t[0]);for(let n=1;n<t.length;n++){let r=Mf(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=Mf(t[--i]),e<=r)break}e=Mf(t[n])}}return t}function Hf(e){return Wf(e).map(Df)}function Vf(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=Mf(s),o=Df(s);if(-1==r)0==e?r=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),i=e;else{let s=zf(r,o);s>=0?r=s:0==i&&0==e?(t.push(r),r=o):(n.push(o),i=e)}}return r>=0&&t.push(r,...n),t}(Wf(e))}const qf=".",Kf=e=>Array.from(e);function Gf(e,t){return e.P.has(t)||e.Q.has(t)}class Jf extends Array{get is_emoji(){return!0}}let Yf,Qf,Zf,Xf,$f,ep,tp,np,rp,ip,sp,op;function ap(){if(Yf)return;let e=pf("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>vf(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));Yf=new Map(bf(e)),Qf=n(),Zf=t(),Xf=new Set(t().map((e=>Zf[e]))),Zf=new Set(Zf),$f=n(),ep=n();let i=yf(e),s=e();const o=()=>{let e=new Set;return t().forEach((t=>r(e,i[t]))),r(e,t()),e};tp=wf((t=>{let n=wf(e).map((e=>e+96));if(n.length){let r=t>=s;return n[0]-=32,n=kf(n),r&&(n="Restricted[".concat(n,"]")),{N:n,P:o(),Q:o(),M:!e(),R:r}}})),np=n(),rp=new Map;let a=t().concat(Kf(np)).sort(((e,t)=>e-t));a.forEach(((t,n)=>{let r=e(),i=a[n]=r?a[n-r]:{V:[],M:new Map};i.V.push(t),np.has(t)||rp.set(t,i)}));for(let{V:u,M:d}of new Set(rp.values())){let e=[];for(let n of u){let t=tp.filter((e=>Gf(e,n))),i=e.find((e=>{let{G:n}=e;return t.some((e=>n.has(e)))}));i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap((e=>Kf(e.G)));for(let{G:n,V:r}of e){let e=new Set(t.filter((e=>!n.has(e))));for(let t of r)d.set(t,e)}}ip=new Set;let c=new Set;const l=e=>ip.has(e)?c.add(e):ip.add(e);for(let u of tp){for(let e of u.P)l(e);for(let e of u.Q)l(e)}for(let u of ip)rp.has(u)||c.has(u)||rp.set(u,1);r(ip,Hf(ip)),sp=function(e){let t=[],n=vf(e);return function e(n,r,i){let{S:s,B:o}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of o)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){return{S:e(),B:wf((()=>{let r=vf(e).map((e=>n[e]));if(r.length)return t(r)})),Q:r}}([]),[]),t}(e).map((e=>Jf.from(e))).sort(xf),op=new Map;for(let u of sp){let e=[op];for(let t of u){let n=e.map((e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n}));65039===t?e.push(...n):e=n}for(let t of e)t.V=u}}function cp(e){return(dp(e)?"":"".concat(lp(up([e]))," "))+Cf(e)}function lp(e){return'"'.concat(e,'"\u200e')}function up(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cf,r=[];var i;i=e[0],ap(),Zf.has(i)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];dp(t)&&(r.push(kf(e.slice(s,a))),r.push(n(t)),s=a+1)}return r.push(kf(e.slice(s,o))),r.join("")}function dp(e){return ap(),$f.has(e)}function hp(e,t,n){if(!e)return[];ap();let r=0;return e.split(qf).map((e=>{let i=_f(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=vp(i,t,n),o=r.length;if(!o)throw new Error("empty label");let a=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||r[0].is_emoji)&&a.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error('invalid label extension: "'.concat(kf(e.slice(0,4)),'"'))}(a),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Zf.has(a[0]))throw mp("leading combining mark");for(let e=1;e<o;e++){let t=r[e];if(!t.is_emoji&&Zf.has(t[0]))throw mp('emoji + combining mark: "'.concat(kf(r[e-1])," + ").concat(up([t[0]]),'"'))}!function(e){let t=e[0],n=ff.get(t);if(n)throw mp("leading ".concat(n));let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=ff.get(t);if(r){if(i==s)throw mp("".concat(n," + ").concat(r));i=s+1,n=r}}if(i==r)throw mp("trailing ".concat(n))}(a);let n=Kf(new Set(t)),[i]=function(e){let t=tp;for(let n of e){let e=t.filter((e=>Gf(e,n)));if(!e.length)throw tp.some((e=>Gf(e,n)))?gp(t[0],n):pp(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Gf(e,n))throw gp(e,n);if(e.M){let e=Hf(t);for(let t=1,n=e.length;t<n;t++)if(Xf.has(e[t])){let r=t+1;for(let i;r<n&&Xf.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error("duplicate non-spacing marks: ".concat(cp(i)));if(r-t>4)throw new Error("excessive non-spacing marks: ".concat(lp(up(e.slice(t-1,r)))," (").concat(r-t,"/").concat(4,")"));t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=rp.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter((e=>t.has(e))):Kf(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every((e=>Gf(i,e))))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(i.N))}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(o){s.error=o}return s}))}function fp(e){return e.map((t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:"Invalid label ".concat(lp(up(n,63)),": ").concat(t))}return kf(i)})).join(qf)}function pp(e){return new Error("disallowed character: ".concat(cp(e)))}function gp(e,t){let n=cp(t),r=tp.find((e=>e.P.has(t)));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function mp(e){return new Error("illegal placement: ".concat(e))}function vp(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=bp(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(ip.has(t))i.push(t);else{let e=Yf.get(t);if(e)i.push(...e);else if(!Qf.has(t))throw pp(t)}}}return i.length&&r.push(t(i)),r}function yp(e){return e.filter((e=>65039!=e))}function bp(e,t){let n,r=op,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const wp=new Uint8Array(32);function Ap(e){return pa(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Ep(e){const t=Ul(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return fp(hp(e,Vf,yp))}(e)}catch(t){pa(!1,"invalid ENS name (".concat(t.message,")"),"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(Ap(t.slice(r,i))),r=i+1)}return pa(r<t.length,"invalid ENS name; empty component","name",e),n.push(Ap(t.slice(r))),n}function Sp(e){pa("string"===typeof e,"invalid ENS name; not a string","name",e),pa(e.length,"invalid ENS name (empty label)","name",e);let t=wp;const n=Ep(e);for(;n.length;)t=il(_a([t,il(n.pop())]));return Ca(t)}function Cp(e,t){const n=null!=t?t:63;return pa(n<=255,"DNS encoded label cannot exceed 255","length",n),Ca(_a(Ep(e).map((t=>{pa(t.length<=n,"label ".concat(JSON.stringify(e)," exceeds ").concat(n," bytes"),"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r}))))+"00"}wp.fill(0);class _p extends Uc{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rc(this.buffer)}update(e){wc(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Dc(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Rc(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){wc(this),Ac(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Rc(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const kp=(e,t,n)=>e&t^e&n^t&n,xp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ip=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Np=new Uint32Array(64);class Tp extends _p{constructor(){super(64,32,8,!1),this.A=0|Ip[0],this.B=0|Ip[1],this.C=0|Ip[2],this.D=0|Ip[3],this.E=0|Ip[4],this.F=0|Ip[5],this.G=0|Ip[6],this.H=0|Ip[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)Np[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=Np[d-15],t=Np[d-2],n=Mc(e,7)^Mc(e,18)^e>>>3,r=Mc(t,17)^Mc(t,19)^t>>>10;Np[d]=r+Np[d-7]+n+Np[d-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let d=0;d<64;d++){const e=l+(Mc(o,6)^Mc(o,11)^Mc(o,25))+((u=o)&a^~u&c)+xp[d]+Np[d]|0,t=(Mc(n,2)^Mc(n,13)^Mc(n,22))+kp(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}var u;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){Np.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Pp=Lc((()=>new Tp)),[Op,Rp]=(()=>Tc.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Mp=new Uint32Array(80),Dp=new Uint32Array(80);class Up extends _p{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let y=0;y<16;y++,t+=4)Mp[y]=e.getUint32(t),Dp[y]=e.getUint32(t+=4);for(let y=16;y<80;y++){const e=0|Mp[y-15],t=0|Dp[y-15],n=Tc.rotrSH(e,t,1)^Tc.rotrSH(e,t,8)^Tc.shrSH(e,t,7),r=Tc.rotrSL(e,t,1)^Tc.rotrSL(e,t,8)^Tc.shrSL(e,t,7),i=0|Mp[y-2],s=0|Dp[y-2],o=Tc.rotrSH(i,s,19)^Tc.rotrBH(i,s,61)^Tc.shrSH(i,s,6),a=Tc.rotrSL(i,s,19)^Tc.rotrBL(i,s,61)^Tc.shrSL(i,s,6),c=Tc.add4L(r,a,Dp[y-7],Dp[y-16]),l=Tc.add4H(c,n,o,Mp[y-7],Mp[y-16]);Mp[y]=0|l,Dp[y]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:v}=this;for(let y=0;y<80;y++){const e=Tc.rotrSH(u,d,14)^Tc.rotrSH(u,d,18)^Tc.rotrBH(u,d,41),t=Tc.rotrSL(u,d,14)^Tc.rotrSL(u,d,18)^Tc.rotrBL(u,d,41),b=u&h^~u&p,w=d&f^~d&g,A=Tc.add5L(v,t,w,Rp[y],Dp[y]),E=Tc.add5H(A,m,e,b,Op[y],Mp[y]),S=0|A,C=Tc.rotrSH(n,r,28)^Tc.rotrBH(n,r,34)^Tc.rotrBH(n,r,39),_=Tc.rotrSL(n,r,28)^Tc.rotrBL(n,r,34)^Tc.rotrBL(n,r,39),k=n&i^n&o^i&o,x=r&s^r&a^s&a;m=0|p,v=0|g,p=0|h,g=0|f,h=0|u,f=0|d,({h:u,l:d}=Tc.add(0|c,0|l,0|E,0|S)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const I=Tc.add3L(S,_,x);n=Tc.add3H(I,E,C,k),r=0|I}({h:n,l:r}=Tc.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=Tc.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Tc.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Tc.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Tc.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=Tc.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=Tc.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:v}=Tc.add(0|this.Hh,0|this.Hl,0|m,0|v)),this.set(n,r,i,s,o,a,c,l,u,d,h,f,p,g,m,v)}roundClean(){Mp.fill(0),Dp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Lp=Lc((()=>new Up));const Bp=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();Bp.crypto||Bp.msCrypto;function Fp(e){switch(e){case"sha256":return Pp.create();case"sha512":return Lp.create()}pa(!1,"invalid hashing algorithm name","algorithm",e)}const jp=function(e){return Fp("sha256").update(e).digest()},zp=function(e){return Fp("sha512").update(e).digest()};let Wp=jp,Hp=zp,Vp=!1,qp=!1;function Kp(e){const t=ba(e,"data");return Ca(Wp(t))}function Gp(e){const t=ba(e,"data");return Ca(Hp(t))}Kp._=jp,Kp.lock=function(){Vp=!0},Kp.register=function(e){if(Vp)throw new Error("sha256 is locked");Wp=e},Object.freeze(Kp),Gp._=zp,Gp.lock=function(){qp=!0},Gp.register=function(e){if(qp)throw new Error("sha512 is locked");Hp=e},Object.freeze(Kp);const Jp="0x0000000000000000000000000000000000000000000000000000000000000000",Yp=BigInt(0),Qp=BigInt(1),Zp=BigInt(2),Xp=BigInt(27),$p=BigInt(28),eg=BigInt(35),tg={};function ng(e){return Na(Wa(e),32)}var rg=new WeakMap,ig=new WeakMap,sg=new WeakMap,og=new WeakMap;class ag{get r(){return ia(rg,this)}set r(e){pa(32===ka(e),"invalid r","value",e),ra(rg,this,Ca(e))}get s(){return ia(ig,this)}set s(e){pa(32===ka(e),"invalid s","value",e);const t=Ca(e);pa(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),ra(ig,this,t)}get v(){return ia(sg,this)}set v(e){const t=ja(e,"value");pa(27===t||28===t,"invalid v","v",e),ra(sg,this,t)}get networkV(){return ia(og,this)}get legacyChainId(){const e=this.networkV;return null==e?null:ag.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=ba(this.s);return this.yParity&&(e[0]|=128),Ca(e)}get compactSerialized(){return _a([this.r,this.yParityAndS])}get serialized(){return _a([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){ta(this,rg,void 0),ta(this,ig,void 0),ta(this,sg,void 0),ta(this,og,void 0),va(e,tg,"Signature"),ra(rg,this,t),ra(ig,this,n),ra(sg,this,r),ra(og,this,null)}[Symbol.for("nodejs.util.inspect.custom")](){return'Signature { r: "'.concat(this.r,'", s: "').concat(this.s,'", yParity: ').concat(this.yParity,", networkV: ").concat(this.networkV," }")}clone(){const e=new ag(tg,this.r,this.s,this.v);return this.networkV&&ra(og,e,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=Ua(e,"v");return t==Xp||t==$p?Yp:(pa(t>=eg,"invalid EIP-155 v","v",e),(t-eg)/Zp)}static getChainIdV(e,t){return Ua(e)*Zp+BigInt(35+t-27)}static getNormalizedV(e){const t=Ua(e);return t===Yp||t===Xp?27:t===Qp||t===$p?28:(pa(t>=eg,"invalid v","v",e),t&Qp?27:28)}static from(e){function t(t,n){pa(t,n,"signature",e)}if(null==e)return new ag(tg,Jp,Jp,27);if("string"===typeof e){const n=ba(e,"signature");if(64===n.length){const e=Ca(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new ag(tg,e,Ca(t),r)}if(65===n.length){const e=Ca(n.slice(0,32)),r=n.slice(32,64);t(0===(128&r[0]),"non-canonical s");const i=ag.getNormalizedV(n[64]);return new ag(tg,e,Ca(r),i)}t(!1,"invalid raw signature length")}if(e instanceof ag)return e.clone();const n=e.r;t(null!=n,"missing r");const r=ng(n),i=function(e,n){if(null!=e)return ng(e);if(null!=n){t(Aa(n,32),"invalid yParityAndS");const e=ba(n);return e[0]&=127,Ca(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&ba(i)[0]),"non-canonical s");const{networkV:s,v:o}=function(e,n,r){if(null!=e){const t=Ua(e);return{networkV:t>=eg?t:void 0,v:ag.getNormalizedV(t)}}if(null!=n)return t(Aa(n,32),"invalid yParityAndS"),{v:128&ba(n)[0]?28:27};if(null!=r){switch(ja(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new ag(tg,r,i,o);return s&&ra(og,a,s),t(null==e.yParity||ja(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}BigInt(0);const cg=BigInt(1),lg=BigInt(2),ug=e=>e instanceof Uint8Array,dg=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function hg(e){if(!ug(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=dg[e[n]];return t}function fg(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function pg(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function gg(e){return fg(hg(e))}function mg(e){if(!ug(e))throw new Error("Uint8Array expected");return fg(hg(Uint8Array.from(e).reverse()))}function vg(e,t){return pg(e.toString(16).padStart(2*t,"0"))}function yg(e,t){return vg(e,t).reverse()}function bg(e,t,n){let r;if("string"===typeof t)try{r=pg(t)}catch(uD){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(uD))}else{if(!ug(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function wg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!ug(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const Ag=e=>(lg<<BigInt(e-1))-cg,Eg=e=>new Uint8Array(e),Sg=e=>Uint8Array.from(e);function Cg(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Eg(e),i=Eg(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eg();i=a(Sg([0]),e),r=a(),0!==e.length&&(i=a(Sg([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return wg(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}const _g={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=_g[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("Invalid param ".concat(String(t),"=").concat(s," (").concat(typeof s,"), expected ").concat(n))};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const xg=BigInt(0),Ig=BigInt(1),Ng=BigInt(2),Tg=BigInt(3),Pg=BigInt(4),Og=BigInt(5),Rg=BigInt(8);BigInt(9),BigInt(16);function Mg(e,t){const n=e%t;return n>=xg?n:t+n}function Dg(e,t,n){if(n<=xg||t<xg)throw new Error("Expected power/modulo > 0");if(n===Ig)return xg;let r=Ig;for(;t>xg;)t&Ig&&(r=r*e%n),e=e*e%n,t>>=Ig;return r}function Ug(e,t,n){let r=e;for(;t-- >xg;)r*=r,r%=n;return r}function Lg(e,t){if(e===xg||t<=xg)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=Mg(e,t),r=t,i=xg,s=Ig,o=Ig,a=xg;for(;n!==xg;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==Ig)throw new Error("invert: does not exist");return Mg(i,t)}function Bg(e){if(e%Pg===Tg){const t=(e+Ig)/Pg;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Rg===Og){const t=(e-Og)/Rg;return function(e,n){const r=e.mul(n,Ng),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,Ng),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Ig)/Ng;let n,r,i;for(n=e-Ig,r=0;n%Ng===xg;n/=Ng,r++);for(i=Ng;i<e&&Dg(i,t,e)!==e-Ig;i++);if(1===r){const t=(e+Ig)/Pg;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Ig)/Ng;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Ig<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const Fg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jg(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function zg(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Wg(e){const t=zg(e);return t+Math.ceil(t/2)}class Hg extends Uc{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,bc(e);const n=Dc(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return wc(this),this.iHash.update(e),this}digestInto(e){wc(this),yc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vg=(e,t,n)=>new Hg(e,t).update(n).digest();Vg.create=(e,t)=>new Hg(e,t);const qg=BigInt(0),Kg=BigInt(1);function Gg(e){return kg(e.Fp,Fg.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),kg(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,s.A)((0,s.A)((0,s.A)({},jg(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:Jg,aT:Yg}=e,Qg={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Qg;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Jg(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Qg,n="string"===typeof e?Yg(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Qg._parseInt(n.subarray(2)),{d:o,l:a}=Qg._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return"30".concat(n(o+s+4),"02").concat(c).concat(i,"02").concat(a).concat(r)}},Zg=BigInt(0),Xg=BigInt(1),$g=(BigInt(2),BigInt(3));BigInt(4);function em(e){const t=function(e){const t=Gg(e);kg(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze((0,s.A)({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return wg(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&Zg<e&&e<t.n}function c(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=hg(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:gg(bg("private key",e,r))}catch(a){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(o=Mg(o,s)),c(o),o}const u=new Map;function d(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(bg("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(e);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,$g),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(s,s),f=n.mul(o,o),p=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,g),l=n.add(l,d),p=n.mul(o,a),p=n.add(p,p),d=n.mul(p,g),c=n.sub(c,d),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new h(c,l,u)}add(e){d(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,u=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,$g);let m=n.mul(r,o),v=n.mul(i,a),y=n.mul(s,c),b=n.add(r,i),w=n.add(o,a);b=n.mul(b,w),w=n.add(m,v),b=n.sub(b,w),w=n.add(r,s);let A=n.add(o,c);return w=n.mul(w,A),A=n.add(m,y),w=n.sub(w,A),A=n.add(i,s),l=n.add(a,c),A=n.mul(A,l),l=n.add(v,y),A=n.sub(A,l),f=n.mul(p,w),l=n.mul(g,y),f=n.add(l,f),l=n.sub(v,f),f=n.add(v,f),u=n.mul(l,f),v=n.add(m,m),v=n.add(v,m),y=n.mul(p,y),w=n.mul(g,w),v=n.add(v,y),y=n.sub(m,y),y=n.mul(p,y),w=n.add(w,y),m=n.mul(v,w),u=n.add(u,m),m=n.mul(A,w),l=n.mul(b,l),l=n.sub(l,m),m=n.mul(b,v),f=n.mul(A,f),f=n.add(f,m),new h(l,u,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return p.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}))}multiplyUnsafe(e){const r=h.ZERO;if(e===Zg)return r;if(c(e),e===Xg)return this;const{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:l}=i.splitScalar(e),u=r,d=r,f=this;for(;o>Zg||l>Zg;)o&Xg&&(u=u.add(f)),l&Xg&&(d=d.add(f)),f=f.double(),o>>=Xg,l>>=Xg;return s&&(u=u.negate()),a&&(d=d.negate()),d=new h(n.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(e){c(e);let r,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:d,f:f}=this.wNAF(c);l=p.constTimeNegate(e,l),d=p.constTimeNegate(a,d),d=new h(n.mul(d.px,o.beta),d.py,d.pz),r=l.add(d),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==Zg&&t!==Xg&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const o=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Xg)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Xg?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return hg(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>qg;)n&Kg&&(r=r.add(i)),i=i.double(),n>>=Kg;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let o=e,a=o;for(let r=0;r<n;r++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let r=Number(s&u);s>>=h,r>a&&(r-=d,s+=Kg);const o=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?l=l.add(n(p,i[o])):c=c.add(n(g,i[f]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(h,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function tm(e){const t=function(e){const t=Gg(e);return kg(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,s.A)({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return Mg(e,r)}function c(e){return Lg(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=em((0,s.A)((0,s.A)({},t),{},{toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=wg;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}{const e=gg(s);if(!(Zg<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=d(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Xg)===Xg)&&(i=n.neg(i)),{x:e,y:i}}var a}})),f=e=>hg(vg(e,t.nByteLength));function p(e){return e>r>>Xg}const g=(e,t,n)=>gg(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=bg("compactSignature",e,2*n),new m(g(e,0,n),g(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Qg.toSig(bg("DER",e));return new m(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,o=w(bg("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&s)?"02":"03",h=l.fromHex(d+f(u)),p=c(u),g=a(-o*p),m=a(i*p),v=l.BASE.multiplyAndAddUnsafe(h,g,m);if(!v)throw new Error("point at infinify");return v.assertValidity(),v}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return pg(this.toDERHex())}toDERHex(){return Qg.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return pg(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const v={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Wg(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=zg(t),s=Wg(t);if(r<16||r<s||r>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(r));const o=Mg(n?gg(e):mg(e),t-Ig)+Ig;return n?yg(o,i):vg(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const b=t.bits2int||function(e){const n=gg(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return a(b(e))},A=Ag(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Zg<=e&&e<A))throw new Error("bigint expected < 2^".concat(t.nBitLength));return vg(e,t.nByteLength)}function S(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:d,prehash:f,extraEntropy:g}=i;null==d&&(d=!0),e=bg("msgHash",e),f&&(e=bg("prehashed msgHash",s(e)));const v=w(e),y=u(r),A=[E(y),E(v)];if(null!=g){const e=!0===g?o(n.BYTES):g;A.push(bg("extraEntropy",e))}const S=wg(...A),_=v;return{seed:S,k2sig:function(e){const t=b(e);if(!h(t))return;const n=c(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===Zg)return;const s=a(n*a(_+i*y));if(s===Zg)return;let o=(r.x===i?0:2)|Number(r.y&Xg),u=s;return d&&p(s)&&(u=function(e){return p(e)?a(-e):e}(s),o^=1),new m(i,u,o)}}}const C={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;const{seed:i,k2sig:s}=S(e,n,r),o=t;return Cg(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){var i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;const o=e;if(n=bg("msgHash",n),r=bg("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=s;let h,f;try{if("string"===typeof o||o instanceof Uint8Array)try{h=m.fromDER(o)}catch(S){if(!(S instanceof Qg.Err))throw S;h=m.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;h=new m(e,t)}}f=l.fromHex(r)}catch(C){if("PARSE"===C.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:p,s:g}=h,v=w(n),y=c(g),b=a(v*y),A=a(p*y),E=null===(i=l.BASE.multiplyAndAddUnsafe(f,b,A))||void 0===i?void 0:i.toAffine();return!!E&&a(E.x)===p},ProjectivePoint:l,Signature:m,utils:v}}function nm(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Vg(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!Oc(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:Bc}}const rm=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),im=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sm=BigInt(1),om=BigInt(2),am=(e,t)=>(e+t/om)/t;function cm(e){const t=rm,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Ug(u,n,t)*u%t,h=Ug(d,n,t)*u%t,f=Ug(h,om,t)*l%t,p=Ug(f,i,t)*f%t,g=Ug(p,s,t)*p%t,m=Ug(g,a,t)*g%t,v=Ug(m,c,t)*m%t,y=Ug(v,a,t)*g%t,b=Ug(y,n,t)*u%t,w=Ug(b,o,t)*p%t,A=Ug(w,r,t)*l%t,E=Ug(A,om,t);if(!lm.eql(lm.sqr(E),e))throw new Error("Cannot find square root");return E}const lm=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=xg)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:s}=jg(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Bg(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Ag(i),ZERO:xg,ONE:Ig,create:t=>Mg(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return xg<=t&&t<e},is0:e=>e===xg,isOdd:e=>(e&Ig)===Ig,neg:t=>Mg(-t,e),eql:(e,t)=>e===t,sqr:t=>Mg(t*t,e),add:(t,n)=>Mg(t+n,e),sub:(t,n)=>Mg(t-n,e),mul:(t,n)=>Mg(t*n,e),pow:(e,t)=>function(e,t,n){if(n<xg)throw new Error("Expected power > 0");if(n===xg)return e.ONE;if(n===Ig)return t;let r=e.ONE,i=t;for(;n>xg;)n&Ig&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ig;return r}(a,e,t),div:(t,n)=>Mg(t*Lg(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Lg(t,e),sqrt:r.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?yg(e,s):vg(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(e.length));return n?mg(e):gg(e)}});return Object.freeze(a)}(rm,void 0,void 0,{sqrt:cm}),um=function(e,t){const n=t=>tm((0,s.A)((0,s.A)({},e),nm(t)));return Object.freeze((0,s.A)((0,s.A)({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:lm,n:im,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=im,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=am(s*e,t),c=am(-r*e,t);let l=Mg(e-a*n-c*i,t),u=Mg(-a*r-c*s,t);const d=l>o,h=u>o;if(d&&(l=t-l),h&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Pp);BigInt(0);um.ProjectivePoint;var dm=new WeakMap;class hm{constructor(e){ta(this,dm,void 0),pa(32===ka(e),"invalid private key","privateKey","[REDACTED]"),ra(dm,this,Ca(e))}get privateKey(){return ia(dm,this)}get publicKey(){return hm.computePublicKey(ia(dm,this))}get compressedPublicKey(){return hm.computePublicKey(ia(dm,this),!0)}sign(e){pa(32===ka(e),"invalid digest length","digest",e);const t=um.sign(wa(e),wa(ia(dm,this)),{lowS:!0});return ag.from({r:za(t.r,32),s:za(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=hm.computePublicKey(e);return Ca(um.getSharedSecret(wa(ia(dm,this)),ba(t),!1))}static computePublicKey(e,t){let n=ba(e,"key");if(32===n.length){return Ca(um.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return Ca(um.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){pa(32===ka(e),"invalid digest length","digest",e);const n=ag.from(t);let r=um.Signature.fromCompact(wa(_a([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(wa(e));return pa(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=um.ProjectivePoint.fromHex(hm.computePublicKey(e).substring(2)),i=um.ProjectivePoint.fromHex(hm.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function fm(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function pm(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function gm(e,t,n,r){const i=[];for(;n<t+1+r;){const s=mm(e,n);i.push(s.result),fa((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function mm(e,t){fa(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{fa(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=pm(e,t+1,r);return n(t+1+r+i),gm(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),gm(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=pm(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:Ca(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:Ca(e.slice(t+1,t+1+r))}}return{consumed:1,result:fm(e[t])}}function vm(e){const t=ba(e,"data"),n=mm(t,0);return pa(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function ym(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function bm(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(bm(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=ym(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(ba(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=ym(t.length);return n.unshift(183+n.length),n.concat(t)}const wm="0123456789abcdef";function Am(e){let t="0x";for(const n of bm(e))t+=wm[n>>4],t+=wm[15&n];return t}function Em(e,t){return function(e){let t;return t="string"===typeof e?hm.computePublicKey(e,!1):e.publicKey,dl(il("0x"+t.substring(4)).substring(26))}(hm.recoverPublicKey(e,t))}const Sm=BigInt(0),Cm=BigInt(2),_m=BigInt(27),km=BigInt(28),xm=BigInt(35),Im=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Nm=131072;function Tm(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=Kp(t).substring(4),"0x"+n}function Pm(e){return"0x"===e?null:dl(e)}function Om(e,t){try{return vd(e)}catch(n){pa(!1,n.message,t,e)}}function Rm(e,t){return"0x"===e?0:ja(e,t)}function Mm(e,t){if("0x"===e)return Sm;const n=Ua(e,t);return pa(n<=Im,"value exceeds uint size",t,n),n}function Dm(e,t){const n=Ua(e,"value"),r=Wa(n);return pa(r.length<=32,"value too large","tx.".concat(t),n),r}function Um(e){return vd(e).map((e=>[e.address,e.storageKeys]))}function Lm(e,t){pa(Array.isArray(e),"invalid ".concat(t),"value",e);for(let n=0;n<e.length;n++)pa(Aa(e[n],32),"invalid ${ param } hash","value[".concat(n,"]"),e[n]);return e}function Bm(e,t){let n;try{if(n=Rm(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(o){pa(!1,"invalid yParity","yParity",t[0])}const r=Na(t[1],32),i=Na(t[2],32),s=ag.from({r:r,s:i,yParity:n});e.signature=s}var Fm=new WeakMap,jm=new WeakMap,zm=new WeakMap,Wm=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,qm=new WeakMap,Km=new WeakMap,Gm=new WeakMap,Jm=new WeakMap,Ym=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,Xm=new WeakMap,$m=new WeakMap,ev=new WeakMap,tv=new WeakSet;class nv{get type(){return ia(Fm,this)}set type(e){switch(e){case null:ra(Fm,this,null);break;case 0:case"legacy":ra(Fm,this,0);break;case 1:case"berlin":case"eip-2930":ra(Fm,this,1);break;case 2:case"london":case"eip-1559":ra(Fm,this,2);break;case 3:case"cancun":case"eip-4844":ra(Fm,this,3);break;default:pa(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=ia(jm,this);return null==e&&3===this.type?rh:e}set to(e){ra(jm,this,null==e?null:dl(e))}get nonce(){return ia(Wm,this)}set nonce(e){ra(Wm,this,ja(e,"value"))}get gasLimit(){return ia(Hm,this)}set gasLimit(e){ra(Hm,this,Ua(e))}get gasPrice(){const e=ia(Vm,this);return null!=e||0!==this.type&&1!==this.type?e:Sm}set gasPrice(e){ra(Vm,this,null==e?null:Ua(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=ia(qm,this);return null==e?2===this.type||3===this.type?Sm:null:e}set maxPriorityFeePerGas(e){ra(qm,this,null==e?null:Ua(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=ia(Km,this);return null==e?2===this.type||3===this.type?Sm:null:e}set maxFeePerGas(e){ra(Km,this,null==e?null:Ua(e,"maxFeePerGas"))}get data(){return ia(zm,this)}set data(e){ra(zm,this,Ca(e))}get value(){return ia(Gm,this)}set value(e){ra(Gm,this,Ua(e,"value"))}get chainId(){return ia(Jm,this)}set chainId(e){ra(Jm,this,Ua(e))}get signature(){return ia(Ym,this)||null}set signature(e){ra(Ym,this,null==e?null:ag.from(e))}get accessList(){const e=ia(Qm,this)||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){ra(Qm,this,null==e?null:vd(e))}get maxFeePerBlobGas(){const e=ia(Zm,this);return null==e&&3===this.type?Sm:e}set maxFeePerBlobGas(e){ra(Zm,this,null==e?null:Ua(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=ia(Xm,this);return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){pa(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)pa(Aa(e[t],32),"invalid blobVersionedHash","value[".concat(t,"]"),e[t])}ra(Xm,this,e)}get blobs(){return null==ia(ev,this)?null:ia(ev,this).map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void ra(ev,this,null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(Ea(i)){fa(ia($m,this),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=ba(i);if(pa(e.length<=Nm,"blob is too large","blobs[".concat(r,"]"),i),e.length!==Nm){const t=new Uint8Array(Nm);t.set(e),e=t}const s=ia($m,this).blobToKzgCommitment(e),o=Ca(ia($m,this).computeBlobKzgProof(e,s));t.push({data:Ca(e),commitment:Ca(s),proof:o}),n.push(Tm(1,s))}else{const e=Ca(i.commitment);t.push({data:Ca(i.data),commitment:e,proof:Ca(i.proof)}),n.push(Tm(1,e))}}ra(ev,this,t),ra(Xm,this,n)}get kzg(){return ia($m,this)}set kzg(e){ra($m,this,e)}constructor(){ea(this,tv),ta(this,Fm,void 0),ta(this,jm,void 0),ta(this,zm,void 0),ta(this,Wm,void 0),ta(this,Hm,void 0),ta(this,Vm,void 0),ta(this,qm,void 0),ta(this,Km,void 0),ta(this,Gm,void 0),ta(this,Jm,void 0),ta(this,Ym,void 0),ta(this,Qm,void 0),ta(this,Zm,void 0),ta(this,Xm,void 0),ta(this,$m,void 0),ta(this,ev,void 0),ra(Fm,this,null),ra(jm,this,null),ra(Wm,this,0),ra(Hm,this,Sm),ra(Vm,this,null),ra(qm,this,null),ra(Km,this,null),ra(zm,this,"0x"),ra(Gm,this,Sm),ra(Jm,this,Sm),ra(Ym,this,null),ra(Qm,this,null),ra(Zm,this,null),ra(Xm,this,null),ra(ev,this,null),ra($m,this,null)}get hash(){return null==this.signature?null:il(na(tv,this,rv).call(this,!0,!1))}get unsignedHash(){return il(this.unsignedSerialized)}get from(){return null==this.signature?null:Em(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:hm.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){return na(tv,this,rv).call(this,!0,!0)}get unsignedSerialized(){return na(tv,this,rv).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=ia(Zm,this)||ia(Xm,this);null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&fa(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),fa(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),fa(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return nv.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new nv;if("string"===typeof e){const t=ba(e);if(t[0]>=127)return nv.from(function(e){const t=vm(e);pa(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:Rm(t[0],"nonce"),gasPrice:Mm(t[1],"gasPrice"),gasLimit:Mm(t[2],"gasLimit"),to:Pm(t[3]),value:Mm(t[4],"value"),data:Ca(t[5]),chainId:Sm};if(6===t.length)return n;const r=Mm(t[6],"v"),i=Mm(t[7],"r"),s=Mm(t[8],"s");if(i===Sm&&s===Sm)n.chainId=r;else{let e=(r-xm)/Cm;e<Sm&&(e=Sm),n.chainId=e,pa(e!==Sm||r===_m||r===km,"non-canonical legacy v","v",t[6]),n.signature=ag.from({r:Na(t[7],32),s:Na(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return nv.from(function(e){const t=vm(ba(e).slice(1));pa(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",Ca(e));const n={type:1,chainId:Mm(t[0],"chainId"),nonce:Rm(t[1],"nonce"),gasPrice:Mm(t[2],"gasPrice"),gasLimit:Mm(t[3],"gasLimit"),to:Pm(t[4]),value:Mm(t[5],"value"),data:Ca(t[6]),accessList:Om(t[7],"accessList")};return 8===t.length||Bm(n,t.slice(8)),n}(t));case 2:return nv.from(function(e){const t=vm(ba(e).slice(1));pa(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",Ca(e));const n={type:2,chainId:Mm(t[0],"chainId"),nonce:Rm(t[1],"nonce"),maxPriorityFeePerGas:Mm(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Mm(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Mm(t[4],"gasLimit"),to:Pm(t[5]),value:Mm(t[6],"value"),data:Ca(t[7]),accessList:Om(t[8],"accessList")};return 9===t.length||Bm(n,t.slice(9)),n}(t));case 3:return nv.from(function(e){let t=vm(ba(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],i=t[2],s=t[3];pa(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),pa(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),pa(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),pa(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),pa(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:i[n],proof:s[n]});t=t[0]}pa(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: ".concat(n),"data",Ca(e));const i={type:3,chainId:Mm(t[0],"chainId"),nonce:Rm(t[1],"nonce"),maxPriorityFeePerGas:Mm(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Mm(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Mm(t[4],"gasLimit"),to:Pm(t[5]),value:Mm(t[6],"value"),data:Ca(t[7]),accessList:Om(t[8],"accessList"),maxFeePerBlobGas:Mm(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(i.blobs=r),pa(null!=i.to,"invalid address for transaction type: ".concat(n),"data",e),pa(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<i.blobVersionedHashes.length;s++)pa(Aa(i.blobVersionedHashes[s],32),"invalid blobVersionedHash at index ".concat(s,": must be length 32"),"data",e);return 11===t.length||Bm(i,t.slice(11)),i}(t))}fa(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new nv;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=ag.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(pa(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),pa(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(pa(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),pa(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function rv(e,t){fa(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[Dm(e.nonce,"nonce"),Dm(e.gasPrice||0,"gasPrice"),Dm(e.gasLimit,"gasLimit"),e.to||"0x",Dm(e.value,"value"),e.data];let r=Sm;if(e.chainId!=Sm)r=Ua(e.chainId,"tx.chainId"),pa(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==Sm&&(n.push(Wa(r)),n.push("0x"),n.push("0x")),Am(n);let i=BigInt(27+t.yParity);return r!==Sm?i=ag.getChainIdV(r,t.v):BigInt(t.v)!==i&&pa(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(Wa(i)),n.push(Wa(t.r)),n.push(Wa(t.s)),Am(n)}(this,n);case 1:return function(e,t){const n=[Dm(e.chainId,"chainId"),Dm(e.nonce,"nonce"),Dm(e.gasPrice||0,"gasPrice"),Dm(e.gasLimit,"gasLimit"),e.to||"0x",Dm(e.value,"value"),e.data,Um(e.accessList||[])];return t&&(n.push(Dm(t.yParity,"recoveryParam")),n.push(Wa(t.r)),n.push(Wa(t.s))),_a(["0x01",Am(n)])}(this,n);case 2:return function(e,t){const n=[Dm(e.chainId,"chainId"),Dm(e.nonce,"nonce"),Dm(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dm(e.maxFeePerGas||0,"maxFeePerGas"),Dm(e.gasLimit,"gasLimit"),e.to||"0x",Dm(e.value,"value"),e.data,Um(e.accessList||[])];return t&&(n.push(Dm(t.yParity,"yParity")),n.push(Wa(t.r)),n.push(Wa(t.s))),_a(["0x02",Am(n)])}(this,n);case 3:return function(e,t,n){const r=[Dm(e.chainId,"chainId"),Dm(e.nonce,"nonce"),Dm(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dm(e.maxFeePerGas||0,"maxFeePerGas"),Dm(e.gasLimit,"gasLimit"),e.to||rh,Dm(e.value,"value"),e.data,Um(e.accessList||[]),Dm(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Lm(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(Dm(t.yParity,"yParity")),r.push(Wa(t.r)),r.push(Wa(t.s)),n)?_a(["0x03",Am([r,n.map((e=>e.data)),n.map((e=>e.commitment)),n.map((e=>e.proof))])]):_a(["0x03",Am(r)])}(this,n,t?this.blobs:null)}fa(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}const iv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const sv=BigInt(58);var ov;function av(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):pa(!1,"unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}class cv{constructor(e){(0,sa.A)(this,"name",void 0),ca(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const lv=new RegExp("^(ipfs)://(.*)$","i"),uv=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),lv,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var dv=new WeakMap,hv=new WeakMap,fv=new WeakSet;class pv{constructor(e,t,n){ea(this,fv),(0,sa.A)(this,"provider",void 0),(0,sa.A)(this,"address",void 0),(0,sa.A)(this,"name",void 0),ta(this,dv,void 0),ta(this,hv,void 0),ca(this,{provider:e,address:t,name:n}),ra(dv,this,null),ra(hv,this,new hf(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return null==ia(dv,this)&&ra(dv,this,(async()=>{try{return await ia(hv,this).supportsInterface("0x9061b923")}catch(e){if(ua(e,"CALL_EXCEPTION"))return!1;throw ra(dv,this,null),e}})()),await ia(dv,this)}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await na(fv,this,gv).call(this,"addr(bytes32)");return null==e||e===rh?null:e}catch(i){if(ua(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await na(fv,this,gv).call(this,"addr(bytes32,uint)",[t]);if(Aa(n,20))return dl(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof cv&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await na(fv,this,gv).call(this,"addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;fa(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(e,")"),info:{coinType:e,data:n}})}async getText(e){const t=await na(fv,this,gv).call(this,"text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await na(fv,this,gv).call(this,"contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return"".concat(e,"://").concat(function(e){const t=ba(e);let n=Fa(t),r="";for(;n;)r=iv[Number(n%sv)]+r,n/=sv;for(let i=0;i<t.length&&!t[i];i++)r=iv[0]+r;return r}("0x"+t[2]))}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://".concat(n[1]);fa(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<uv.length;r++){const i=n.match(uv[r]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=av(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(null==o)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(i[2]||"").split("/");if(2!==a.length)return e.push({type:"!".concat(s,"caip"),value:i[2]||""}),{url:null,linkage:e};const c=a[1],l=new hf(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await l.ownerOf(c);if(o!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await l.balanceOf(o,c);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await l[r](c);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",za(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=av(u)),e.push({type:"metadata-url",value:u});let d={};const h=await new Gd(u).send();h.assertOk();try{d=h.bodyJson}catch(t){try{e.push({type:"!metadata",value:h.bodyText})}catch(t){const n=h.body;return n&&e.push({type:"!metadata",value:Ca(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let f=d.image;if("string"!==typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(lv))return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=av(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return fa(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await mv.call(pv,e,n);if(null!=r){const i=new pv(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}async function gv(e,t){t=(t||[]).slice();const n=ia(hv,this).interface;t.unshift(Sp(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),fa(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Cp(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await ia(hv,this)[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!ua(i,"CALL_EXCEPTION"))throw i}return null}async function mv(e,t){const n=await ov.getEnsAddress(e);try{const r=new hf(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(Sp(t),{enableCcipRead:!0});return i===rh?null:i}catch(r){throw r}return null}ov=pv;const vv=BigInt(0);function yv(e,t){return function(n){return null==n?t:e(n)}}function bv(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function wv(e,t){return n=>{const r={};for(const s in e){let o=s;if(t&&s in t&&!(o in n))for(const e of t[s])if(e in n){o=e;break}try{const t=e[s](n[o]);void 0!==t&&(r[s]=t)}catch(i){const e=i instanceof Error?i.message:"not-an-error";fa(!1,"invalid value for value.".concat(s," (").concat(e,")"),"BAD_DATA",{value:n})}}return r}}function Av(e){return pa(Aa(e,!0),"invalid data","value",e),e}function Ev(e){return pa(Aa(e,32),"invalid hash","value",e),e}const Sv=wv({address:dl,blockHash:Ev,blockNumber:ja,data:Av,index:ja,removed:yv((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}pa(!1,"invalid boolean; ".concat(JSON.stringify(e)),"value",e)}),!1),topics:bv(Ev),transactionHash:Ev,transactionIndex:ja},{index:["logIndex"]});const Cv=wv({hash:yv(Ev),parentHash:Ev,parentBeaconBlockRoot:yv(Ev,null),number:ja,timestamp:ja,nonce:yv(Av),difficulty:Ua,gasLimit:Ua,gasUsed:Ua,stateRoot:yv(Ev,null),receiptsRoot:yv(Ev,null),blobGasUsed:yv(Ua,null),excessBlobGas:yv(Ua,null),miner:yv(dl),prevRandao:yv(Ev,null),extraData:Av,baseFeePerGas:yv(Ua)},{prevRandao:["mixHash"]});const _v=wv({transactionIndex:ja,blockNumber:ja,transactionHash:Ev,address:dl,topics:bv(Ev),data:Av,index:ja,blockHash:Ev},{index:["logIndex"]});const kv=wv({to:yv(dl,null),from:yv(dl,null),contractAddress:yv(dl,null),index:ja,root:yv(Ca),gasUsed:Ua,blobGasUsed:yv(Ua,null),logsBloom:yv(Av),blockHash:Ev,hash:Ev,logs:bv((function(e){return _v(e)})),blockNumber:ja,cumulativeGasUsed:Ua,effectiveGasPrice:yv(Ua),blobGasPrice:yv(Ua,null),status:yv(ja),type:yv(ja,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function xv(e){e.to&&Ua(e.to)===vv&&(e.to="0x0000000000000000000000000000000000000000");const t=wv({hash:Ev,index:yv(ja,void 0),type:e=>"0x"===e||null==e?0:ja(e),accessList:yv(vd,null),blobVersionedHashes:yv(bv(Ev,!0),null),blockHash:yv(Ev,null),blockNumber:yv(ja,null),transactionIndex:yv(ja,null),from:dl,gasPrice:yv(Ua),maxPriorityFeePerGas:yv(Ua),maxFeePerGas:yv(Ua),maxFeePerBlobGas:yv(Ua,null),gasLimit:Ua,to:yv(dl,null),value:Ua,nonce:ja,data:Av,creates:yv(dl,null),chainId:yv(Ua,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=dl(e.from);let n=Ua(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,dl(xa(il(Am([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=ag.from(e.signature):t.signature=ag.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&Ua(t.blockHash)===vv&&(t.blockHash=null),t}class Iv{constructor(e){(0,sa.A)(this,"name",void 0),ca(this,{name:e})}clone(){return new Iv(this.name)}}class Nv extends Iv{constructor(e,t){null==e&&(e=0),super("org.ethers.network.plugins.GasCost#".concat(e||0)),(0,sa.A)(this,"effectiveBlock",void 0),(0,sa.A)(this,"txBase",void 0),(0,sa.A)(this,"txCreate",void 0),(0,sa.A)(this,"txDataZero",void 0),(0,sa.A)(this,"txDataNonzero",void 0),(0,sa.A)(this,"txAccessListStorageKey",void 0),(0,sa.A)(this,"txAccessListAddress",void 0);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),pa("number"===typeof i,"invalud value for ".concat(e),"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),ca(this,n)}clone(){return new Nv(this.effectiveBlock,this)}}class Tv extends Iv{constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,sa.A)(this,"address",void 0),(0,sa.A)(this,"targetNetwork",void 0),ca(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new Tv(this.address,this.targetNetwork)}}var Pv=new WeakMap,Ov=new WeakMap;class Rv extends Iv{get url(){return ia(Pv,this)}get processFunc(){return ia(Ov,this)}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),ta(this,Pv,void 0),ta(this,Ov,void 0),ra(Pv,this,e),ra(Ov,this,t)}clone(){return this}}const Mv=new Map;var Dv=new WeakMap,Uv=new WeakMap,Lv=new WeakMap;class Bv{constructor(e,t){ta(this,Dv,void 0),ta(this,Uv,void 0),ta(this,Lv,void 0),ra(Dv,this,e),ra(Uv,this,Ua(t)),ra(Lv,this,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return ia(Dv,this)}set name(e){ra(Dv,this,e)}get chainId(){return ia(Uv,this)}set chainId(e){ra(Uv,this,Ua(e,"chainId"))}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===Ua(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===Ua(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===Ua(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(ia(Lv,this).values())}attachPlugin(e){if(ia(Lv,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return ia(Lv,this).set(e.name,e.clone()),this}getPlugin(e){return ia(Lv,this).get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Bv(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Nv;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=vd(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(zv)return;function e(e,t,n){const r=function(){const r=new Bv(e,t);return null!=n.ensNetwork&&r.attachPlugin(new Tv(null,n.ensNetwork)),r.attachPlugin(new Nv),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};Bv.register(e,r),Bv.register(t,r),n.altNames&&n.altNames.forEach((e=>{Bv.register(e,r)}))}zv=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[jv("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[jv("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return Bv.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=Mv.get(e);if(t)return t();if("bigint"===typeof e)return new Bv("unknown",e);pa(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){pa("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Bv(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new Tv(e.ensAddress,e.ensNetwork)),t}pa(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=Mv.get(e);n&&pa(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",e),Mv.set(e,t)}}function Fv(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error("invalid gwei value: ".concat(e));const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error("invalid gwei value: ".concat(e));for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function jv(e){return new Rv(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Fv(s.maxFee,9),maxPriorityFeePerGas:Fv(s.maxPriorityFee,9)}}catch(i){fa(!1,"error encountered with polygon gas station (".concat(JSON.stringify(n.url),")"),"SERVER_ERROR",{request:n,response:r,error:i})}}))}let zv=!1;function Wv(e){return JSON.parse(JSON.stringify(e))}var Hv=new WeakMap,Vv=new WeakMap,qv=new WeakMap,Kv=new WeakMap,Gv=new WeakSet;class Jv{constructor(e){ea(this,Gv),ta(this,Hv,void 0),ta(this,Vv,void 0),ta(this,qv,void 0),ta(this,Kv,void 0),ra(Hv,this,e),ra(Vv,this,null),ra(qv,this,4e3),ra(Kv,this,-2)}get pollingInterval(){return ia(qv,this)}set pollingInterval(e){ra(qv,this,e)}start(){ia(Vv,this)||(ra(Vv,this,ia(Hv,this)._setTimeout(na(Gv,this,Yv).bind(this),ia(qv,this))),na(Gv,this,Yv).call(this))}stop(){ia(Vv,this)&&(ia(Hv,this)._clearTimeout(ia(Vv,this)),ra(Vv,this,null))}pause(e){this.stop(),e&&ra(Kv,this,-2)}resume(){this.start()}}async function Yv(){try{const e=await ia(Hv,this).getBlockNumber();if(-2===ia(Kv,this))return void ra(Kv,this,e);if(e!==ia(Kv,this)){for(let t=ia(Kv,this)+1;t<=e;t++){if(null==ia(Vv,this))return;await ia(Hv,this).emit("block",t)}ra(Kv,this,e)}}catch(e){}null!=ia(Vv,this)&&ra(Vv,this,ia(Hv,this)._setTimeout(na(Gv,this,Yv).bind(this),ia(qv,this)))}var Qv=new WeakMap,Zv=new WeakMap,Xv=new WeakMap;class $v{constructor(e){ta(this,Qv,void 0),ta(this,Zv,void 0),ta(this,Xv,void 0),ra(Qv,this,e),ra(Xv,this,!1),ra(Zv,this,(e=>{this._poll(e,ia(Qv,this))}))}async _poll(e,t){throw new Error("sub-classes must override this")}start(){ia(Xv,this)||(ra(Xv,this,!0),ia(Zv,this).call(this,-2),ia(Qv,this).on("block",ia(Zv,this)))}stop(){ia(Xv,this)&&(ra(Xv,this,!1),ia(Qv,this).off("block",ia(Zv,this)))}pause(e){this.stop()}resume(){this.start()}}var ey=new WeakMap,ty=new WeakMap;class ny extends $v{constructor(e,t){super(e),ta(this,ey,void 0),ta(this,ty,void 0),ra(ey,this,t),ra(ty,this,-2)}pause(e){e&&ra(ty,this,-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(ia(ey,this));null!=n&&(-2===ia(ty,this)?ra(ty,this,n.number):n.number>ia(ty,this)&&(t.emit(ia(ey,this),n.number),ra(ty,this,n.number)))}}var ry=new WeakMap;class iy extends $v{constructor(e,t){super(e),ta(this,ry,void 0),ra(ry,this,Wv(t))}async _poll(e,t){throw new Error("@TODO")}}var sy=new WeakMap;class oy extends $v{constructor(e,t){super(e),ta(this,sy,void 0),ra(sy,this,t)}async _poll(e,t){const n=await t.getTransactionReceipt(ia(sy,this));n&&t.emit(ia(sy,this),n)}}var ay=new WeakMap,cy=new WeakMap,ly=new WeakMap,uy=new WeakMap,dy=new WeakMap,hy=new WeakSet;class fy{constructor(e,t){ea(this,hy),ta(this,ay,void 0),ta(this,cy,void 0),ta(this,ly,void 0),ta(this,uy,void 0),ta(this,dy,void 0),ra(ay,this,e),ra(cy,this,Wv(t)),ra(ly,this,na(hy,this,py).bind(this)),ra(uy,this,!1),ra(dy,this,-2)}start(){ia(uy,this)||(ra(uy,this,!0),-2===ia(dy,this)&&ia(ay,this).getBlockNumber().then((e=>{ra(dy,this,e)})),ia(ay,this).on("block",ia(ly,this)))}stop(){ia(uy,this)&&(ra(uy,this,!1),ia(ay,this).off("block",ia(ly,this)))}pause(e){this.stop(),e&&ra(dy,this,-2)}resume(){this.start()}}async function py(e){if(-2===ia(dy,this))return;const t=Wv(ia(cy,this));t.fromBlock=ia(dy,this)+1,t.toBlock=e;const n=await ia(ay,this).getLogs(t);if(0!==n.length)for(const r of n)ia(ay,this).emit(ia(cy,this),r),ra(dy,this,r.blockNumber);else ia(dy,this)<e-60&&ra(dy,this,e-60)}const gy=BigInt(2);function my(e){return e&&"function"===typeof e.then}function vy(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return"bigint:".concat(t.toString());if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class yy{constructor(e){(0,sa.A)(this,"name",void 0),ca(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function by(e){return(e=Array.from(new Set(e).values())).sort(),e}async function wy(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(Aa(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:vy("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:vy("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?by(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],i=[],s=n=>{Aa(n)?e.push(n):i.push((async()=>{e.push(await Yu(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=by(e.map((e=>e.toLowerCase())))}return{filter:r,tag:vy("event",r),type:"event"}}pa(!1,"unknown ProviderEvent","event",e)}function Ay(){return(new Date).getTime()}const Ey={cacheTimeout:250,pollingInterval:4e3};var Sy=new WeakMap,Cy=new WeakMap,_y=new WeakMap,ky=new WeakMap,xy=new WeakMap,Iy=new WeakMap,Ny=new WeakMap,Ty=new WeakMap,Py=new WeakMap,Oy=new WeakMap,Ry=new WeakMap,My=new WeakMap,Dy=new WeakSet;class Uy{constructor(e,t){if(ea(this,Dy),ta(this,Sy,void 0),ta(this,Cy,void 0),ta(this,_y,void 0),ta(this,ky,void 0),ta(this,xy,void 0),ta(this,Iy,void 0),ta(this,Ny,void 0),ta(this,Ty,void 0),ta(this,Py,void 0),ta(this,Oy,void 0),ta(this,Ry,void 0),ta(this,My,void 0),ra(My,this,Object.assign({},Ey,t||{})),"any"===e)ra(Iy,this,!0),ra(xy,this,null);else if(e){const t=Bv.from(e);ra(Iy,this,!1),ra(xy,this,Promise.resolve(t)),setTimeout((()=>{this.emit("network",t,null)}),0)}else ra(Iy,this,!1),ra(xy,this,null);ra(Ty,this,-1),ra(Ny,this,new Map),ra(Sy,this,new Map),ra(Cy,this,new Map),ra(_y,this,null),ra(ky,this,!1),ra(Py,this,1),ra(Oy,this,new Map),ra(Ry,this,!1)}get pollingInterval(){return ia(My,this).pollingInterval}get provider(){return this}get plugins(){return Array.from(ia(Cy,this).values())}attachPlugin(e){if(ia(Cy,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return ia(Cy,this).set(e.name,e.connect(this)),this}getPlugin(e){return ia(Cy,this).get(e)||null}get disableCcipRead(){return ia(Ry,this)}set disableCcipRead(e){ra(Ry,this,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const t=n[a],c=t.replace("{sender}",r).replace("{data}",i),l=new Gd(c);-1===t.indexOf("{data}")&&(l.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:n});let u,d="unknown error";try{u=await l.send()}catch(o){s.push(o.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:o}});continue}try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(d=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(o){}fa(u.statusCode<400||u.statusCode>=500,"response not found during CCIP fetch: ".concat(d),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:d}}),s.push(d)}fa(!1,"error encountered during CCIP fetch: ".concat(s.map((e=>JSON.stringify(e))).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new Ch(function(e){const t=Cv(e);return t.transactions=e.transactions.map((e=>"string"===typeof e?e:xv(e))),t}(e),this)}_wrapLog(e,t){return new _h(function(e){return Sv(e)}(e),this)}_wrapTransactionReceipt(e,t){return new xh(function(e){return kv(e)}(e),this)}_wrapTransactionResponse(e,t){return new Nh(xv(e),this)}_detectNetwork(){fa(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){fa(!1,"unsupported method: ".concat(e.method),"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ja(await na(Dy,this,Ly).call(this,{method:"getBlockNumber"}),"%response");return ia(Ty,this)>=0&&ra(Ty,this,e),e}_getAddress(e){return Yu(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return Aa(e)?Aa(e,32)?e:Ha(e):("bigint"===typeof e&&(e=ja(e,"blockTag")),"number"===typeof e?e>=0?Ha(e):ia(Ty,this)>=0?Ha(ia(Ty,this)+e):this.getBlockNumber().then((t=>Ha(t+e))):void pa(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?by(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),r&&(o.fromBlock=r),i&&(o.toBlock=i),n&&(o.blockHash=n),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter((e=>"string"!==typeof e)).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(o),i,s]).then((e=>r(e[0],e[1],e[2]))):r(o,i,s)}_getTransactionRequest(e){const t=Eh(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=Yu(t[e],this);my(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);my(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==ia(xy,this)){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw ia(xy,this)===e&&ra(xy,this,null),t}})();return ra(xy,this,e),(await e).clone()}const e=ia(xy,this),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(ia(Iy,this)?(this.emit("network",n,t),ia(xy,this)===e&&ra(xy,this,Promise.resolve(n))):fa(!1,"network changed: ".concat(t.chainId," => ").concat(n.chainId," "),"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await aa({_block:na(Dy,this,zy).call(this,"latest",!1),gasPrice:(async()=>{try{return Ua(await na(Dy,this,Ly).call(this,{method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return Ua(await na(Dy,this,Ly).call(this,{method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,s=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),i=o.baseFeePerGas*gy+s),new Ah(n,i,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new Gd(n.url),r=await n.processFunc(t,this,e);return new Ah(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return my(t)&&(t=await t),Ua(await na(Dy,this,Ly).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await aa({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await na(Dy,this,Fy).call(this,na(Dy,this,By).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return Ua(await na(Dy,this,jy).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return ja(await na(Dy,this,jy).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Ca(await na(Dy,this,jy).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const r=Ua(t,"position");return Ca(await na(Dy,this,jy).call(this,{method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await aa({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=nv.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:r}=await aa({network:this.getNetwork(),params:na(Dy,this,zy).call(this,e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await aa({network:this.getNetwork(),params:na(Dy,this,Ly).call(this,{method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await aa({network:this.getNetwork(),params:na(Dy,this,Ly).call(this,{method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await na(Dy,this,Ly).call(this,{method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await aa({network:this.getNetwork(),result:na(Dy,this,Ly).call(this,{method:"getTransactionResult",hash:e})});return null==t?null:Ca(t)}async getLogs(e){let t=this._getFilter(e);my(t)&&(t=await t);const{network:n,params:r}=await aa({network:this.getNetwork(),params:na(Dy,this,Ly).call(this,{method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){fa(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await pv.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=Sp((e=dl(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await pv.getEnsAddress(this),r=new hf(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===rh)return null;const s=new hf(i,["function name(bytes32) view returns (string)"],this),o=await s.name(t);return await this.resolveName(o)!==e?null:o}catch(n){if(ua(n,"BAD_DATA")&&"0x"===n.value)return null;if(ua(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let s=null;const o=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",o)};null!=n&&(s=setTimeout((()=>{null!=s&&(s=null,this.off("block",o),i(ha("timeout","TIMEOUT",{reason:"timeout"})))}),n)),o(await this.getBlockNumber())}))}async waitForBlock(e){fa(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=ia(Oy,this).get(e);t&&(t.timer&&clearTimeout(t.timer),ia(Oy,this).delete(e))}_setTimeout(e,t){var n,r;null==t&&(t=0);const i=(ra(Py,this,(n=ia(Py,this),r=n++,n)),r),s=()=>{ia(Oy,this).delete(i),e()};if(this.paused)ia(Oy,this).set(i,{timer:null,func:s,time:t});else{const e=setTimeout(s,t);ia(Oy,this).set(i,{timer:e,func:s,time:Ay()})}return i}_forEachSubscriber(e){for(const t of ia(Sy,this).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new yy(e.type);case"block":{const e=new Jv(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new ny(this,e.type);case"event":return new fy(this,e.filter);case"transaction":return new oy(this,e.hash);case"orphan":return new iy(this,e.filter)}throw new Error("unsupported event: ".concat(e.type))}_recoverSubscriber(e,t){for(const n of ia(Sy,this).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=ia(_y,this)&&t.pause(ia(_y,this));break}}async on(e,t){const n=await na(Dy,this,Hy).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=ia(_y,this)&&n.subscriber.pause(ia(_y,this))),this}async once(e,t){const n=await na(Dy,this,Hy).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=ia(_y,this)&&n.subscriber.pause(ia(_y,this))),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await na(Dy,this,Wy).call(this,e,n);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:r,once:i}=t;const s=new Rh(this,i?null:r,e);try{r.call(this,...n,s)}catch(o){}return!i})),0===i.listeners.length&&(i.started&&i.subscriber.stop(),ia(Sy,this).delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await na(Dy,this,Wy).call(this,e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of ia(Sy,this).values())t+=n.length;return t}async listeners(e){if(e){const t=await na(Dy,this,Wy).call(this,e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}let t=[];for(const{listeners:n}of ia(Sy,this).values())t=t.concat(n.map((e=>{let{listener:t}=e;return t})));return t}async off(e,t){const n=await na(Dy,this,Wy).call(this,e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),ia(Sy,this).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await na(Dy,this,Hy).call(this,e);n&&r.stop(),ia(Sy,this).delete(t)}else for(const[t,{started:n,subscriber:r}]of ia(Sy,this))n&&r.stop(),ia(Sy,this).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return ia(ky,this)}destroy(){this.removeAllListeners();for(const e of ia(Oy,this).keys())this._clearTimeout(e);ra(ky,this,!0)}get paused(){return null!=ia(_y,this)}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(ra(Ty,this,-1),null!=ia(_y,this)){if(ia(_y,this)==!!e)return;fa(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),ra(_y,this,!!e);for(const t of ia(Oy,this).values())t.timer&&clearTimeout(t.timer),t.time=Ay()-t.time}resume(){if(null!=ia(_y,this)){this._forEachSubscriber((e=>e.resume())),ra(_y,this,null);for(const e of ia(Oy,this).values()){let t=e.time;t<0&&(t=0),e.time=Ay(),setTimeout(e.func,t)}}}}async function Ly(e){const t=ia(My,this).cacheTimeout;if(t<0)return await this._perform(e);const n=vy(e.method,e);let r=ia(Ny,this).get(n);return r||(r=this._perform(e),ia(Ny,this).set(n,r),setTimeout((()=>{ia(Ny,this).get(n)===r&&ia(Ny,this).delete(n)}),t)),await r}async function By(e,t,n){fa(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=Eh(e);try{return Ca(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&da(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===xa(i.data,0,4)){const e=i.data,s=await Yu(r.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};fa(ka(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=xa(e,0,32);fa(xa(n,0,12)===xa(Qy,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=xa(n,12);try{const n=[],r=ja(xa(e,32,64)),i=ja(xa(e,r,r+32)),s=xa(e,r+32);for(let e=0;e<i;e++){const t=Vy(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){fa(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=qy(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){fa(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}fa(xa(e,100,128)===xa(Qy,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=xa(e,96,100);try{const n=qy(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){fa(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(xa(i.data,4))}catch(i){fa(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}fa(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(r,o.calldata,o.urls);fa(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:o.errorArgs}});const c={to:s,data:_a([o.selector,Yy([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await na(Dy,this,By).call(this,c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:i}),i}}throw i}}async function Fy(e){const{value:t}=await aa({network:this.getNetwork(),value:e});return t}async function jy(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await na(Dy,this,Fy).call(this,na(Dy,this,Ly).call(this,Object.assign(e,{address:r,blockTag:i})))}async function zy(e,t){if(Aa(e,32))return await na(Dy,this,Ly).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await na(Dy,this,Ly).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})}async function Wy(e,t){let n=await wy(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await wy({orphan:"drop-log",log:t[0]},this)),ia(Sy,this).get(n.tag)||null}async function Hy(e){const t=await wy(e,this),n=t.tag;let r=ia(Sy,this).get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},ia(Sy,this).set(n,r)}return r}function Vy(e,t){try{const n=qy(e,t);if(n)return Ll(n)}catch(n){}return null}function qy(e,t){if("0x"===e)return null;try{const n=ja(xa(e,t,t+32)),r=ja(xa(e,n,n+32));return xa(e,n+32,n+32+r)}catch(n){}return null}function Ky(e){const t=Wa(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Gy(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Jy=new Uint8Array([]);function Yy(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(Jy),n+=32;for(let r=0;r<e.length;r++){const i=ba(e[r]);t[r]=Ky(n),t.push(Ky(i.length)),t.push(Gy(i)),n+=32+32*Math.ceil(i.length/32)}return _a(t)}const Qy="0x0000000000000000000000000000000000000000000000000000000000000000";function Zy(e,t){if(e.provider)return e.provider;fa(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Xy(e,t){let n=Eh(t);if(null!=n.to&&(n.to=Yu(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),Yu(t,e)]).then((e=>{let[t,n]=e;return pa(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t}))}else n.from=e.getAddress();return await aa(n)}class $y{constructor(e){(0,sa.A)(this,"provider",void 0),ca(this,{provider:e||null})}async getNonce(e){return Zy(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Xy(this,e)}async populateTransaction(e){const t=Zy(this,"populateTransaction"),n=await Xy(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){pa(Ua(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||pa(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):pa(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();fa(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(fa(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):fa(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await aa(n)}async estimateGas(e){return Zy(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Zy(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Zy(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Zy(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=nv.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}var eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,rb=new WeakMap,ib=new WeakMap,sb=new WeakMap,ob=new WeakSet;class ab{constructor(e){ea(this,ob),ta(this,eb,void 0),ta(this,tb,void 0),ta(this,nb,void 0),ta(this,rb,void 0),ta(this,ib,void 0),ta(this,sb,void 0),ra(eb,this,e),ra(tb,this,null),ra(nb,this,na(ob,this,cb).bind(this)),ra(rb,this,!1),ra(ib,this,null),ra(sb,this,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){ia(rb,this)||(ra(rb,this,!0),na(ob,this,cb).call(this,-2))}stop(){ia(rb,this)&&(ra(rb,this,!1),ra(sb,this,!0),na(ob,this,lb).call(this),ia(eb,this).off("block",ia(nb,this)))}pause(e){e&&na(ob,this,lb).call(this),ia(eb,this).off("block",ia(nb,this))}resume(){this.start()}}async function cb(e){try{null==ia(tb,this)&&ra(tb,this,this._subscribe(ia(eb,this)));let e=null;try{e=await ia(tb,this)}catch(t){if(!ua(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return ra(tb,this,null),void ia(eb,this)._recoverSubscriber(this,this._recover(ia(eb,this)));const n=await ia(eb,this).getNetwork();if(ia(ib,this)||ra(ib,this,n),ia(ib,this).chainId!==n.chainId)throw new Error("chaid changed");if(ia(sb,this))return;const r=await ia(eb,this).send("eth_getFilterChanges",[e]);await this._emitResults(ia(eb,this),r)}catch(t){console.log("@TODO",t)}ia(eb,this).once("block",ia(nb,this))}function lb(){const e=ia(tb,this);e&&(ra(tb,this,null),e.then((e=>{ia(eb,this).destroyed||ia(eb,this).send("eth_uninstallFilter",[e])})))}var ub=new WeakMap;class db extends ab{constructor(e,t){var n;super(e),ta(this,ub,void 0),ra(ub,this,(n=t,JSON.parse(JSON.stringify(n))))}_recover(e){return new fy(e,ia(ub,this))}async _subscribe(e){return await e.send("eth_newFilter",[ia(ub,this)])}async _emitResults(e,t){for(const n of t)e.emit(ia(ub,this),e._wrapLog(n,e._network))}}class hb extends ab{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const fb="bigint,boolean,function,number,string,symbol".split(/,/g);function pb(e){if(null==e||fb.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(pb);if("object"===typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error("should not happen: ".concat(e," (").concat(typeof e,")"))}function gb(e){return new Promise((t=>{setTimeout(t,e)}))}function mb(e){return e?e.toLowerCase():e}function vb(e){return e&&"number"===typeof e.pollingInterval}const yb={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class bb extends $y{constructor(e,t){super(e),(0,sa.A)(this,"address",void 0),ca(this,{address:t=dl(t)})}connect(e){fa(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=pb(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await Yu(r,this.provider);pa(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas((0,s.A)((0,s.A)({},t),{},{from:this.address}))})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await Yu(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(a){if(ua(a,"CANCELLED")||ua(a,"BAD_DATA")||ua(a,"NETWORK_ERROR")||ua(a,"UNSUPPORTED_OPERATION"))return null==a.info&&(a.info={}),a.info.sendTransactionHash=n,void r(a);if(ua(a,"INVALID_ARGUMENT")&&(s++,null==a.info&&(a.info={}),a.info.sendTransactionHash=n,s>10))return void r(a);this.provider.emit("error",ha("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout((()=>{o()}),i.pop()||4e3)};o()}))}async signTransaction(e){const t=pb(e);if(t.from){const n=await Yu(t.from,this.provider);pa(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?Ul(e):e;return await this.provider.send("personal_sign",[Ca(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=pb(n),i=await pd.resolveNames(e,t,r,(async e=>{const t=await Yu(e);return pa(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(pd.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?Ul(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ca(t)])}}var wb=new WeakMap,Ab=new WeakMap,Eb=new WeakMap,Sb=new WeakMap,Cb=new WeakMap,_b=new WeakMap,kb=new WeakMap,xb=new WeakSet;class Ib extends Uy{constructor(e,t){super(e,t),ea(this,xb),ta(this,wb,void 0),ta(this,Ab,void 0),ta(this,Eb,void 0),ta(this,Sb,void 0),ta(this,Cb,void 0),ta(this,_b,void 0),ta(this,kb,void 0),ra(Ab,this,1),ra(wb,this,Object.assign({},yb,t||{})),ra(Eb,this,[]),ra(Sb,this,null),ra(_b,this,null),ra(kb,this,null);{let e=null;const t=new Promise((t=>{e=t}));ra(Cb,this,{promise:t,resolve:e})}const n=this._getOption("staticNetwork");"boolean"===typeof n?(pa(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&ra(_b,this,Bv.from(e))):n&&(pa(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),ra(_b,this,n))}_getOption(e){return ia(wb,this)[e]}get _network(){return fa(ia(_b,this),"network is not available yet","NETWORK_ERROR"),ia(_b,this)}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&Ua(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(ia(_b,this))return ia(_b,this)}return ia(kb,this)?await ia(kb,this):this.ready?(ra(kb,this,(async()=>{try{const e=Bv.from(Ua(await this.send("eth_chainId",[])));return ra(kb,this,null),e}catch(e){throw ra(kb,this,null),e}})()),await ia(kb,this)):(ra(kb,this,(async(e,t)=>{const n={id:(ra(Ab,this,(e=ia(Ab,this),t=e++,e)),t),method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:n});try{r=(await this._send(n))[0],ra(kb,this,null)}catch(i){throw ra(kb,this,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Bv.from(Ua(r.result));throw this.getRpcError(n,r)})()),await ia(kb,this))}_start(){null!=ia(Cb,this)&&null!=ia(Cb,this).resolve&&(ia(Cb,this).resolve(),ra(Cb,this,null),(async()=>{for(;null==ia(_b,this)&&!this.destroyed;)try{ra(_b,this,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ha("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await gb(1e3)}na(xb,this,Nb).call(this)})())}async _waitUntilReady(){if(null!=ia(Cb,this))return await ia(Cb,this).promise}_getSubscriber(e){return"pending"===e.type?new hb(this):"event"===e.type?this._getOption("polling")?new fy(this,e.filter):new db(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new yy("orphan"):super._getSubscriber(e)}get ready(){return null==ia(Cb,this)}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=Ha(Ua(e[n],"tx.".concat(n)))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=Ca(e[n]))})),e.accessList&&(t.accessList=vd(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[mb(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[mb(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[mb(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[mb(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(mb):e.filter.address=mb(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return ha("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Mb(r),i=qu.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return Db(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return ha("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return ha("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return ha("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return ha("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return ha("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!i.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?ha("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):ha("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){var n,r;if(this.destroyed)return Promise.reject(ha("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const i=(ra(Ab,this,(n=ia(Ab,this),r=n++,n)),r),s=new Promise(((n,r)=>{ia(Eb,this).push({resolve:n,reject:r,payload:{method:e,params:t,id:i,jsonrpc:"2.0"}})}));return na(xb,this,Nb).call(this),s}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new bb(this,n[e])}const{accounts:n}=await aa({network:this.getNetwork(),accounts:t});e=dl(e);for(const r of n)if(dl(r)===e)return new bb(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new bb(this,e)))}destroy(){ia(Sb,this)&&(clearTimeout(ia(Sb,this)),ra(Sb,this,null));for(const{payload:e,reject:t}of ia(Eb,this))t(ha("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));ra(Eb,this,[]),super.destroy()}}function Nb(){if(ia(Sb,this))return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");ra(Sb,this,setTimeout((()=>{ra(Sb,this,null);const e=ia(Eb,this);for(ra(Eb,this,[]);e.length;){const t=[e.shift()];for(;e.length&&t.length!==ia(wb,this).batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map((e=>e.payload)));if(n.length>ia(wb,this).batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(ha("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?r(this.getRpcError(i,t)):e(t.result);else{const e=ha("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e)}}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}}),e))}var Tb=new WeakMap;class Pb extends Ib{constructor(e,t){super(e,t),ta(this,Tb,void 0);let n=this._getOption("pollingInterval");null==n&&(n=yb.pollingInterval),ra(Tb,this,n)}_getSubscriber(e){const t=super._getSubscriber(e);return vb(t)&&(t.pollingInterval=ia(Tb,this)),t}get pollingInterval(){return ia(Tb,this)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");ra(Tb,this,e),this._forEachSubscriber((e=>{vb(e)&&(e.pollingInterval=ia(Tb,this))}))}}var Ob=new WeakMap;class Rb extends Pb{constructor(e,t,n){null==e&&(e="http://localhost:8545"),super(t,n),ta(this,Ob,void 0),ra(Ob,this,"string"===typeof e?new Gd(e):e.clone())}_getConnection(){return ia(Ob,this).clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let r=n.bodyJson;return Array.isArray(r)||(r=[r]),r}}function Mb(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&Aa(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=Mb(e[t]);if(n)return n}return null}if("string"===typeof e)try{return Mb(JSON.parse(e))}catch(t){}return null}function Db(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)Db(e[n],t);if("string"===typeof e)try{return Db(JSON.parse(e),t)}catch(n){}}}const Ub=new Map,Lb=e=>new Promise((t=>setTimeout(t,e))),Bb=async(e,t,n)=>{const r=new Rb(e,void 0,{polling:!1,staticNetwork:!0}),i=new hf(n.CONTRACT_ADDRESS,n.ABI,r),s=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Request timeout"))),n.TIMEOUT||1e4)})),o=await Promise.race([i.getMessageToSign(t),s]);if(!o||"string"!==typeof o||""===o.trim())throw new Error("Invalid message returned from contract");return o.trim()},Fb=async e=>{try{if(!e||!function(e){try{return dl(e),!0}catch(t){}return!1}(e))throw new Error("Invalid wallet address provided");if(Ub.has(e))return console.log("Call already in progress for wallet:",e),Ub.get(e);const t=kt.POLYGON_MAINNET,n=t.RPC_URLS,r=jb(e,t,n);Ub.set(e,r);try{return await r}finally{Ub.delete(e)}}catch(t){throw console.error("Error fetching message from contract:",t),t.message.includes("rate limit")||t.message.includes("Too many requests")?new Error("Rate limit exceeded: All RPC providers are currently rate-limited. Please try again in a few minutes."):t.message.includes("Request timeout")||"TIMEOUT"===t.code?new Error("Request timeout: The network is slow or unresponsive. Please try again."):"NETWORK_ERROR"===t.code?new Error("Network error: Unable to connect to Polygon network. Please check your internet connection and try again."):"CALL_EXCEPTION"===t.code?new Error("Contract call failed: The smart contract may not be responding. Please try again later."):t.message.includes("Invalid wallet address")?new Error("Invalid wallet address provided"):t.message.includes("Invalid message returned")?new Error("The smart contract returned an invalid message. Please try again."):t.message.includes("All RPC providers failed")?new Error("All RPC providers are currently unavailable. Please try again later."):new Error("Failed to fetch message from contract: ".concat(t.message))}},jb=async(e,t,n)=>{let r=null;for(let s=0;s<n.length;s++){const o=n[s];try{console.log("Attempting to fetch message from RPC provider ".concat(s+1,"/").concat(n.length,": ").concat(o));const r=t.MAX_RETRIES||3;for(let n=0;n<r;n++)try{const n=await Bb(o,e,t);return console.log("Successfully fetched message from contract via ".concat(o,":"),n),n}catch(i){if(console.warn("Attempt ".concat(n+1,"/").concat(r," failed for ").concat(o,":"),i.message),i.message.includes("rate limit")||i.message.includes("Too many requests")){console.log("Rate limit detected, skipping retries for this provider");break}if(n<r-1){const e=t.RETRY_DELAY||5e3;console.log("Waiting ".concat(e,"ms before retry...")),await Lb(e)}}}catch(i){if(console.error("Provider ".concat(o," failed completely:"),i.message),r=i,i.message.includes("rate limit")||i.message.includes("Too many requests")){console.log("Rate limit detected, trying next provider...");continue}s<n.length-1&&(console.log("Waiting 2 seconds before trying next provider..."),await Lb(2e3))}}throw r||new Error("All RPC providers failed")};var zb=n(4657),Wb=n(883),Hb=n(5347),Vb=n(3939),qb=n(3022),Kb=n(9323),Gb=n(7038),Jb=n(6496),Yb=n(595),Qb=n(5814),Zb=n(2661),Xb=n(6141),$b=n(8861),ew=n(3542),tw=n(2819);const nw={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;t["".concat(tw.o.EIP155,":").concat(n)]=r})),t},isLowerCaseMatch:(e,t)=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())},rw={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>"Origin ".concat("undefined"!==typeof window?window.origin:"unknown"," not found on Allowlist - update configuration on cloud.reown.com")},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};var iw=n(574),sw=n(6844);const ow={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},aw=(0,iw.BX)({providers:(0,s.A)({},ow),providerIds:(0,s.A)({},ow)}),cw={state:aw,subscribeKey:(e,t)=>(0,sw.u$)(aw,e,t),subscribeProviders:e=>(0,iw.B1)(aw.providers,(()=>e(aw.providers))),setProvider(e,t){t&&(aw.providers[e]=(0,iw.KR)(t))},getProvider:e=>aw.providers[e],setProviderId(e,t){t&&(aw.providerIds[e]=t)},getProviderId(e){if(e)return aw.providerIds[e]},reset(){aw.providers=(0,s.A)({},ow),aw.providerIds=(0,s.A)({},ow)},resetChain(e){aw.providers[e]=void 0,aw.providerIds[e]=void 0}};var lw,uw,dw,hw=n(2538),fw=n(9979);(uw=lw||(lw={})).assertEqual=e=>e,uw.assertIs=function(e){},uw.assertNever=function(e){throw new Error},uw.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},uw.getValidEnumValues=e=>{const t=uw.objectKeys(e).filter((t=>"number"!==typeof e[e[t]])),n={};for(const r of t)n[r]=e[r];return uw.objectValues(n)},uw.objectValues=e=>uw.objectKeys(e).map((function(t){return e[t]})),uw.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},uw.find=(e,t)=>{for(const n of e)if(t(n))return n},uw.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,uw.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},uw.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t,(dw||(dw={})).mergeShapes=(e,t)=>(0,s.A)((0,s.A)({},e),t);const pw=lw.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gw=e=>{switch(typeof e){case"undefined":return pw.undefined;case"string":return pw.string;case"number":return isNaN(e)?pw.nan:pw.number;case"boolean":return pw.boolean;case"function":return pw.function;case"bigint":return pw.bigint;case"symbol":return pw.symbol;case"object":return Array.isArray(e)?pw.array:null===e?pw.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?pw.promise:"undefined"!==typeof Map&&e instanceof Map?pw.map:"undefined"!==typeof Set&&e instanceof Set?pw.set:"undefined"!==typeof Date&&e instanceof Date?pw.date:pw.object;default:return pw.unknown}},mw=lw.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vw extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,lw.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}vw.create=e=>new vw(e);const yw=(e,t)=>{let n;switch(e.code){case mw.invalid_type:n=e.received===pw.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case mw.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,lw.jsonStringifyReplacer));break;case mw.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(lw.joinValues(e.keys,", "));break;case mw.invalid_union:n="Invalid input";break;case mw.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(lw.joinValues(e.options));break;case mw.invalid_enum_value:n="Invalid enum value. Expected ".concat(lw.joinValues(e.options),", received '").concat(e.received,"'");break;case mw.invalid_arguments:n="Invalid function arguments";break;case mw.invalid_return_type:n="Invalid function return type";break;case mw.invalid_date:n="Invalid date";break;case mw.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):lw.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case mw.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case mw.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case mw.custom:n="Invalid input";break;case mw.invalid_intersection_types:n="Intersection results could not be merged";break;case mw.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case mw.not_finite:n="Number must be finite";break;default:n=t.defaultError,lw.assertNever(e)}return{message:n}};let bw=yw;function ww(){return bw}const Aw=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],a=(0,s.A)((0,s.A)({},i),{},{path:o});let c="";const l=r.filter((e=>!!e)).slice().reverse();for(const s of l)c=s(a,{data:t,defaultError:c}).message;return(0,s.A)((0,s.A)({},i),{},{path:o,message:i.message||c})};function Ew(e,t){const n=Aw({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,ww(),yw].filter((e=>!!e))});e.common.issues.push(n)}class Sw{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Cw;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t)n.push({key:await r.key,value:await r.value});return Sw.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return Cw;if("aborted"===i.status)return Cw;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const Cw=Object.freeze({status:"aborted"}),_w=e=>({status:"dirty",value:e}),kw=e=>({status:"valid",value:e}),xw=e=>"aborted"===e.status,Iw=e=>"dirty"===e.status,Nw=e=>"valid"===e.status,Tw=e=>"undefined"!==typeof Promise&&e instanceof Promise;var Pw,Ow;(Ow=Pw||(Pw={})).errToObj=e=>"string"===typeof e?{message:e}:e||{},Ow.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message;class Rw{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Mw=(e,t)=>{if(Nw(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new vw(e.common.issues);return this._error=t,this._error}}};function Dw(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:"undefined"===typeof t.data?{message:null!==r&&void 0!==r?r:t.defaultError}:{message:null!==n&&void 0!==n?n:t.defaultError},description:i}}class Uw{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return gw(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:gw(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sw,ctx:{common:e.parent.common,data:e.data,parsedType:gw(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Tw(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gw(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Mw(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gw(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Tw(r)?r:Promise.resolve(r));return Mw(n,i)}refine(e,t){return this._refinement(((n,r)=>{const i=e(n),o=()=>r.addIssue((0,s.A)({code:mw.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(o(),!1))):!!i||(o(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new SA({schema:this,typeName:DA.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return CA.create(this,this._def)}nullable(){return _A.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return iA.create(this,this._def)}promise(){return EA.create(this,this._def)}or(e){return aA.create([this,e],this._def)}and(e){return dA.create(this,e,this._def)}transform(e){return new SA((0,s.A)((0,s.A)({},Dw(this._def)),{},{schema:this,typeName:DA.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new kA((0,s.A)((0,s.A)({},Dw(this._def)),{},{innerType:this,defaultValue:t,typeName:DA.ZodDefault}))}brand(){return new TA((0,s.A)({typeName:DA.ZodBranded,type:this},Dw(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new xA((0,s.A)((0,s.A)({},Dw(this._def)),{},{innerType:this,catchValue:t,typeName:DA.ZodCatch}))}describe(e){return new(0,this.constructor)((0,s.A)((0,s.A)({},this._def),{},{description:e}))}pipe(e){return PA.create(this,e)}readonly(){return OA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Lw=/^c[^\s-]{8,}$/i,Bw=/^[a-z][a-z0-9]*$/,Fw=/^[0-9A-HJKMNP-TV-Z]{26}$/,jw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zw=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ww;const Hw=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Vw=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class qw extends Uw{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==pw.string){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.string,received:t.parsedType}),Cw}const t=new Sw;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),Ew(n,{code:mw.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),Ew(n,{code:mw.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const r=e.data.length>a.value,i=e.data.length<a.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?Ew(n,{code:mw.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&Ew(n,{code:mw.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)zw.test(e.data)||(n=this._getOrReturnCtx(e,n),Ew(n,{validation:"email",code:mw.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)Ww||(Ww=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ww.test(e.data)||(n=this._getOrReturnCtx(e,n),Ew(n,{validation:"emoji",code:mw.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)jw.test(e.data)||(n=this._getOrReturnCtx(e,n),Ew(n,{validation:"uuid",code:mw.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)Lw.test(e.data)||(n=this._getOrReturnCtx(e,n),Ew(n,{validation:"cuid",code:mw.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)Bw.test(e.data)||(n=this._getOrReturnCtx(e,n),Ew(n,{validation:"cuid2",code:mw.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)Fw.test(e.data)||(n=this._getOrReturnCtx(e,n),Ew(n,{validation:"ulid",code:mw.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(o){n=this._getOrReturnCtx(e,n),Ew(n,{validation:"url",code:mw.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ew(n,{validation:"regex",code:mw.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),Ew(n,{code:mw.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),Ew(n,{code:mw.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),Ew(n,{code:mw.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){((s=a).precision?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(s.precision,"}(([+-]\\d{2}(:?\\d{2})?)|Z)$")):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(s.precision,"}Z$")):0===s.precision?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),Ew(n,{code:mw.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else"ip"===a.kind?(r=e.data,("v4"!==(i=a.version)&&i||!Hw.test(r))&&("v6"!==i&&i||!Vw.test(r))&&(n=this._getOrReturnCtx(e,n),Ew(n,{validation:"ip",code:mw.invalid_string,message:a.message}),t.dirty())):lw.assertNever(a);var r,i,s;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),(0,s.A)({validation:t,code:mw.invalid_string},Pw.errToObj(n)))}_addCheck(e){return new qw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck((0,s.A)({kind:"email"},Pw.errToObj(e)))}url(e){return this._addCheck((0,s.A)({kind:"url"},Pw.errToObj(e)))}emoji(e){return this._addCheck((0,s.A)({kind:"emoji"},Pw.errToObj(e)))}uuid(e){return this._addCheck((0,s.A)({kind:"uuid"},Pw.errToObj(e)))}cuid(e){return this._addCheck((0,s.A)({kind:"cuid"},Pw.errToObj(e)))}cuid2(e){return this._addCheck((0,s.A)({kind:"cuid2"},Pw.errToObj(e)))}ulid(e){return this._addCheck((0,s.A)({kind:"ulid"},Pw.errToObj(e)))}ip(e){return this._addCheck((0,s.A)({kind:"ip"},Pw.errToObj(e)))}datetime(e){var t;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck((0,s.A)({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t},Pw.errToObj(null===e||void 0===e?void 0:e.message)))}regex(e,t){return this._addCheck((0,s.A)({kind:"regex",regex:e},Pw.errToObj(t)))}includes(e,t){return this._addCheck((0,s.A)({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},Pw.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck((0,s.A)({kind:"startsWith",value:e},Pw.errToObj(t)))}endsWith(e,t){return this._addCheck((0,s.A)({kind:"endsWith",value:e},Pw.errToObj(t)))}min(e,t){return this._addCheck((0,s.A)({kind:"min",value:e},Pw.errToObj(t)))}max(e,t){return this._addCheck((0,s.A)({kind:"max",value:e},Pw.errToObj(t)))}length(e,t){return this._addCheck((0,s.A)({kind:"length",value:e},Pw.errToObj(t)))}nonempty(e){return this.min(1,Pw.errToObj(e))}trim(){return new qw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new qw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new qw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Kw(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}qw.create=e=>{var t;return new qw((0,s.A)({checks:[],typeName:DA.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Dw(e)))};class Gw extends Uw{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==pw.number){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.number,received:t.parsedType}),Cw}let t;const n=new Sw;for(const r of this._def.checks)if("int"===r.kind)lw.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ew(t,{code:mw.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ew(t,{code:mw.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ew(t,{code:mw.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Kw(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Ew(t,{code:mw.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ew(t,{code:mw.not_finite,message:r.message}),n.dirty()):lw.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Pw.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Pw.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Pw.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Pw.toString(t))}setLimit(e,t,n,r){return new Gw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Pw.toString(r)}]}))}_addCheck(e){return new Gw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Pw.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pw.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pw.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pw.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pw.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Pw.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Pw.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pw.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pw.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&lw.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Gw.create=e=>new Gw((0,s.A)({checks:[],typeName:DA.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Dw(e)));class Jw extends Uw{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==pw.bigint){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.bigint,received:t.parsedType}),Cw}let t;const n=new Sw;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ew(t,{code:mw.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ew(t,{code:mw.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Ew(t,{code:mw.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):lw.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Pw.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Pw.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Pw.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Pw.toString(t))}setLimit(e,t,n,r){return new Jw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Pw.toString(r)}]}))}_addCheck(e){return new Jw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pw.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pw.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pw.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pw.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Pw.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Jw.create=e=>{var t;return new Jw((0,s.A)({checks:[],typeName:DA.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Dw(e)))};class Yw extends Uw{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==pw.boolean){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.boolean,received:t.parsedType}),Cw}return kw(e.data)}}Yw.create=e=>new Yw((0,s.A)({typeName:DA.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Dw(e)));class Qw extends Uw{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==pw.date){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.date,received:t.parsedType}),Cw}if(isNaN(e.data.getTime())){return Ew(this._getOrReturnCtx(e),{code:mw.invalid_date}),Cw}const t=new Sw;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Ew(n,{code:mw.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Ew(n,{code:mw.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):lw.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Qw((0,s.A)((0,s.A)({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Pw.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Pw.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Qw.create=e=>new Qw((0,s.A)({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:DA.ZodDate},Dw(e)));class Zw extends Uw{_parse(e){if(this._getType(e)!==pw.symbol){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.symbol,received:t.parsedType}),Cw}return kw(e.data)}}Zw.create=e=>new Zw((0,s.A)({typeName:DA.ZodSymbol},Dw(e)));class Xw extends Uw{_parse(e){if(this._getType(e)!==pw.undefined){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.undefined,received:t.parsedType}),Cw}return kw(e.data)}}Xw.create=e=>new Xw((0,s.A)({typeName:DA.ZodUndefined},Dw(e)));class $w extends Uw{_parse(e){if(this._getType(e)!==pw.null){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.null,received:t.parsedType}),Cw}return kw(e.data)}}$w.create=e=>new $w((0,s.A)({typeName:DA.ZodNull},Dw(e)));class eA extends Uw{constructor(){super(...arguments),this._any=!0}_parse(e){return kw(e.data)}}eA.create=e=>new eA((0,s.A)({typeName:DA.ZodAny},Dw(e)));class tA extends Uw{constructor(){super(...arguments),this._unknown=!0}_parse(e){return kw(e.data)}}tA.create=e=>new tA((0,s.A)({typeName:DA.ZodUnknown},Dw(e)));class nA extends Uw{_parse(e){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.never,received:t.parsedType}),Cw}}nA.create=e=>new nA((0,s.A)({typeName:DA.ZodNever},Dw(e)));class rA extends Uw{_parse(e){if(this._getType(e)!==pw.undefined){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.void,received:t.parsedType}),Cw}return kw(e.data)}}rA.create=e=>new rA((0,s.A)({typeName:DA.ZodVoid},Dw(e)));class iA extends Uw{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==pw.array)return Ew(t,{code:mw.invalid_type,expected:pw.array,received:t.parsedType}),Cw;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(Ew(t,{code:e?mw.too_big:mw.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Ew(t,{code:mw.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Ew(t,{code:mw.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Rw(t,e,t.path,n))))).then((e=>Sw.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new Rw(t,e,t.path,n))));return Sw.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new iA((0,s.A)((0,s.A)({},this._def),{},{minLength:{value:e,message:Pw.toString(t)}}))}max(e,t){return new iA((0,s.A)((0,s.A)({},this._def),{},{maxLength:{value:e,message:Pw.toString(t)}}))}length(e,t){return new iA((0,s.A)((0,s.A)({},this._def),{},{exactLength:{value:e,message:Pw.toString(t)}}))}nonempty(e){return this.min(1,e)}}function sA(e){if(e instanceof oA){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=CA.create(sA(r))}return new oA((0,s.A)((0,s.A)({},e._def),{},{shape:()=>t}))}return e instanceof iA?new iA((0,s.A)((0,s.A)({},e._def),{},{type:sA(e.element)})):e instanceof CA?CA.create(sA(e.unwrap())):e instanceof _A?_A.create(sA(e.unwrap())):e instanceof hA?hA.create(e.items.map((e=>sA(e)))):e}iA.create=(e,t)=>new iA((0,s.A)({type:e,minLength:null,maxLength:null,exactLength:null,typeName:DA.ZodArray},Dw(t)));class oA extends Uw{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=lw.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==pw.object){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.object,received:t.parsedType}),Cw}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof nA&&"strip"===this._def.unknownKeys))for(const a in n.data)i.includes(a)||s.push(a);const o=[];for(const a of i){const e=r[a],t=n.data[a];o.push({key:{status:"valid",value:a},value:e._parse(new Rw(n,t,n.path,a)),alwaysSet:a in n.data})}if(this._def.catchall instanceof nA){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)s.length>0&&(Ew(n,{code:mw.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new Rw(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>Sw.mergeObjectSync(t,e))):Sw.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return Pw.errToObj,new oA((0,s.A)((0,s.A)({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,i,s,o;const a=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=Pw.errToObj(e).message)&&void 0!==o?o:a}:{message:a}}}:{}))}strip(){return new oA((0,s.A)((0,s.A)({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new oA((0,s.A)((0,s.A)({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new oA((0,s.A)((0,s.A)({},this._def),{},{shape:()=>(0,s.A)((0,s.A)({},this._def.shape()),e)}))}merge(e){return new oA({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>(0,s.A)((0,s.A)({},this._def.shape()),e._def.shape()),typeName:DA.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new oA((0,s.A)((0,s.A)({},this._def),{},{catchall:e}))}pick(e){const t={};return lw.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new oA((0,s.A)((0,s.A)({},this._def),{},{shape:()=>t}))}omit(e){const t={};return lw.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new oA((0,s.A)((0,s.A)({},this._def),{},{shape:()=>t}))}deepPartial(){return sA(this)}partial(e){const t={};return lw.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new oA((0,s.A)((0,s.A)({},this._def),{},{shape:()=>t}))}required(e){const t={};return lw.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof CA;)e=e._def.innerType;t[n]=e}})),new oA((0,s.A)((0,s.A)({},this._def),{},{shape:()=>t}))}keyof(){return bA(lw.objectKeys(this.shape))}}oA.create=(e,t)=>new oA((0,s.A)({shape:()=>e,unknownKeys:"strip",catchall:nA.create(),typeName:DA.ZodObject},Dw(t))),oA.strictCreate=(e,t)=>new oA((0,s.A)({shape:()=>e,unknownKeys:"strict",catchall:nA.create(),typeName:DA.ZodObject},Dw(t))),oA.lazycreate=(e,t)=>new oA((0,s.A)({shape:e,unknownKeys:"strip",catchall:nA.create(),typeName:DA.ZodObject},Dw(t)));class aA extends Uw{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n=(0,s.A)((0,s.A)({},t),{},{common:(0,s.A)((0,s.A)({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new vw(e.ctx.common.issues)));return Ew(t,{code:mw.invalid_union,unionErrors:n}),Cw}));{let e;const r=[];for(const o of n){const n=(0,s.A)((0,s.A)({},t),{},{common:(0,s.A)((0,s.A)({},t.common),{},{issues:[]}),parent:null}),i=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new vw(e)));return Ew(t,{code:mw.invalid_union,unionErrors:i}),Cw}}get options(){return this._def.options}}aA.create=(e,t)=>new aA((0,s.A)({options:e,typeName:DA.ZodUnion},Dw(t)));const cA=e=>e instanceof vA?cA(e.schema):e instanceof SA?cA(e.innerType()):e instanceof yA?[e.value]:e instanceof wA?e.options:e instanceof AA?Object.keys(e.enum):e instanceof kA?cA(e._def.innerType):e instanceof Xw?[void 0]:e instanceof $w?[null]:null;class lA extends Uw{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==pw.object)return Ew(t,{code:mw.invalid_type,expected:pw.object,received:t.parsedType}),Cw;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(Ew(t,{code:mw.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Cw)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=cA(i.shape[e]);if(!t)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const n of t){if(r.has(n))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(n)));r.set(n,i)}}return new lA((0,s.A)({typeName:DA.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r},Dw(n)))}}function uA(e,t){const n=gw(e),r=gw(t);if(e===t)return{valid:!0,data:e};if(n===pw.object&&r===pw.object){const n=lw.objectKeys(t),r=lw.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i=(0,s.A)((0,s.A)({},e),t);for(const s of r){const n=uA(e[s],t[s]);if(!n.valid)return{valid:!1};i[s]=n.data}return{valid:!0,data:i}}if(n===pw.array&&r===pw.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=uA(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===pw.date&&r===pw.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class dA extends Uw{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(xw(e)||xw(r))return Cw;const i=uA(e.value,r.value);return i.valid?((Iw(e)||Iw(r))&&t.dirty(),{status:t.value,value:i.data}):(Ew(n,{code:mw.invalid_intersection_types}),Cw)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}dA.create=(e,t,n)=>new dA((0,s.A)({left:e,right:t,typeName:DA.ZodIntersection},Dw(n)));class hA extends Uw{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pw.array)return Ew(n,{code:mw.invalid_type,expected:pw.array,received:n.parsedType}),Cw;if(n.data.length<this._def.items.length)return Ew(n,{code:mw.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Cw;!this._def.rest&&n.data.length>this._def.items.length&&(Ew(n,{code:mw.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Rw(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Sw.mergeArray(t,e))):Sw.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new hA((0,s.A)((0,s.A)({},this._def),{},{rest:e}))}}hA.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hA((0,s.A)({items:e,typeName:DA.ZodTuple,rest:null},Dw(t)))};class fA extends Uw{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pw.object)return Ew(n,{code:mw.invalid_type,expected:pw.object,received:n.parsedType}),Cw;const r=[],i=this._def.keyType,s=this._def.valueType;for(const o in n.data)r.push({key:i._parse(new Rw(n,o,n.path,o)),value:s._parse(new Rw(n,n.data[o],n.path,o))});return n.common.async?Sw.mergeObjectAsync(t,r):Sw.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new fA(t instanceof Uw?(0,s.A)({keyType:e,valueType:t,typeName:DA.ZodRecord},Dw(n)):(0,s.A)({keyType:qw.create(),valueType:e,typeName:DA.ZodRecord},Dw(t)))}}class pA extends Uw{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pw.map)return Ew(n,{code:mw.invalid_type,expected:pw.map,received:n.parsedType}),Cw;const r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(((e,t)=>{let[s,o]=e;return{key:r._parse(new Rw(n,s,n.path,[t,"key"])),value:i._parse(new Rw(n,o,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return Cw;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return Cw;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}pA.create=(e,t,n)=>new pA((0,s.A)({valueType:t,keyType:e,typeName:DA.ZodMap},Dw(n)));class gA extends Uw{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==pw.set)return Ew(n,{code:mw.invalid_type,expected:pw.set,received:n.parsedType}),Cw;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Ew(n,{code:mw.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Ew(n,{code:mw.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Cw;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>i._parse(new Rw(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>s(e))):s(o)}min(e,t){return new gA((0,s.A)((0,s.A)({},this._def),{},{minSize:{value:e,message:Pw.toString(t)}}))}max(e,t){return new gA((0,s.A)((0,s.A)({},this._def),{},{maxSize:{value:e,message:Pw.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}gA.create=(e,t)=>new gA((0,s.A)({valueType:e,minSize:null,maxSize:null,typeName:DA.ZodSet},Dw(t)));class mA extends Uw{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==pw.function)return Ew(t,{code:mw.invalid_type,expected:pw.function,received:t.parsedType}),Cw;function n(e,n){return Aw({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ww(),yw].filter((e=>!!e)),issueData:{code:mw.invalid_arguments,argumentsError:n}})}function r(e,n){return Aw({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ww(),yw].filter((e=>!!e)),issueData:{code:mw.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof EA){const e=this;return kw((async function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const c=new vw([]),l=await e._def.args.parseAsync(o,i).catch((e=>{throw c.addIssue(n(o,e)),c})),u=await Reflect.apply(s,this,l);return await e._def.returns._def.type.parseAsync(u,i).catch((e=>{throw c.addIssue(r(u,e)),c}))}))}{const e=this;return kw((function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const c=e._def.args.safeParse(o,i);if(!c.success)throw new vw([n(o,c.error)]);const l=Reflect.apply(s,this,c.data),u=e._def.returns.safeParse(l,i);if(!u.success)throw new vw([r(l,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mA((0,s.A)((0,s.A)({},this._def),{},{args:hA.create(t).rest(tA.create())}))}returns(e){return new mA((0,s.A)((0,s.A)({},this._def),{},{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new mA((0,s.A)({args:e||hA.create([]).rest(tA.create()),returns:t||tA.create(),typeName:DA.ZodFunction},Dw(n)))}}class vA extends Uw{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}vA.create=(e,t)=>new vA((0,s.A)({getter:e,typeName:DA.ZodLazy},Dw(t)));class yA extends Uw{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ew(t,{received:t.data,code:mw.invalid_literal,expected:this._def.value}),Cw}return{status:"valid",value:e.data}}get value(){return this._def.value}}function bA(e,t){return new wA((0,s.A)({values:e,typeName:DA.ZodEnum},Dw(t)))}yA.create=(e,t)=>new yA((0,s.A)({value:e,typeName:DA.ZodLiteral},Dw(t)));class wA extends Uw{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ew(t,{expected:lw.joinValues(n),received:t.parsedType,code:mw.invalid_type}),Cw}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ew(t,{received:t.data,code:mw.invalid_enum_value,options:n}),Cw}return kw(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return wA.create(e)}exclude(e){return wA.create(this.options.filter((t=>!e.includes(t))))}}wA.create=bA;class AA extends Uw{_parse(e){const t=lw.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==pw.string&&n.parsedType!==pw.number){const e=lw.objectValues(t);return Ew(n,{expected:lw.joinValues(e),received:n.parsedType,code:mw.invalid_type}),Cw}if(-1===t.indexOf(e.data)){const e=lw.objectValues(t);return Ew(n,{received:n.data,code:mw.invalid_enum_value,options:e}),Cw}return kw(e.data)}get enum(){return this._def.values}}AA.create=(e,t)=>new AA((0,s.A)({values:e,typeName:DA.ZodNativeEnum},Dw(t)));class EA extends Uw{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==pw.promise&&!1===t.common.async)return Ew(t,{code:mw.invalid_type,expected:pw.promise,received:t.parsedType}),Cw;const n=t.parsedType===pw.promise?t.data:Promise.resolve(t.data);return kw(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}EA.create=(e,t)=>new EA((0,s.A)({type:e,typeName:DA.ZodPromise},Dw(t)));class SA extends Uw{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===DA.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{Ew(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Cw:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Cw:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Nw(e))return e;const s=r.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Nw(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}lw.assertNever(r)}}SA.create=(e,t,n)=>new SA((0,s.A)({schema:e,typeName:DA.ZodEffects,effect:t},Dw(n))),SA.createWithPreprocess=(e,t,n)=>new SA((0,s.A)({schema:t,effect:{type:"preprocess",transform:e},typeName:DA.ZodEffects},Dw(n)));class CA extends Uw{_parse(e){return this._getType(e)===pw.undefined?kw(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}CA.create=(e,t)=>new CA((0,s.A)({innerType:e,typeName:DA.ZodOptional},Dw(t)));class _A extends Uw{_parse(e){return this._getType(e)===pw.null?kw(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_A.create=(e,t)=>new _A((0,s.A)({innerType:e,typeName:DA.ZodNullable},Dw(t)));class kA extends Uw{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===pw.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}kA.create=(e,t)=>new kA((0,s.A)({innerType:e,typeName:DA.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},Dw(t)));class xA extends Uw{_parse(e){const{ctx:t}=this._processInputParams(e),n=(0,s.A)((0,s.A)({},t),{},{common:(0,s.A)((0,s.A)({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:(0,s.A)({},n)});return Tw(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new vw(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new vw(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}xA.create=(e,t)=>new xA((0,s.A)({innerType:e,typeName:DA.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},Dw(t)));class IA extends Uw{_parse(e){if(this._getType(e)!==pw.nan){const t=this._getOrReturnCtx(e);return Ew(t,{code:mw.invalid_type,expected:pw.nan,received:t.parsedType}),Cw}return{status:"valid",value:e.data}}}IA.create=e=>new IA((0,s.A)({typeName:DA.ZodNaN},Dw(e)));const NA=Symbol("zod_brand");class TA extends Uw{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class PA extends Uw{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Cw:"dirty"===e.status?(t.dirty(),_w(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Cw:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new PA({in:e,out:t,typeName:DA.ZodPipeline})}}class OA extends Uw{_parse(e){const t=this._def.innerType._parse(e);return Nw(t)&&(t.value=Object.freeze(t.value)),t}}OA.create=(e,t)=>new OA((0,s.A)({innerType:e,typeName:DA.ZodReadonly},Dw(t)));const RA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?eA.create().superRefine(((r,i)=>{var o,a;if(!e(r)){const e="function"===typeof t?t(r):"string"===typeof t?{message:t}:t,c=null===(a=null!==(o=e.fatal)&&void 0!==o?o:n)||void 0===a||a,l="string"===typeof e?{message:e}:e;i.addIssue((0,s.A)((0,s.A)({code:"custom"},l),{},{fatal:c}))}})):eA.create()},MA={object:oA.lazycreate};var DA,UA;(UA=DA||(DA={})).ZodString="ZodString",UA.ZodNumber="ZodNumber",UA.ZodNaN="ZodNaN",UA.ZodBigInt="ZodBigInt",UA.ZodBoolean="ZodBoolean",UA.ZodDate="ZodDate",UA.ZodSymbol="ZodSymbol",UA.ZodUndefined="ZodUndefined",UA.ZodNull="ZodNull",UA.ZodAny="ZodAny",UA.ZodUnknown="ZodUnknown",UA.ZodNever="ZodNever",UA.ZodVoid="ZodVoid",UA.ZodArray="ZodArray",UA.ZodObject="ZodObject",UA.ZodUnion="ZodUnion",UA.ZodDiscriminatedUnion="ZodDiscriminatedUnion",UA.ZodIntersection="ZodIntersection",UA.ZodTuple="ZodTuple",UA.ZodRecord="ZodRecord",UA.ZodMap="ZodMap",UA.ZodSet="ZodSet",UA.ZodFunction="ZodFunction",UA.ZodLazy="ZodLazy",UA.ZodLiteral="ZodLiteral",UA.ZodEnum="ZodEnum",UA.ZodEffects="ZodEffects",UA.ZodNativeEnum="ZodNativeEnum",UA.ZodOptional="ZodOptional",UA.ZodNullable="ZodNullable",UA.ZodDefault="ZodDefault",UA.ZodCatch="ZodCatch",UA.ZodPromise="ZodPromise",UA.ZodBranded="ZodBranded",UA.ZodPipeline="ZodPipeline",UA.ZodReadonly="ZodReadonly";const LA=qw.create,BA=Gw.create,FA=IA.create,jA=Jw.create,zA=Yw.create,WA=Qw.create,HA=Zw.create,VA=Xw.create,qA=$w.create,KA=eA.create,GA=tA.create,JA=nA.create,YA=rA.create,QA=iA.create,ZA=oA.create,XA=oA.strictCreate,$A=aA.create,eE=lA.create,tE=dA.create,nE=hA.create,rE=fA.create,iE=pA.create,sE=gA.create,oE=mA.create,aE=vA.create,cE=yA.create,lE=wA.create,uE=AA.create,dE=EA.create,hE=SA.create,fE=CA.create,pE=_A.create,gE=SA.createWithPreprocess,mE=PA.create,vE={string:e=>qw.create((0,s.A)((0,s.A)({},e),{},{coerce:!0})),number:e=>Gw.create((0,s.A)((0,s.A)({},e),{},{coerce:!0})),boolean:e=>Yw.create((0,s.A)((0,s.A)({},e),{},{coerce:!0})),bigint:e=>Jw.create((0,s.A)((0,s.A)({},e),{},{coerce:!0})),date:e=>Qw.create((0,s.A)((0,s.A)({},e),{},{coerce:!0}))},yE=Cw;var bE=Object.freeze({__proto__:null,defaultErrorMap:yw,setErrorMap:function(e){bw=e},getErrorMap:ww,makeIssue:Aw,EMPTY_PATH:[],addIssueToContext:Ew,ParseStatus:Sw,INVALID:Cw,DIRTY:_w,OK:kw,isAborted:xw,isDirty:Iw,isValid:Nw,isAsync:Tw,get util(){return lw},get objectUtil(){return dw},ZodParsedType:pw,getParsedType:gw,ZodType:Uw,ZodString:qw,ZodNumber:Gw,ZodBigInt:Jw,ZodBoolean:Yw,ZodDate:Qw,ZodSymbol:Zw,ZodUndefined:Xw,ZodNull:$w,ZodAny:eA,ZodUnknown:tA,ZodNever:nA,ZodVoid:rA,ZodArray:iA,ZodObject:oA,ZodUnion:aA,ZodDiscriminatedUnion:lA,ZodIntersection:dA,ZodTuple:hA,ZodRecord:fA,ZodMap:pA,ZodSet:gA,ZodFunction:mA,ZodLazy:vA,ZodLiteral:yA,ZodEnum:wA,ZodNativeEnum:AA,ZodPromise:EA,ZodEffects:SA,ZodTransformer:SA,ZodOptional:CA,ZodNullable:_A,ZodDefault:kA,ZodCatch:xA,ZodNaN:IA,BRAND:NA,ZodBranded:TA,ZodPipeline:PA,ZodReadonly:OA,custom:RA,Schema:Uw,ZodSchema:Uw,late:MA,get ZodFirstPartyTypeKind(){return DA},coerce:vE,any:KA,array:QA,bigint:jA,boolean:zA,date:WA,discriminatedUnion:eE,effect:hE,enum:lE,function:oE,instanceof:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)};return RA((t=>t instanceof e),t)},intersection:tE,lazy:aE,literal:cE,map:iE,nan:FA,nativeEnum:uE,never:JA,null:qA,nullable:pE,number:BA,object:ZA,oboolean:()=>zA().optional(),onumber:()=>BA().optional(),optional:fE,ostring:()=>LA().optional(),pipeline:mE,preprocess:gE,promise:dE,record:rE,set:sE,strictObject:XA,string:LA,symbol:HA,transformer:hE,tuple:nE,undefined:VA,union:$A,unknown:GA,void:YA,NEVER:yE,ZodIssueCode:mw,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:vw});const wE=bE.object({message:bE.string()});function AE(e){return bE.literal(fw.s1[e])}bE.object({accessList:bE.array(bE.string()),blockHash:bE.string().nullable(),blockNumber:bE.string().nullable(),chainId:bE.string().or(bE.number()),from:bE.string(),gas:bE.string(),hash:bE.string(),input:bE.string().nullable(),maxFeePerGas:bE.string(),maxPriorityFeePerGas:bE.string(),nonce:bE.string(),r:bE.string(),s:bE.string(),to:bE.string(),transactionIndex:bE.string().nullable(),type:bE.string(),v:bE.string(),value:bE.string()});const EE=bE.object({chainId:bE.string().or(bE.number())}),SE=bE.object({email:bE.string().email()}),CE=bE.object({otp:bE.string()}),_E=bE.object({uri:bE.string()}),kE=bE.object({chainId:bE.optional(bE.string().or(bE.number())),preferredAccountType:bE.optional(bE.string())}),xE=bE.object({provider:bE.enum(["google","github","apple","facebook","x","discord"])}),IE=bE.object({email:bE.string().email()}),NE=bE.object({otp:bE.string()}),TE=bE.object({otp:bE.string()}),PE=bE.object({themeMode:bE.optional(bE.enum(["light","dark"])),themeVariables:bE.optional(bE.record(bE.string(),bE.string().or(bE.number()))),w3mThemeVariables:bE.optional(bE.record(bE.string(),bE.string()))}),OE=bE.object({metadata:bE.object({name:bE.string(),description:bE.string(),url:bE.string(),icons:bE.array(bE.string())}).optional(),sdkVersion:bE.string().optional(),sdkType:bE.string().optional(),projectId:bE.string()}),RE=bE.object({type:bE.string()}),ME=bE.object({action:bE.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),DE=bE.object({url:bE.string()}),UE=bE.object({userName:bE.string()}),LE=bE.object({email:bE.string().optional().nullable(),address:bE.string(),chainId:bE.string().or(bE.number()),accounts:bE.array(bE.object({address:bE.string(),type:bE.enum([fw.Vl.ACCOUNT_TYPES.EOA,fw.Vl.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:bE.string().optional().nullable()}),BE=bE.object({action:bE.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),FE=bE.object({email:bE.string().email().optional().nullable(),address:bE.string(),chainId:bE.string().or(bE.number()),smartAccountDeployed:bE.optional(bE.boolean()),accounts:bE.array(bE.object({address:bE.string(),type:bE.enum([fw.Vl.ACCOUNT_TYPES.EOA,fw.Vl.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:bE.optional(bE.string())}),jE=bE.object({uri:bE.string()}),zE=bE.object({isConnected:bE.boolean()}),WE=bE.object({chainId:bE.string().or(bE.number())}),HE=bE.object({chainId:bE.string().or(bE.number())}),VE=bE.object({newEmail:bE.string().email()}),qE=bE.object({smartAccountEnabledNetworks:bE.array(bE.number())}),KE=(bE.object({address:bE.string(),isDeployed:bE.boolean()}),bE.object({version:bE.string().optional()})),GE=bE.object({type:bE.string(),address:bE.string()}),JE=bE.any(),YE=bE.object({method:bE.literal("eth_accounts")}),QE=bE.object({method:bE.literal("eth_blockNumber")}),ZE=bE.object({method:bE.literal("eth_call"),params:bE.array(bE.any())}),XE=bE.object({method:bE.literal("eth_chainId")}),$E=bE.object({method:bE.literal("eth_estimateGas"),params:bE.array(bE.any())}),eS=bE.object({method:bE.literal("eth_feeHistory"),params:bE.array(bE.any())}),tS=bE.object({method:bE.literal("eth_gasPrice")}),nS=bE.object({method:bE.literal("eth_getAccount"),params:bE.array(bE.any())}),rS=bE.object({method:bE.literal("eth_getBalance"),params:bE.array(bE.any())}),iS=bE.object({method:bE.literal("eth_getBlockByHash"),params:bE.array(bE.any())}),sS=bE.object({method:bE.literal("eth_getBlockByNumber"),params:bE.array(bE.any())}),oS=bE.object({method:bE.literal("eth_getBlockReceipts"),params:bE.array(bE.any())}),aS=bE.object({method:bE.literal("eth_getBlockTransactionCountByHash"),params:bE.array(bE.any())}),cS=bE.object({method:bE.literal("eth_getBlockTransactionCountByNumber"),params:bE.array(bE.any())}),lS=bE.object({method:bE.literal("eth_getCode"),params:bE.array(bE.any())}),uS=bE.object({method:bE.literal("eth_getFilterChanges"),params:bE.array(bE.any())}),dS=bE.object({method:bE.literal("eth_getFilterLogs"),params:bE.array(bE.any())}),hS=bE.object({method:bE.literal("eth_getLogs"),params:bE.array(bE.any())}),fS=bE.object({method:bE.literal("eth_getProof"),params:bE.array(bE.any())}),pS=bE.object({method:bE.literal("eth_getStorageAt"),params:bE.array(bE.any())}),gS=bE.object({method:bE.literal("eth_getTransactionByBlockHashAndIndex"),params:bE.array(bE.any())}),mS=bE.object({method:bE.literal("eth_getTransactionByBlockNumberAndIndex"),params:bE.array(bE.any())}),vS=bE.object({method:bE.literal("eth_getTransactionByHash"),params:bE.array(bE.any())}),yS=bE.object({method:bE.literal("eth_getTransactionCount"),params:bE.array(bE.any())}),bS=bE.object({method:bE.literal("eth_getTransactionReceipt"),params:bE.array(bE.any())}),wS=bE.object({method:bE.literal("eth_getUncleCountByBlockHash"),params:bE.array(bE.any())}),AS=bE.object({method:bE.literal("eth_getUncleCountByBlockNumber"),params:bE.array(bE.any())}),ES=bE.object({method:bE.literal("eth_maxPriorityFeePerGas")}),SS=bE.object({method:bE.literal("eth_newBlockFilter")}),CS=bE.object({method:bE.literal("eth_newFilter"),params:bE.array(bE.any())}),_S=bE.object({method:bE.literal("eth_newPendingTransactionFilter")}),kS=bE.object({method:bE.literal("eth_sendRawTransaction"),params:bE.array(bE.any())}),xS=bE.object({method:bE.literal("eth_syncing"),params:bE.array(bE.any())}),IS=bE.object({method:bE.literal("eth_uninstallFilter"),params:bE.array(bE.any())}),NS=bE.object({method:bE.literal("personal_sign"),params:bE.array(bE.any())}),TS=bE.object({method:bE.literal("eth_signTypedData_v4"),params:bE.array(bE.any())}),PS=bE.object({method:bE.literal("eth_sendTransaction"),params:bE.array(bE.any())}),OS=bE.object({method:bE.literal("solana_signMessage"),params:bE.object({message:bE.string(),pubkey:bE.string()})}),RS=bE.object({method:bE.literal("solana_signTransaction"),params:bE.object({transaction:bE.string()})}),MS=bE.object({method:bE.literal("solana_signAllTransactions"),params:bE.object({transactions:bE.array(bE.string())})}),DS=bE.object({method:bE.literal("solana_signAndSendTransaction"),params:bE.object({transaction:bE.string(),options:bE.object({skipPreflight:bE.boolean().optional(),preflightCommitment:bE.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:bE.number().optional(),minContextSlot:bE.number().optional()}).optional()})}),US=bE.object({method:bE.literal("wallet_sendCalls"),params:bE.array(bE.object({chainId:bE.string().or(bE.number()).optional(),from:bE.string().optional(),version:bE.string().optional(),capabilities:bE.any().optional(),calls:bE.array(bE.object({to:bE.string().startsWith("0x"),data:bE.string().startsWith("0x").optional(),value:bE.string().optional()}))}))}),LS=bE.object({method:bE.literal("wallet_getCallsStatus"),params:bE.array(bE.string())}),BS=bE.object({method:bE.literal("wallet_getCapabilities")}),FS=bE.object({method:bE.literal("wallet_grantPermissions"),params:bE.array(bE.any())}),jS=bE.object({method:bE.literal("wallet_revokePermissions"),params:bE.any()}),zS=bE.object({method:bE.literal("wallet_getAssets"),params:bE.any()}),WS=bE.object({token:bE.string()}),HS=bE.object({id:bE.string().optional()}),VS={appEvent:HS.extend({type:AE("APP_SWITCH_NETWORK"),payload:EE}).or(HS.extend({type:AE("APP_CONNECT_EMAIL"),payload:SE})).or(HS.extend({type:AE("APP_CONNECT_DEVICE")})).or(HS.extend({type:AE("APP_CONNECT_OTP"),payload:CE})).or(HS.extend({type:AE("APP_CONNECT_SOCIAL"),payload:_E})).or(HS.extend({type:AE("APP_GET_FARCASTER_URI")})).or(HS.extend({type:AE("APP_CONNECT_FARCASTER")})).or(HS.extend({type:AE("APP_GET_USER"),payload:bE.optional(kE)})).or(HS.extend({type:AE("APP_GET_SOCIAL_REDIRECT_URI"),payload:xE})).or(HS.extend({type:AE("APP_SIGN_OUT")})).or(HS.extend({type:AE("APP_IS_CONNECTED"),payload:bE.optional(WS)})).or(HS.extend({type:AE("APP_GET_CHAIN_ID")})).or(HS.extend({type:AE("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(HS.extend({type:AE("APP_INIT_SMART_ACCOUNT")})).or(HS.extend({type:AE("APP_SET_PREFERRED_ACCOUNT"),payload:RE})).or(HS.extend({type:AE("APP_RPC_REQUEST"),payload:NS.or(zS).or(YE).or(QE).or(ZE).or(XE).or($E).or(eS).or(tS).or(nS).or(rS).or(iS).or(sS).or(oS).or(aS).or(cS).or(lS).or(uS).or(dS).or(hS).or(fS).or(pS).or(gS).or(mS).or(vS).or(yS).or(bS).or(wS).or(AS).or(ES).or(SS).or(CS).or(_S).or(kS).or(xS).or(IS).or(NS).or(TS).or(PS).or(OS).or(RS).or(MS).or(DS).or(LS).or(US).or(BS).or(FS).or(jS)})).or(HS.extend({type:AE("APP_UPDATE_EMAIL"),payload:IE})).or(HS.extend({type:AE("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:NE})).or(HS.extend({type:AE("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:TE})).or(HS.extend({type:AE("APP_SYNC_THEME"),payload:PE})).or(HS.extend({type:AE("APP_SYNC_DAPP_DATA"),payload:OE})).or(HS.extend({type:AE("APP_RELOAD")})),frameEvent:HS.extend({type:AE("FRAME_SWITCH_NETWORK_ERROR"),payload:wE}).or(HS.extend({type:AE("FRAME_SWITCH_NETWORK_SUCCESS"),payload:HE})).or(HS.extend({type:AE("FRAME_CONNECT_EMAIL_SUCCESS"),payload:ME})).or(HS.extend({type:AE("FRAME_CONNECT_EMAIL_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:DE})).or(HS.extend({type:AE("FRAME_GET_FARCASTER_URI_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:UE})).or(HS.extend({type:AE("FRAME_CONNECT_FARCASTER_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_CONNECT_OTP_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_CONNECT_OTP_SUCCESS")})).or(HS.extend({type:AE("FRAME_CONNECT_DEVICE_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_CONNECT_DEVICE_SUCCESS")})).or(HS.extend({type:AE("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:LE})).or(HS.extend({type:AE("FRAME_CONNECT_SOCIAL_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_GET_USER_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_GET_USER_SUCCESS"),payload:FE})).or(HS.extend({type:AE("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:jE})).or(HS.extend({type:AE("FRAME_SIGN_OUT_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_SIGN_OUT_SUCCESS")})).or(HS.extend({type:AE("FRAME_IS_CONNECTED_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_IS_CONNECTED_SUCCESS"),payload:zE})).or(HS.extend({type:AE("FRAME_GET_CHAIN_ID_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_GET_CHAIN_ID_SUCCESS"),payload:WE})).or(HS.extend({type:AE("FRAME_RPC_REQUEST_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_RPC_REQUEST_SUCCESS"),payload:JE})).or(HS.extend({type:AE("FRAME_SESSION_UPDATE"),payload:WS})).or(HS.extend({type:AE("FRAME_UPDATE_EMAIL_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_UPDATE_EMAIL_SUCCESS"),payload:BE})).or(HS.extend({type:AE("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(HS.extend({type:AE("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:VE})).or(HS.extend({type:AE("FRAME_SYNC_THEME_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_SYNC_THEME_SUCCESS")})).or(HS.extend({type:AE("FRAME_SYNC_DAPP_DATA_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(HS.extend({type:AE("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:qE})).or(HS.extend({type:AE("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:GE})).or(HS.extend({type:AE("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_READY"),payload:KE})).or(HS.extend({type:AE("FRAME_RELOAD_ERROR"),payload:wE})).or(HS.extend({type:AE("FRAME_RELOAD_SUCCESS")}))};function qS(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof(null===n||void 0===n?void 0:n.type)&&(null===n||void 0===n||null===(t=n.type)||void 0===t?void 0:t.includes(e))}class KS{constructor(e){let{projectId:t,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0}=e;if(this.iframe=null,this.rpcUrl=Wb.o.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const e=document.getElementById("w3m-iframe");this.iframe&&!e&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(e,t,n)=>{function r(n){let{data:i}=n;if(!qS(fw.s1.FRAME_EVENT_KEY,i))return;const s=VS.frameEvent.parse(i);s.id===e&&(t(s),window.removeEventListener("message",r))}hw.Q.isClient&&(window.addEventListener("message",r),n.addEventListener("abort",(()=>{window.removeEventListener("message",r)})))},onFrameEvent:e=>{hw.Q.isClient&&window.addEventListener("message",(t=>{let{data:n}=t;if(!qS(fw.s1.FRAME_EVENT_KEY,n))return;const r=VS.frameEvent.parse(n);e(r)}))},onAppEvent:e=>{hw.Q.isClient&&window.addEventListener("message",(t=>{let{data:n}=t;if(!qS(fw.s1.APP_EVENT_KEY,n))return;const r=VS.appEvent.parse(n);e(r)}))},postAppEvent:e=>{if(hw.Q.isClient){var t;if(null===(t=this.iframe)||void 0===t||!t.contentWindow)throw new Error("W3mFrame: iframe is not set");VS.appEvent.parse(e),this.iframe.contentWindow.postMessage(e,"*")}},postFrameEvent:e=>{if(hw.Q.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");VS.frameEvent.parse(e),parent.postMessage(e,"*")}}},this.projectId=t,this.frameLoadPromise=new Promise(((e,t)=>{this.frameLoadPromiseResolver={resolve:e,reject:t}})),n&&(this.frameLoadPromise=new Promise(((e,t)=>{this.frameLoadPromiseResolver={resolve:e,reject:t}})),hw.Q.isClient)){const e=document.createElement("iframe");e.id="w3m-iframe",e.src="".concat(fw.hy,"?projectId=").concat(t,"&chainId=").concat(r,"&version=").concat(fw.gS,"&enableLogger=").concat(i),e.name="w3m-secure-iframe",e.style.position="fixed",e.style.zIndex="999999",e.style.display="none",e.style.animationDelay="0s, 50ms",e.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",e.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=e,this.iframe.onerror=()=>{var e;null===(e=this.frameLoadPromiseResolver)||void 0===e||e.reject("Unable to load email login dependency")},this.events.onFrameEvent((e=>{var t;"@w3m-frame/READY"===e.type&&(null===(t=this.frameLoadPromiseResolver)||void 0===t||t.resolve(void 0))}))}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map((e=>({[e]:{rpcUrl:"".concat(this.rpcUrl,"/v1/?chainId=").concat(e,"&projectId=").concat(this.projectId),chainId:e}})));return Object.assign({},...e)}}var GS=n(9397);class JS{constructor(e){var t;const n=(0,GS.iP)({level:fw.OH}),{logger:r,chunkLoggerController:i}=(0,GS.D5)({opts:n});this.logger=(0,GS.U5)(r,this.constructor.name),this.chunkLoggerController=i,"undefined"!==typeof window&&null!==(t=this.chunkLoggerController)&&void 0!==t&&t.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var t;null!==(t=this.chunkLoggerController)&&void 0!==t&&t.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}var YS=n(7887);class QS{constructor(e){let{projectId:t,chainId:n,enableLogger:r=!0,onTimeout:i}=e;this.openRpcRequests=[],r&&(this.w3mLogger=new JS(t)),this.w3mFrame=new KS({projectId:t,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise((e=>{this.w3mFrame.events.onFrameEvent((t=>{t.type===fw.s1.FRAME_READY&&(this.initPromise=void 0,e())}))}))}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return Boolean(YS.o.get(fw.s1.EMAIL_LOGIN_USED_KEY))}getEmail(){return YS.o.get(fw.s1.EMAIL)}getUsername(){return YS.o.get(fw.s1.SOCIAL_USERNAME)}async reload(){try{this.w3mFrame.initFrame(),await this.appEvent({type:fw.s1.APP_RELOAD})}catch(t){var e;throw null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:t},"Error reloading iframe"),t}}async connectEmail(e){try{hw.Q.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const t=await this.appEvent({type:fw.s1.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:fw.s1.APP_CONNECT_DEVICE})}catch(t){var e;throw null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:t},"Error connecting device"),t}}async connectOtp(e){try{return this.appEvent({type:fw.s1.APP_CONNECT_OTP,payload:e})}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:fw.s1.APP_IS_CONNECTED});return e.isConnected||this.deleteAuthLoginCache(),e}catch(t){var e;throw this.deleteAuthLoginCache(),null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:t},"Error checking connection"),t}}async getChainId(){try{const e=await this.appEvent({type:fw.s1.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(t){var e;throw null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:t},"Error getting chain id"),t}}async getSocialRedirectUri(e){try{return this.w3mFrame.initFrame(),this.appEvent({type:fw.s1.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){try{const t=await this.appEvent({type:fw.s1.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:fw.s1.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){try{const t=await this.appEvent({type:fw.s1.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(t.newEmail),t}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){try{return this.appEvent({type:fw.s1.APP_SYNC_THEME,payload:e})}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){try{return this.appEvent({type:fw.s1.APP_SYNC_DAPP_DATA,payload:e})}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:fw.s1.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(t){var e;throw this.persistSmartAccountEnabledNetworks([]),null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:t},"Error getting smart account enabled networks"),t}}async setPreferredAccount(e){try{return this.appEvent({type:fw.s1.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){try{const t=(null===e||void 0===e?void 0:e.chainId)||this.getLastUsedChainId()||1,n=await this.appEvent({type:fw.s1.APP_GET_USER,payload:(0,s.A)((0,s.A)({},e),{},{chainId:t})});return this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error connecting"),n}}async getUser(e){try{const t=(null===e||void 0===e?void 0:e.chainId)||this.getLastUsedChainId()||1,n=await this.appEvent({type:fw.s1.APP_GET_USER,payload:(0,s.A)((0,s.A)({},e),{},{chainId:t})});return this.user=n,n}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error connecting"),n}}async connectSocial(e){try{this.w3mFrame.initFrame();const t=await this.appEvent({type:fw.s1.APP_CONNECT_SOCIAL,payload:{uri:e}});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){try{this.w3mFrame.initFrame();return await this.appEvent({type:fw.s1.APP_GET_FARCASTER_URI})}catch(t){var e;throw null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:t},"Error getting farcaster uri"),t}}async connectFarcaster(){try{const e=await this.appEvent({type:fw.s1.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(t){var e;throw null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:t},"Error connecting farcaster"),t}}async switchNetwork(e){try{const t=await this.appEvent({type:fw.s1.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(t.chainId),t}catch(n){var t;throw null===(t=this.w3mLogger)||void 0===t||t.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{const e=await this.appEvent({type:fw.s1.APP_SIGN_OUT});return this.deleteAuthLoginCache(),e}catch(t){var e;throw null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:t},"Error disconnecting"),t}}async request(e){try{var t,n;if(fw.Vl.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();null===(t=this.rpcRequestHandler)||void 0===t||t.call(this,e);const r=await this.appEvent({type:fw.s1.APP_RPC_REQUEST,payload:e});return null===(n=this.rpcSuccessHandler)||void 0===n||n.call(this,r,e),r}catch(s){var r,i;throw null===(r=this.rpcErrorHandler)||void 0===r||r.call(this,s,e),null===(i=this.w3mLogger)||void 0===i||i.logger.error({error:s},"Error requesting"),s}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent((t=>{t.type===fw.s1.FRAME_IS_CONNECTED_SUCCESS&&t.payload.isConnected&&e()}))}onNotConnected(e){this.w3mFrame.events.onFrameEvent((t=>{t.type===fw.s1.FRAME_IS_CONNECTED_ERROR&&e(),t.type!==fw.s1.FRAME_IS_CONNECTED_SUCCESS||t.payload.isConnected||e()}))}onConnect(e){this.w3mFrame.events.onFrameEvent((t=>{t.type===fw.s1.FRAME_GET_USER_SUCCESS&&e(t.payload)}))}onSocialConnected(e){this.w3mFrame.events.onFrameEvent((t=>{t.type===fw.s1.FRAME_CONNECT_SOCIAL_SUCCESS&&e(t.payload)}))}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch(e){return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent((t=>{t.type===fw.s1.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(t.payload):t.type===fw.s1.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:fw.Vl.ACCOUNT_TYPES.EOA})}))}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent((t=>{t.type===fw.s1.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(t.payload.smartAccountEnabledNetworks):t.type===fw.s1.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])}))}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){try{this.openRpcRequests.forEach((e=>{let{abortController:t,method:n}=e;fw.Vl.SAFE_RPC_METHODS.includes(n)||t.abort()})),this.openRpcRequests=[]}catch(uD){var e;null===(e=this.w3mLogger)||void 0===e||e.logger.error({error:uD},"Error aborting RPC request")}}async appEvent(e){let t;function n(e){return e.replace("@w3m-app/","")}await this.w3mFrame.frameLoadPromise;const r=new AbortController,i=n(e.type);return[fw.s1.APP_CONNECT_EMAIL,fw.s1.APP_CONNECT_DEVICE,fw.s1.APP_CONNECT_OTP,fw.s1.APP_CONNECT_SOCIAL,fw.s1.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(i)&&(t=setTimeout((()=>{var e;null===(e=this.onTimeout)||void 0===e||e.call(this),r.abort()}),3e4)),new Promise(((n,o)=>{var a,c,l;const u=Math.random().toString(36).substring(7);if(null===(a=this.w3mLogger)||void 0===a||null===(c=(l=a.logger).info)||void 0===c||c.call(l,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent((0,s.A)((0,s.A)({},e),{},{id:u})),"RPC_REQUEST"===i){const t=e;this.openRpcRequests=[...this.openRpcRequests,(0,s.A)((0,s.A)({},t.payload),{},{abortController:r})]}r.signal.addEventListener("abort",(()=>{"RPC_REQUEST"===i?o(new Error("Request was aborted")):"GET_FARCASTER_URI"!==i&&o(new Error("Something went wrong"))})),this.w3mFrame.events.registerFrameEventHandler(u,(e=>function(e,r){var s,a;if(e.id===u)if(null===r||void 0===r||null===(s=(a=r.logger).info)||void 0===s||s.call(a,{framEvent:e,id:u},"Received frame response"),e.type==="@w3m-frame/".concat(i,"_SUCCESS"))t&&clearTimeout(t),"payload"in e&&n(e.payload),n(void 0);else if(e.type==="@w3m-frame/".concat(i,"_ERROR")){var c;t&&clearTimeout(t),"payload"in e&&o(new Error((null===(c=e.payload)||void 0===c?void 0:c.message)||"An error occurred")),o(new Error("An error occurred"))}}(e,this.w3mLogger)),r.signal)}))}setNewLastEmailLoginTime(){YS.o.set(fw.s1.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){YS.o.set(fw.s1.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&YS.o.set(fw.s1.EMAIL,e),YS.o.set(fw.s1.EMAIL_LOGIN_USED_KEY,"true"),YS.o.delete(fw.s1.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){YS.o.delete(fw.s1.EMAIL_LOGIN_USED_KEY),YS.o.delete(fw.s1.EMAIL),YS.o.delete(fw.s1.LAST_USED_CHAIN_KEY),YS.o.delete(fw.s1.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&YS.o.set(fw.s1.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){var e;const t=null!==(e=YS.o.get(fw.s1.LAST_USED_CHAIN_KEY))&&void 0!==e?e:void 0,n=Number(t);return isNaN(n)?t:n}persistSmartAccountEnabledNetworks(e){YS.o.set(fw.s1.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class ZS{constructor(){}static getInstance(e){let{projectId:t,chainId:n,enableLogger:r,onTimeout:i}=e;return ZS.instance||(ZS.instance=new QS({projectId:t,chainId:n,enableLogger:r,onTimeout:i})),ZS.instance}}var XS=n(2424);const $S={validateCaipAddress(e){var t;if(3!==(null===(t=e.split(":"))||void 0===t?void 0:t.length))throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(3!==t.length)throw new Error("Invalid CAIP-10 address: ".concat(e));const[n,r,i]=t;if(!n||!r||!i)throw new Error("Invalid CAIP-10 address: ".concat(e));return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(e){const t=e.split(":");if(2!==t.length)throw new Error("Invalid CAIP-2 network id: ".concat(e));const[n,r]=t;if(!n||!r)throw new Error("Invalid CAIP-2 network id: ".concat(e));return{chainNamespace:n,chainId:r}}};var eC=n(9632),tC=n(5618),nC=n(3609),rC=n(3793),iC=n(1348),sC=n(4098),oC=n(7258),aC=n(1139),cC=(n(629),n(1391),n(3005)),lC=n(9268);const uC=(e,t,n)=>JSON.stringify(e,((e,n)=>{const r="bigint"===typeof n?n.toString():n;return"function"===typeof t?t(e,r):r}),n),dC="2.24.1";let hC={getDocsUrl:e=>{let{docsBaseUrl:t,docsPath:n="",docsSlug:r}=e;return n?"".concat(null!==t&&void 0!==t?t:"https://viem.sh").concat(n).concat(r?"#".concat(r):""):void 0},version:"viem@".concat(dC)};class fC extends Error{constructor(e){var t,n,r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=i.cause instanceof fC?i.cause.details:null!==(a=i.cause)&&void 0!==a&&a.message?i.cause.message:i.details;var a;const c=i.cause instanceof fC&&i.cause.docsPath||i.docsPath,l=null===(t=(n=hC).getDocsUrl)||void 0===t?void 0:t.call(n,(0,s.A)((0,s.A)({},i),{},{docsPath:c}));super([e||"An error occurred.","",...i.metaMessages?[...i.metaMessages,""]:[],...l?["Docs: ".concat(l)]:[],...o?["Details: ".concat(o)]:[],...hC.version?["Version: ".concat(hC.version)]:[]].join("\n"),i.cause?{cause:i.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=o,this.docsPath=c,this.metaMessages=i.metaMessages,this.name=null!==(r=i.name)&&void 0!==r?r:this.name,this.shortMessage=e,this.version=dC}walk(e){return pC(this,e)}}function pC(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e&&void 0!==e.cause?pC(e.cause,t):t?null:e}class gC extends fC{constructor(e){let{body:t,cause:n,details:r,headers:i,status:s,url:o}=e;super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&"Status: ".concat(s),"URL: ".concat(o),t&&"Request body: ".concat(uC(t))].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=i,this.status=s,this.url=o}}class mC extends fC{constructor(e){let{body:t,error:n,url:r}=e;super("RPC Request failed.",{cause:n,details:n.message,metaMessages:["URL: ".concat(r),"Request body: ".concat(uC(t))],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class vC extends fC{constructor(e){let{body:t,url:n}=e;super("The request took too long to respond.",{details:"The request timed out.",metaMessages:["URL: ".concat(n),"Request body: ".concat(uC(t))],name:"TimeoutError"})}}class yC extends fC{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}const bC=new Map;function wC(e){let{fn:t,id:n,shouldSplitBatch:r,wait:i=0,sort:s}=e;const o=async()=>{const e=c();a();const n=e.map((e=>{let{args:t}=e;return t}));0!==n.length&&t(n).then((t=>{s&&Array.isArray(t)&&t.sort(s);for(let n=0;n<e.length;n++){const{resolve:r}=e[n];null===r||void 0===r||r([t[n],t])}})).catch((t=>{for(let n=0;n<e.length;n++){const{reject:r}=e[n];null===r||void 0===r||r(t)}}))},a=()=>bC.delete(n),c=()=>bC.get(n)||[],l=e=>bC.set(n,[...c(),e]);return{flush:a,async schedule(e){const{promise:t,resolve:n,reject:s}=function(){let e=()=>{},t=()=>{};return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}();(null===r||void 0===r?void 0:r([...c().map((e=>{let{args:t}=e;return t})),e]))&&o();return c().length>0?(l({args:e,resolve:n,reject:s}),t):(l({args:e,resolve:n,reject:s}),setTimeout(o,i),t)}}}function AC(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const EC=AC();function SC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{async request(n){var r,i,o;const{body:a,onRequest:c=t.onRequest,onResponse:l=t.onResponse,timeout:u=(null!==(r=t.timeout)&&void 0!==r?r:1e4)}=n,d=(0,s.A)((0,s.A)({},null!==(i=t.fetchOptions)&&void 0!==i?i:{}),null!==(o=n.fetchOptions)&&void 0!==o?o:{}),{headers:h,method:f,signal:p}=d;try{var g;const t=await function(e,t){let{errorInstance:n=new Error("timed out"),timeout:r,signal:i}=t;return new Promise(((t,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout((()=>{i?a.abort():s(n)}),r)),t(await e({signal:(null===a||void 0===a?void 0:a.signal)||null}))}catch(a){"AbortError"===(null===a||void 0===a?void 0:a.name)&&s(n),s(a)}finally{clearTimeout(o)}})()}))}((async t=>{var n,r,i;let{signal:o}=t;const l=(0,s.A)((0,s.A)({},d),{},{body:Array.isArray(a)?uC(a.map((e=>{var t;return(0,s.A)({jsonrpc:"2.0",id:null!==(t=e.id)&&void 0!==t?t:EC.take()},e)}))):uC((0,s.A)({jsonrpc:"2.0",id:null!==(n=a.id)&&void 0!==n?n:EC.take()},a)),headers:(0,s.A)({"Content-Type":"application/json"},h),method:f||"POST",signal:p||(u>0?o:null)}),g=new Request(e,l),m=null!==(r=await(null===c||void 0===c?void 0:c(g,l)))&&void 0!==r?r:(0,s.A)((0,s.A)({},l),{},{url:e});return await fetch(null!==(i=m.url)&&void 0!==i?i:e,m)}),{errorInstance:new vC({body:a,url:e}),timeout:u,signal:!0});let n;if(l&&await l(t),null!==(g=t.headers.get("Content-Type"))&&void 0!==g&&g.startsWith("application/json"))n=await t.json();else{n=await t.text();try{n=JSON.parse(n||"{}")}catch(m){if(t.ok)throw m;n={error:n}}}if(!t.ok)throw new gC({body:a,details:uC(n.error)||t.statusText,headers:t.headers,status:t.status,url:e});return n}catch(m){if(m instanceof gC)throw m;if(m instanceof vC)throw m;throw new gC({body:a,cause:m,url:e})}}}}class CC extends fC{constructor(e,t){let{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}=t;super(o,{cause:e,docsPath:r,metaMessages:i||(null===e||void 0===e?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof mC?e.code:null!==n&&void 0!==n?n:-1}}class _C extends CC{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class kC extends CC{constructor(e){super(e,{code:kC.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(kC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class xC extends CC{constructor(e){super(e,{code:xC.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(xC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class IC extends CC{constructor(e){let{method:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,{code:IC.code,name:"MethodNotFoundRpcError",shortMessage:"The method".concat(t?' "'.concat(t,'"'):""," does not exist / is not available.")})}}Object.defineProperty(IC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class NC extends CC{constructor(e){super(e,{code:NC.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(NC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class TC extends CC{constructor(e){super(e,{code:TC.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(TC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class PC extends CC{constructor(e){super(e,{code:PC.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(PC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class OC extends CC{constructor(e){super(e,{code:OC.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(OC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class RC extends CC{constructor(e){super(e,{code:RC.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(RC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class MC extends CC{constructor(e){super(e,{code:MC.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(MC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class DC extends CC{constructor(e){let{method:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,{code:DC.code,name:"MethodNotSupportedRpcError",shortMessage:"Method".concat(t?' "'.concat(t,'"'):""," is not supported.")})}}Object.defineProperty(DC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class UC extends CC{constructor(e){super(e,{code:UC.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(UC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class LC extends CC{constructor(e){super(e,{code:LC.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(LC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class BC extends _C{constructor(e){super(e,{code:BC.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(BC,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class FC extends _C{constructor(e){super(e,{code:FC.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(FC,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class jC extends _C{constructor(e){let{method:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,{code:jC.code,name:"UnsupportedProviderMethodError",shortMessage:"The Provider does not support the requested method".concat(t?' " '.concat(t,'"'):"",".")})}}Object.defineProperty(jC,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class zC extends _C{constructor(e){super(e,{code:zC.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(zC,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class WC extends _C{constructor(e){super(e,{code:WC.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(WC,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class HC extends _C{constructor(e){super(e,{code:HC.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(HC,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class VC extends CC{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class qC extends fC{constructor(e){let{max:t,min:n,signed:r,size:i,value:s}=e;super('Number "'.concat(s,'" is not in safe ').concat(i?"".concat(8*i,"-bit ").concat(r?"signed":"unsigned"," "):"","integer range ").concat(t?"(".concat(n," to ").concat(t,")"):"(above ".concat(n,")")),{name:"IntegerOutOfRangeError"})}}class KC extends fC{constructor(e){let{givenSize:t,maxSize:n}=e;super("Size cannot exceed ".concat(n," bytes. Given size: ").concat(t," bytes."),{name:"SizeOverflowError"})}}class GC extends fC{constructor(e){let{size:t,targetSize:n,type:r}=e;super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (").concat(t,") exceeds padding size (").concat(n,")."),{name:"SizeExceedsPaddingSizeError"})}}function JC(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new GC({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return"0x".concat(r["right"===t?"padEnd":"padStart"](2*n,"0"))}(e,{dir:t,size:n}):function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;if(e.length>n)throw new GC({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s="right"===t;r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}(e,{dir:t,size:n})}function YC(e){return function(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&"string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function QC(e,t){let{size:n}=t;if(YC(e)>n)throw new KC({givenSize:YC(e),maxSize:n})}const ZC=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function XC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"===typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"===typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"===typeof e?"n":"";throw new qC({max:s?"".concat(s).concat(t):void 0,min:"".concat(o).concat(t),signed:n,size:r,value:"".concat(e).concat(t)})}const a="0x".concat((n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16));return r?JC(a,{size:r}):a}(e,t):"string"===typeof e?t_(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="0x".concat(Number(e));if("number"===typeof t.size)return QC(n,{size:t.size}),JC(n,{size:t.size});return n}(e,t):$C(e,t)}function $C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let i=0;i<e.length;i++)n+=ZC[e[i]];const r="0x".concat(n);return"number"===typeof t.size?(QC(r,{size:t.size}),JC(r,{dir:"right",size:t.size})):r}const e_=new TextEncoder;function t_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $C(e_.encode(e),t)}class n_ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const r_=new n_(8192);async function i_(e){return new Promise((t=>setTimeout(t,e)))}function s_(e){let{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,s)=>{const o=async function(){let{count:a=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=await e();i(t)}catch(c){if(a<n&&await r({count:a,error:c}))return(async e=>{let{error:n}=e;const r="function"===typeof t?t({count:a,error:n}):t;r&&await i_(r),o({count:a+1})})({error:c});s(c)}};o()}))}function o_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function(n){var r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{dedupe:o=!1,methods:a,retryDelay:c=150,retryCount:l=3,uid:u}=(0,s.A)((0,s.A)({},t),i),{method:d}=n;if(null!==a&&void 0!==a&&null!==(r=a.exclude)&&void 0!==r&&r.includes(d))throw new DC(new Error("method not supported"),{method:d});if(null!==a&&void 0!==a&&a.include&&!a.include.includes(d))throw new DC(new Error("method not supported"),{method:d});return function(e,t){let{enabled:n=!0,id:r}=t;if(!n||!r)return e();if(r_.get(r))return r_.get(r);const i=e().finally((()=>r_.delete(r)));return r_.set(r,i),i}((()=>s_((async()=>{try{return await e(n)}catch(t){const e=t;switch(e.code){case kC.code:throw new kC(e);case xC.code:throw new xC(e);case IC.code:throw new IC(e,{method:n.method});case NC.code:throw new NC(e);case TC.code:throw new TC(e);case PC.code:throw new PC(e);case OC.code:throw new OC(e);case RC.code:throw new RC(e);case MC.code:throw new MC(e);case DC.code:throw new DC(e,{method:n.method});case UC.code:throw new UC(e);case LC.code:throw new LC(e);case BC.code:throw new BC(e);case FC.code:throw new FC(e);case jC.code:throw new jC(e);case zC.code:throw new zC(e);case WC.code:throw new WC(e);case HC.code:throw new HC(e);case 5e3:throw new BC(e);default:if(t instanceof fC)throw t;throw new VC(e)}}}),{delay:e=>{let{count:t,error:n}=e;if(n&&n instanceof gC){var r;const e=null===n||void 0===n||null===(r=n.headers)||void 0===r?void 0:r.get("Retry-After");if(null!==e&&void 0!==e&&e.match(/\d/))return 1e3*Number.parseInt(e)}return(1<<t)*c},retryCount:l,shouldRetry:e=>{let{error:t}=e;return function(e){if("code"in e&&"number"===typeof e.code)return-1===e.code||(e.code===UC.code||e.code===TC.code);if(e instanceof gC&&e.status)return 403===e.status||(408===e.status||(413===e.status||(429===e.status||(500===e.status||(502===e.status||(503===e.status||504===e.status))))));return!0}(t)}})),{enabled:o,id:o?t_("".concat(u,".").concat(uC(n))):void 0})}}let a_,c_=256;function l_(e,t){let{key:n,methods:r,name:i,request:s,retryCount:o=3,retryDelay:a=150,timeout:c,type:l}=e;const u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;if(!a_||c_+e>512){a_="",c_=0;for(let e=0;e<256;e++)a_+=(256+256*Math.random()|0).toString(16).substring(1)}return a_.substring(c_,c_+++e)}();return{config:{key:n,methods:r,name:i,request:s,retryCount:o,retryDelay:a,timeout:c,type:l},request:o_(s,{methods:r,retryCount:o,retryDelay:a,uid:u}),value:t}}function u_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=t;return d=>{var h,f;let{chain:p,retryCount:g,timeout:m}=d;const{batchSize:v=1e3,wait:y=0}="object"===typeof n?n:{},b=null!==(h=t.retryCount)&&void 0!==h?h:g,w=null!==(f=null!==m&&void 0!==m?m:t.timeout)&&void 0!==f?f:1e4,A=e||(null===p||void 0===p?void 0:p.rpcUrls.default.http[0]);if(!A)throw new yC;const E=SC(A,{fetchOptions:r,onRequest:a,onResponse:c,timeout:w});return l_({key:i,methods:s,name:o,async request(e){let{method:t,params:r}=e;const i={method:t,params:r},{schedule:s}=wC({id:A,wait:y,shouldSplitBatch:e=>e.length>v,fn:e=>E.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:o,result:a}]=await(async e=>n?s(e):[await E.request({body:e})])(i);if(u)return{error:o,result:a};if(o)throw new mC({body:i,error:o,url:A});return a},retryCount:b,retryDelay:l,timeout:w,type:"http"},{fetchOptions:r,url:A})}}const d_={ether:-9,wei:9};var h_=n(306);function f_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,h_.J)(e,d_[t])}class p_ extends fC{constructor(){var e;let{cause:t,message:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===n||void 0===n||null===(e=n.replace("execution reverted: ",""))||void 0===e?void 0:e.replace("execution reverted","");super("Execution reverted ".concat(r?"with reason: ".concat(r):"for an unknown reason","."),{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(p_,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(p_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});Object.defineProperty(class extends fC{constructor(){let{cause:e,maxFeePerGas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The fee cap (`maxFeePerGas`".concat(t?" = ".concat(f_(t)," gwei"):"",") cannot be higher than the maximum allowed value (2^256-1)."),{cause:e,name:"FeeCapTooHighError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});Object.defineProperty(class extends fC{constructor(){let{cause:e,maxFeePerGas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The fee cap (`maxFeePerGas`".concat(t?" = ".concat(f_(t)):""," gwei) cannot be lower than the block base fee."),{cause:e,name:"FeeCapTooLowError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});Object.defineProperty(class extends fC{constructor(){let{cause:e,nonce:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","is higher than the next one expected."),{cause:e,name:"NonceTooHighError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});Object.defineProperty(class extends fC{constructor(){let{cause:e,nonce:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","is lower than the current nonce of the account."),"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});Object.defineProperty(class extends fC{constructor(){let{cause:e,nonce:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","exceeds the maximum allowed nonce."),{cause:e,name:"NonceMaxValueError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});Object.defineProperty(class extends fC{constructor(){let{cause:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});Object.defineProperty(class extends fC{constructor(){let{cause:e,gas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The amount of gas ".concat(t?"(".concat(t,") "):"","provided for the transaction exceeds the limit allowed for the block."),{cause:e,name:"IntrinsicGasTooHighError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});Object.defineProperty(class extends fC{constructor(){let{cause:e,gas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The amount of gas ".concat(t?"(".concat(t,") "):"","provided for the transaction is too low."),{cause:e,name:"IntrinsicGasTooLowError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});Object.defineProperty(class extends fC{constructor(e){let{cause:t}=e;super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});Object.defineProperty(class extends fC{constructor(){let{cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["The provided tip (`maxPriorityFeePerGas`".concat(t?" = ".concat(f_(t)," gwei"):"",") cannot be higher than the fee cap (`maxFeePerGas`").concat(n?" = ".concat(f_(n)," gwei"):"",").")].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}},"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});const g_=["chain","pollingInterval","timeout"];function m_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{key:n="fallback",name:r="Fallback",rank:o=!1,shouldThrow:a=v_,retryCount:c,retryDelay:l}=t;return t=>{let{chain:u,pollingInterval:d=4e3,timeout:h}=t,f=(0,i.A)(t,g_),p=e,g=()=>{};const m=l_({key:n,name:r,async request(e){let t,{method:n,params:r}=e;const i=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const o=p[e]((0,s.A)((0,s.A)({},f),{},{chain:u,retryCount:0,timeout:h}));try{const e=await o.request({method:n,params:r});return g({method:n,params:r,response:e,transport:o,status:"success"}),e}catch(c){if(g({error:c,method:n,params:r,transport:o,status:"error"}),a(c))throw c;if(e===p.length-1)throw c;if(null!==t&&void 0!==t||(t=p.slice(e+1).some((e=>{const{include:t,exclude:r}=e({chain:u}).config.methods||{};return t?t.includes(n):!r||!r.includes(n)}))),!t)throw c;return i(e+1)}};return i()},retryCount:c,retryDelay:l,type:"fallback"},{onResponse:e=>g=e,transports:p.map((e=>e({chain:u,retryCount:0})))});if(o){var v;const e="object"===typeof o?o:{};!function(e){let{chain:t,interval:n=4e3,onTransports:r,ping:i,sampleCount:s=10,timeout:o=1e3,transports:a,weights:c={}}=e;const{stability:l=.7,latency:u=.3}=c,d=[],h=async()=>{const e=await Promise.all(a.map((async e=>{const n=e({chain:t,retryCount:0,timeout:o}),r=Date.now();let s,a;try{await(i?i({transport:n}):n.request({method:"net_listening"})),a=1}catch(c){a=0}finally{s=Date.now()}return{latency:s-r,success:a}})));d.push(e),d.length>s&&d.shift();const c=Math.max(...d.map((e=>Math.max(...e.map((e=>{let{latency:t}=e;return t})))))),f=a.map(((e,t)=>{const n=d.map((e=>e[t].latency)),r=1-n.reduce(((e,t)=>e+t),0)/n.length/c,i=d.map((e=>e[t].success)),s=i.reduce(((e,t)=>e+t),0)/i.length;return 0===s?[0,t]:[u*r+l*s,t]})).sort(((e,t)=>t[0]-e[0]));r(f.map((e=>{let[,t]=e;return a[t]}))),await i_(n),h()};h()}({chain:u,interval:null!==(v=e.interval)&&void 0!==v?v:d,onTransports:e=>p=e,ping:e.ping,sampleCount:e.sampleCount,timeout:e.timeout,transports:p,weights:e.weights})}return m}}function v_(e){return!(!("code"in e)||"number"!==typeof e.code||e.code!==MC.code&&e.code!==BC.code&&!p_.nodeMessage.test(e.message)&&5e3!==e.code)}const y_={ConnectorExplorerIds:{[Wb.o.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Wb.o.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Wb.o.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Wb.o.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Wb.o.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[tw.o.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[tw.o.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[tw.o.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[tw.o.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[tw.o.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[tw.o.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[tw.o.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[tw.o.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[tw.o.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[tw.o.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[tw.o.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Wb.o.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Wb.o.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Wb.o.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Wb.o.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Wb.o.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Wb.o.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Wb.o.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Wb.o.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Wb.o.CONNECTOR_ID.COINBASE]:"Coinbase",[Wb.o.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Wb.o.CONNECTOR_ID.LEDGER]:"Ledger",[Wb.o.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Wb.o.CONNECTOR_ID.INJECTED]:"INJECTED",[Wb.o.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Wb.o.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Wb.o.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]};const b_=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],w_={extendRpcUrlWithProjectId(e,t){let n=!1;try{n="rpc.walletconnect.org"===new URL(e).host}catch(uD){n=!1}if(n){const n=new URL(e);return n.searchParams.has("projectId")||n.searchParams.set("projectId",t),n.toString()}return e},isCaipNetwork:e=>"chainNamespace"in e&&"caipNetworkId"in e,getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:Wb.o.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:"".concat(Wb.o.CHAIN.EVM,":").concat(e.id)},getDefaultRpcUrl(e,t,n){var r;const i=null===(r=e.rpcUrls)||void 0===r||null===(r=r.default)||void 0===r||null===(r=r.http)||void 0===r?void 0:r[0];return b_.includes(t)?function(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}(t,n):i||""},extendCaipNetwork(e,t){var n,r,i;let{customNetworkImageUrls:o,projectId:a,customRpcUrls:c}=t;const l=this.getChainNamespace(e),u=this.getCaipNetworkId(e),d=null===(n=e.rpcUrls.default.http)||void 0===n?void 0:n[0],h=this.getDefaultRpcUrl(e,u,a),f=(null===e||void 0===e||null===(r=e.rpcUrls)||void 0===r||null===(r=r.chainDefault)||void 0===r||null===(r=r.http)||void 0===r?void 0:r[0])||d,p=(null===c||void 0===c||null===(i=c[u])||void 0===i?void 0:i.map((e=>e.url)))||[],g=[...p,h],m=[...p];return f&&!m.includes(f)&&m.push(f),(0,s.A)((0,s.A)({},e),{},{chainNamespace:l,caipNetworkId:u,assets:{imageId:y_.NetworkImageIds[e.id],imageUrl:null===o||void 0===o?void 0:o[e.id]},rpcUrls:(0,s.A)((0,s.A)({},e.rpcUrls),{},{default:{http:g},chainDefault:{http:m}})})},extendCaipNetworks(e,t){let{customNetworkImageUrls:n,projectId:r,customRpcUrls:i}=t;return e.map((e=>w_.extendCaipNetwork(e,{customNetworkImageUrls:n,customRpcUrls:i,projectId:r})))},getViemTransport(e,t,n){const r=[];if(null===n||void 0===n||n.forEach((e=>{r.push(u_(e.url,e.config))})),b_.includes(e.caipNetworkId)){const n=this.getDefaultRpcUrl(e,e.caipNetworkId,t);r.push(u_(n,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}))}return m_(r)},extendWagmiTransports(e,t,n){if(b_.includes(e.caipNetworkId)){return m_([n,u_(this.getDefaultRpcUrl(e,e.caipNetworkId,t))])}return n}},A_={createLogger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";const n=(0,GS.iP)({level:t}),{logger:r}=(0,GS.D5)({opts:n});return r.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)if(i instanceof Error)return void e(i,...n);e(void 0,...n)},r}};var E_=n(1666),S_=n(3237);const C_=4902,__=5e3,k_=32603;function x_(e){return(0,s.A)({formatters:void 0,fees:void 0,serializers:void 0},e)}const I_=x_({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),N_=x_({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});function T_(e){return(0,s.A)({formatters:void 0,fees:void 0,serializers:void 0},e)}const P_=T_({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),O_=T_({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"}),R_=(T_({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),T_({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),T_({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),{getMethodsByChainNamespace(e){switch(e){case"solana":return["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"];case"eip155":return["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];case"bip122":return["sendTransfer","signMessage","signPsbt","getAccountAddresses"];default:return[]}},createNamespaces(e){return e.reduce(((e,t)=>{const{id:n,chainNamespace:r,rpcUrls:i}=t,s=i.default.http[0],o=this.getMethodsByChainNamespace(r);e[r]||(e[r]={methods:o,events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}});const a="".concat(r,":").concat(n),c=e[r];switch(c.chains.push(a),a){case P_.caipNetworkId:c.chains.push(P_.deprecatedCaipNetworkId);break;case O_.caipNetworkId:c.chains.push(O_.deprecatedCaipNetworkId)}return null!==c&&void 0!==c&&c.rpcMap&&s&&(c.rpcMap[n]=s),e}),{})},resolveReownName:async e=>{var t;const n=await rC.f.resolveName(e);return(null===(t=(Object.values(null===n||void 0===n?void 0:n.addresses)||[])[0])||void 0===t?void 0:t.address)||!1},getChainsFromNamespaces(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).flatMap((e=>{const t=e.chains||[],n=e.accounts.map((e=>{const[t,n]=e.split(":");return"".concat(t,":").concat(n)}));return Array.from(new Set([...t,...n]))}))},isSessionEventData:e=>"object"===typeof e&&null!==e&&"id"in e&&"topic"in e&&"params"in e&&"object"===typeof e.params&&null!==e.params&&"chainId"in e.params&&"event"in e.params&&"object"===typeof e.params.event&&null!==e.params.event});class M_{constructor(e){let{provider:t,caipNetworks:n,namespace:r}=e;this.id=Wb.o.CONNECTOR_ID.WALLET_CONNECT,this.name=y_.ConnectorNamesMap[Wb.o.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=y_.ConnectorImageIds[Wb.o.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=n,this.provider=t,this.chain=r}get chains(){return this.caipNetworks}async connectWalletConnect(){return await this.authenticate()||await this.provider.connect({optionalNamespaces:R_.createNamespaces(this.caipNetworks)}),{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map((e=>e.caipNetworkId));return S_.U.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:D_})}}const D_=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class U_{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,e&&this.construct(e)}construct(e){this.caipNetworks=e.networks,this.projectId=e.projectId,this.namespace=e.namespace}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(e){this.addConnector({id:Wb.o.CONNECTOR_ID.AUTH,type:"AUTH",name:Wb.o.CONNECTOR_NAMES.AUTH,provider:e,imageId:y_.ConnectorImageIds[Wb.o.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(){const e=new Set;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.availableConnectors=[...n,...this.availableConnectors].filter((t=>!e.has(t.id)&&(e.add(t.id),!0))),this.emit("connectors",this.availableConnectors)}setStatus(e,t){Yb.U.setStatus(e,t)}on(e,t){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),null===(n=this.eventListeners.get(e))||void 0===n||n.add(t)}off(e,t){const n=this.eventListeners.get(e);n&&n.delete(t)}removeAllEventListeners(){this.eventListeners.forEach((e=>{e.clear()}))}emit(e,t){const n=this.eventListeners.get(e);n&&n.forEach((e=>e(t)))}async connectWalletConnect(e){const t=this.getWalletConnectConnector();return{clientId:(await t.connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:t,providerType:n}=e;if(!e.provider)return;const r="provider"in e.provider?e.provider.provider:e.provider;if("WALLET_CONNECT"!==n){if(r&&"AUTH"===n){const e=r;await e.switchNetwork(t.caipNetworkId);const n=await e.getUser({chainId:t.caipNetworkId,preferredAccountType:Zb.H.state.defaultAccountTypes[t.chainNamespace]});this.emit("switchNetwork",n)}}else r.setDefaultChain(t.caipNetworkId)}getWalletConnectConnector(){const e=this.connectors.find((e=>e instanceof M_));if(!e)throw new Error("WalletConnectConnector not found");return e}}class L_ extends U_{setUniversalProvider(e){this.addConnector(new M_({provider:e,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{const e=this.getWalletConnectConnector();await e.disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts(e){var t;let{namespace:n}=e;const r=this.provider,i=(null===r||void 0===r||null===(t=r.session)||void 0===t||null===(t=t.namespaces)||void 0===t||null===(t=t[n])||void 0===t||null===(t=t.accounts)||void 0===t?void 0:t.map((e=>{const[,,t]=e.split(":");return t})).filter(((e,t,n)=>n.indexOf(e)===t)))||[];return Promise.resolve({accounts:i.map((e=>zb.w.createAccount(n,e,"bip122"===n?"payment":"eoa")))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var t,n,r,i;var s;if(!(e.caipNetwork&&Gb.oU.BALANCE_SUPPORTED_CHAINS.includes(null===(t=e.caipNetwork)||void 0===t?void 0:t.chainNamespace))||null!==(n=e.caipNetwork)&&void 0!==n&&n.testnet)return{balance:"0.00",symbol:(null===(s=e.caipNetwork)||void 0===s?void 0:s.nativeCurrency.symbol)||""};if(Yb.U.state.balanceLoading&&e.chainId===(null===(r=Qb.W.state.activeCaipNetwork)||void 0===r?void 0:r.id))return{balance:Yb.U.state.balance||"0.00",symbol:Yb.U.state.balanceSymbol||""};const o=(await Yb.U.fetchTokenBalance()).find((t=>{var n,r;return t.chainId==="".concat(null===(n=e.caipNetwork)||void 0===n?void 0:n.chainNamespace,":").concat(e.chainId)&&t.symbol===(null===(r=e.caipNetwork)||void 0===r?void 0:r.nativeCurrency.symbol)}));return{balance:(null===o||void 0===o?void 0:o.quantity.numeric)||"0.00",symbol:(null===o||void 0===o?void 0:o.symbol)||(null===(i=e.caipNetwork)||void 0===i?void 0:i.nativeCurrency.symbol)||""}}async signMessage(e){var t;const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";if((null===(t=Qb.W.state.activeCaipNetwork)||void 0===t?void 0:t.chainNamespace)===Wb.o.CHAIN.SOLANA){var o;s=(await n.request({method:"solana_signMessage",params:{message:E_.A.encode((new TextEncoder).encode(r)),pubkey:i}},null===(o=Qb.W.state.activeCaipNetwork)||void 0===o?void 0:o.caipNetworkId)).signature}else{var a;s=await n.request({method:"personal_sign",params:[r,i]},null===(a=Qb.W.state.activeCaipNetwork)||void 0===a?void 0:a.caipNetworkId)}return{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:t}=e,n=this.getWalletConnectConnector();if(t.chainNamespace===Wb.o.CHAIN.EVM)try{var r;await(null===(r=n.provider)||void 0===r?void 0:r.request({method:"wallet_switchEthereumChain",params:[{chainId:XC(t.id)}]}))}catch(c){var i;if(c.code===C_||c.code===k_||c.code===__||(null===c||void 0===c||null===(i=c.data)||void 0===i||null===(i=i.originalError)||void 0===i?void 0:i.code)===C_)try{var s,o,a;await(null===(s=n.provider)||void 0===s?void 0:s.request({method:"wallet_addEthereumChain",params:[{chainId:XC(t.id),rpcUrls:[null===t||void 0===t||null===(o=t.rpcUrls.chainDefault)||void 0===o?void 0:o.http],chainName:t.name,nativeCurrency:t.nativeCurrency,blockExplorerUrls:[null===(a=t.blockExplorers)||void 0===a?void 0:a.default.url]}]}))}catch(l){throw new Error("Chain is not supported")}}n.provider.setDefaultChain(t.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find((e=>"WALLET_CONNECT"===e.type));return null===e||void 0===e?void 0:e.provider}}class B_{constructor(e){var t;this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=e=>{if(e){var t,n;const r=null===(t=Qb.W.getNetworkData(e))||void 0===t?void 0:t.caipNetwork;return r||(null===(n=Qb.W.getRequestedCaipNetworks(e).filter((t=>t.chainNamespace===e)))||void 0===n?void 0:n[0])}return Qb.W.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const e=this.getCaipNetwork();if(e)return e.id},this.getCaipNetworks=e=>Qb.W.getRequestedCaipNetworks(e),this.getActiveChainNamespace=()=>Qb.W.state.activeChain,this.setRequestedCaipNetworks=(e,t)=>{Qb.W.setRequestedCaipNetworks(e,t)},this.getApprovedCaipNetworkIds=()=>Qb.W.getAllApprovedCaipNetworkIds(),this.getCaipAddress=e=>Qb.W.state.activeChain!==e&&e?Qb.W.getAccountProp("caipAddress",e):Qb.W.state.activeCaipAddress,this.setClientId=e=>{tC.T.setClientId(e)},this.getProvider=e=>cw.getProvider(e),this.getProviderType=e=>cw.getProviderId(e),this.getPreferredAccountType=()=>Yb.U.state.preferredAccountType,this.setCaipAddress=(e,t)=>{Yb.U.setCaipAddress(e,t)},this.setBalance=(e,t,n)=>{Yb.U.setBalance(e,t,n)},this.setProfileName=(e,t)=>{Yb.U.setProfileName(e,t)},this.setProfileImage=(e,t)=>{Yb.U.setProfileImage(e,t)},this.setUser=(e,t)=>{Yb.U.setUser(e,t),Zb.H.state.enableEmbedded&&nC.W.close()},this.resetAccount=e=>{Yb.U.resetAccount(e)},this.setCaipNetwork=e=>{Qb.W.setActiveCaipNetwork(e)},this.setCaipNetworkOfNamespace=(e,t)=>{Qb.W.setChainNetworkData(t,{caipNetwork:e})},this.setAllAccounts=(e,t)=>{Yb.U.setAllAccounts(e,t),Zb.H.setHasMultipleAddresses((null===e||void 0===e?void 0:e.length)>1)},this.setStatus=(e,t)=>{Yb.U.setStatus(e,t),Vb.a.isConnected()?$b.i.setConnectionStatus("connected"):$b.i.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=e=>Qb.W.getAccountProp("address",e),this.setConnectors=e=>{const t=[...Vb.a.getConnectors(),...e];Vb.a.setConnectors(t)},this.fetchIdentity=e=>tC.T.fetchIdentity(e),this.getReownName=e=>rC.f.getNamesForAddress(e),this.getConnectors=()=>Vb.a.getConnectors(),this.getConnectorImage=e=>iC.$.getConnectorImage(e),this.setConnectedWalletInfo=(e,t)=>{const n=cw.getProviderId(t),r=e?(0,s.A)((0,s.A)({},e),{},{type:n}):void 0;Yb.U.setConnectedWalletInfo(r,t)},this.getIsConnectedState=()=>Boolean(Qb.W.state.activeCaipAddress),this.addAddressLabel=(e,t,n)=>{Yb.U.addAddressLabel(e,t,n)},this.removeAddressLabel=(e,t)=>{Yb.U.removeAddressLabel(e,t)},this.getAddress=e=>Qb.W.state.activeChain!==e&&e?Qb.W.getAccountProp("address",e):Yb.U.state.address,this.setApprovedCaipNetworksData=e=>Qb.W.setApprovedCaipNetworksData(e),this.resetNetwork=e=>{Qb.W.resetNetwork(e)},this.addConnector=e=>{Vb.a.addConnector(e)},this.resetWcConnection=()=>{qb.x.resetWcConnection()},this.setAddressExplorerUrl=(e,t)=>{Yb.U.setAddressExplorerUrl(e,t)},this.setSmartAccountDeployed=(e,t)=>{Yb.U.setSmartAccountDeployed(e,t)},this.setSmartAccountEnabledNetworks=(e,t)=>{Qb.W.setSmartAccountEnabledNetworks(e,t)},this.setPreferredAccountType=(e,t)=>{Yb.U.setPreferredAccountType(e,t)},this.setEIP6963Enabled=e=>{Zb.H.setEIP6963Enabled(e)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=[...new Set(null===(t=this.caipNetworks)||void 0===t?void 0:t.map((e=>e.chainNamespace)))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e),this.sendInitializeEvent(e)}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),sC.z.set({initialized:!0})}sendInitializeEvent(e){var t;const n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));delete n.adapters,Kb.E.sendEvent({type:"track",event:"INITIALIZE",properties:(0,s.A)((0,s.A)({},n),{},{networks:e.networks.map((e=>e.id)),siweConfig:{options:(null===(t=e.siweConfig)||void 0===t?void 0:t.options)||{}}})})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Xb.W.setThemeMode(e.themeMode),e.themeVariables&&Xb.W.setThemeVariables(e.themeVariables)}initializeChainController(e){var t;if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");Qb.W.initialize(null!==(t=e.adapters)&&void 0!==t?t:[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&Qb.W.setActiveCaipNetwork(n)}initializeConnectionController(e){var t;qb.x.setWcBasic(null!==(t=e.basic)&&void 0!==t&&t)}initializeConnectorController(){Vb.a.initialize(this.chainNamespaces)}initializeOptionsController(e){var t;Zb.H.setDebug(!1!==e.debug),Zb.H.setEnableWalletConnect(!1!==e.enableWalletConnect),Zb.H.setEnableWalletGuide(!1!==e.enableWalletGuide),Zb.H.setEnableWallets(!1!==e.enableWallets),Zb.H.setEIP6963Enabled(!1!==e.enableEIP6963),Zb.H.setEnableAuthLogger(!1!==e.enableAuthLogger),Zb.H.setCustomRpcUrls(e.customRpcUrls),Zb.H.setSdkVersion(e.sdkVersion),Zb.H.setProjectId(e.projectId),Zb.H.setEnableEmbedded(e.enableEmbedded),Zb.H.setAllWallets(e.allWallets),Zb.H.setIncludeWalletIds(e.includeWalletIds),Zb.H.setExcludeWalletIds(e.excludeWalletIds),Zb.H.setFeaturedWalletIds(e.featuredWalletIds),Zb.H.setTokens(e.tokens),Zb.H.setTermsConditionsUrl(e.termsConditionsUrl),Zb.H.setPrivacyPolicyUrl(e.privacyPolicyUrl),Zb.H.setCustomWallets(e.customWallets),Zb.H.setFeatures(e.features),Zb.H.setAllowUnsupportedChain(e.allowUnsupportedChain),Zb.H.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),Zb.H.setMetadata(e.metadata),Zb.H.setDisableAppend(e.disableAppend),Zb.H.setEnableEmbedded(e.enableEmbedded),Zb.H.setSIWX(e.siwx),!e.projectId)return void ew.h.open(rw.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");if((null===(t=e.adapters)||void 0===t?void 0:t.find((e=>e.namespace===Wb.o.CHAIN.EVM)))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Zb.H.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,t,n;return"undefined"!==typeof window&&"undefined"!==typeof document?{name:(null===(e=document.getElementsByTagName("title"))||void 0===e||null===(e=e[0])||void 0===e?void 0:e.textContent)||"",description:(null===(t=document.querySelector('meta[property="og:description"]'))||void 0===t?void 0:t.content)||"",url:window.location.origin,icons:[(null===(n=document.querySelector('link[rel~="icon"]'))||void 0===n?void 0:n.href)||""]}:null}getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:Wb.o.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}}setUnsupportedNetwork(e){const t=this.getActiveChainNamespace();if(t){const n=this.getUnsupportedNetwork("".concat(t,":").concat(e));Qb.W.setActiveCaipNetwork(n)}}getDefaultNetwork(){var e;const t=$b.i.getActiveCaipNetworkId();if(t){var n;const e=null===(n=this.caipNetworks)||void 0===n?void 0:n.find((e=>e.caipNetworkId===t));return e||(this.defaultCaipNetwork?this.defaultCaipNetwork:this.getUnsupportedNetwork(t))}return this.defaultCaipNetwork?this.defaultCaipNetwork:null===(e=this.caipNetworks)||void 0===e?void 0:e[0]}extendCaipNetwork(e,t){return w_.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}extendCaipNetworks(e){return w_.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const t=e.networks.find((t=>{var n;return t.id===(null===(n=e.defaultNetwork)||void 0===n?void 0:n.id)}));return t?w_.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var e;const t=Qb.W.state.activeChain,n=this.getAdapter(t),r=null===(e=this.getCaipNetwork(t))||void 0===e?void 0:e.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId((null===i||void 0===i?void 0:i.clientId)||null),$b.i.setConnectedNamespaces([...Qb.W.state.chains.keys()]),this.chainNamespaces.forEach((e=>{Vb.a.setConnectorId(tw.o.CONNECTOR_TYPE_WALLET_CONNECT,e)})),await this.syncWalletConnectAccount()},connectExternal:async e=>{var t,n;let{id:r,info:i,type:o,provider:a,chain:c,caipNetwork:l}=e;const u=Qb.W.state.activeChain,d=c||u,h=this.getAdapter(d);if(c&&c!==u&&!l){var f;const e=null===(f=this.caipNetworks)||void 0===f?void 0:f.find((e=>e.chainNamespace===c));e&&this.setCaipNetwork(e)}if(!h)throw new Error("Adapter not found");const p=this.getCaipNetwork(d),g=await h.connect({id:r,info:i,type:o,provider:a,chainId:(null===l||void 0===l?void 0:l.id)||(null===p||void 0===p?void 0:p.id),rpcUrl:(null===l||void 0===l||null===(t=l.rpcUrls)||void 0===t||null===(t=t.default)||void 0===t||null===(t=t.http)||void 0===t?void 0:t[0])||(null===p||void 0===p||null===(n=p.rpcUrls)||void 0===n||null===(n=n.default)||void 0===n||null===(n=n.http)||void 0===n?void 0:n[0])});if(!g)return;$b.i.addConnectedNamespace(d),this.syncProvider((0,s.A)((0,s.A)({},g),{},{chainNamespace:d})),await this.syncAccount((0,s.A)((0,s.A)({},g),{},{chainNamespace:d}));const{accounts:m}=await h.getAccounts({namespace:d,id:r});this.setAllAccounts(m,d)},reconnectExternal:async e=>{let{id:t,info:n,type:r,provider:i}=e;const s=Qb.W.state.activeChain,o=this.getAdapter(s);var a;null!==o&&void 0!==o&&o.reconnect&&(await(null===o||void 0===o?void 0:o.reconnect({id:t,info:n,type:r,provider:i,chainId:null===(a=this.getCaipNetwork())||void 0===a?void 0:a.id})),$b.i.addConnectedNamespace(s))},disconnect:async e=>{const t=e||Qb.W.state.activeChain,n=this.getAdapter(t),r=cw.getProvider(t),i=cw.getProviderId(t);await(null===n||void 0===n?void 0:n.disconnect({provider:r,providerType:i})),$b.i.removeConnectedNamespace(t),cw.resetChain(t),this.setUser(void 0,t),this.setStatus("disconnected",t)},checkInstalled:e=>e?e.some((e=>{var t;return Boolean(null===(t=window.ethereum)||void 0===t?void 0:t[String(e)])})):Boolean(window.ethereum),signMessage:async e=>{const t=this.getAdapter(Qb.W.state.activeChain),n=await(null===t||void 0===t?void 0:t.signMessage({message:e,address:Yb.U.state.address,provider:cw.getProvider(Qb.W.state.activeChain)}));return(null===n||void 0===n?void 0:n.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===Wb.o.CHAIN.EVM){const t=this.getAdapter(Qb.W.state.activeChain),n=cw.getProvider(Qb.W.state.activeChain),r=await(null===t||void 0===t?void 0:t.sendTransaction((0,s.A)((0,s.A)({},e),{},{provider:n})));return(null===r||void 0===r?void 0:r.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Wb.o.CHAIN.EVM){const t=this.getAdapter(Qb.W.state.activeChain),n=cw.getProvider(Qb.W.state.activeChain),r=this.getCaipNetwork();if(!r)throw new Error("CaipNetwork is undefined");const i=await(null===t||void 0===t?void 0:t.estimateGas((0,s.A)((0,s.A)({},e),{},{provider:n,caipNetwork:r})));return(null===i||void 0===i?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;const t=this.getAdapter(Qb.W.state.activeChain),n=await(null===t||void 0===t?void 0:t.getProfile({address:Yb.U.state.address,chainId:Number(null===(e=this.getCaipNetwork())||void 0===e?void 0:e.id)}));return(null===n||void 0===n?void 0:n.profileImage)||!1},getEnsAddress:async e=>{const t=this.getAdapter(Qb.W.state.activeChain),n=this.getCaipNetwork();if(!n)return!1;const r=await(null===t||void 0===t?void 0:t.getEnsAddress({name:e,caipNetwork:n}));return(null===r||void 0===r?void 0:r.address)||!1},writeContract:async e=>{const t=this.getAdapter(Qb.W.state.activeChain),n=this.getCaipNetwork(),r=this.getCaipAddress(),i=cw.getProvider(Qb.W.state.activeChain);if(!n||!r)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(null===t||void 0===t?void 0:t.writeContract((0,s.A)((0,s.A)({},e),{},{caipNetwork:n,provider:i,caipAddress:r})));return null===o||void 0===o?void 0:o.hash},parseUnits:(e,t)=>{var n;const r=this.getAdapter(Qb.W.state.activeChain);return null!==(n=null===r||void 0===r?void 0:r.parseUnits({value:e,decimals:t}))&&void 0!==n?n:0n},formatUnits:(e,t)=>{var n;const r=this.getAdapter(Qb.W.state.activeChain);return null!==(n=null===r||void 0===r?void 0:r.formatUnits({value:e,decimals:t}))&&void 0!==n?n:"0"},getCapabilities:async e=>{const t=this.getAdapter(Qb.W.state.activeChain);return await(null===t||void 0===t?void 0:t.getCapabilities(e))},grantPermissions:async e=>{const t=this.getAdapter(Qb.W.state.activeChain);return await(null===t||void 0===t?void 0:t.grantPermissions(e))},revokePermissions:async e=>{const t=this.getAdapter(Qb.W.state.activeChain);return null!==t&&void 0!==t&&t.revokePermissions?await t.revokePermissions(e):"0x"},walletGetAssets:async e=>{var t;const n=this.getAdapter(Qb.W.state.activeChain);return null!==(t=await(null===n||void 0===n?void 0:n.walletGetAssets(e)))&&void 0!==t?t:{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},qb.x.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(cw.getProviderId(Qb.W.state.activeChain)===tw.o.CONNECTOR_TYPE_WALLET_CONNECT){var e,t;const n=null===(e=this.universalProvider)||void 0===e||null===(e=e.session)||void 0===e?void 0:e.namespaces;return{supportsAllNetworks:"MetaMask Wallet"===(null===(t=this.universalProvider)||void 0===t||null===(t=t.session)||void 0===t||null===(t=t.peer)||void 0===t?void 0:t.metadata.name),approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const t=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const n=cw.getProvider(t),r=cw.getProviderId(t);if(e.chainNamespace===Qb.W.state.activeChain){const i=this.getAdapter(t);await(null===i||void 0===i?void 0:i.switchNetwork({caipNetwork:e,provider:n,providerType:r}))}else if(this.setCaipNetwork(e),r===tw.o.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const n=this.getAddressByChainNamespace(t);n&&this.syncAccount({address:n,chainId:e.id,chainNamespace:t})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).flatMap((e=>{const t=e.chains||[],n=e.accounts.map((e=>{const{chainId:t,chainNamespace:n}=$S.parseCaipAddress(e);return"".concat(n,":").concat(t)}));return Array.from(new Set([...t,...n]))}))}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce(((t,n)=>{const r=null===e||void 0===e?void 0:e.find((e=>e.namespace===n));var i;r?(t[n]=r,t[n].namespace=n,t[n].construct({namespace:n,projectId:null===(i=this.options)||void 0===i?void 0:i.projectId,networks:this.caipNetworks})):t[n]=new L_({namespace:n,networks:this.caipNetworks});return t}),{})}async initChainAdapter(e){var t;this.onConnectors(e),this.listenAdapter(e),null===(t=this.chainAdapters)||void 0===t||t[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map((async e=>{await this.initChainAdapter(e)})))}onConnectors(e){const t=this.getAdapter(e);null===t||void 0===t||t.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const t=this.getAdapter(e);if(!t)return;const n=$b.i.getConnectionStatus();"connected"===n?this.setStatus("connecting",e):"disconnected"===n?($b.i.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),t.on("switchNetwork",(t=>{var n;let{address:r,chainId:i}=t;const s=null===(n=this.caipNetworks)||void 0===n?void 0:n.find((e=>e.id===i||e.caipNetworkId===i)),o=Qb.W.state.activeChain===e,a=Qb.W.getAccountProp("address",e);if(s){const t=o&&r?r:a;t&&this.syncAccount({address:t,chainId:i,chainNamespace:e})}else this.setUnsupportedNetwork(i)})),t.on("disconnect",this.disconnect.bind(this,e)),t.on("pendingTransactions",(()=>{const e=Yb.U.state.address,t=Qb.W.state.activeCaipNetwork;e&&null!==t&&void 0!==t&&t.id&&this.updateNativeBalance(e,t.id,t.chainNamespace)})),t.on("accountChanged",(t=>{var n;let{address:r,chainId:i}=t;const s=Qb.W.state.activeChain===e;if(s&&i)this.syncAccount({address:r,chainId:i,chainNamespace:e});else if(s&&null!==(n=Qb.W.state.activeCaipNetwork)&&void 0!==n&&n.id){var o;this.syncAccount({address:r,chainId:null===(o=Qb.W.state.activeCaipNetwork)||void 0===o?void 0:o.id,chainNamespace:e})}else this.syncAccountInfo(r,i,e)}))}async createUniversalProviderForAdapter(e){var t,n;(await this.getUniversalProvider(),this.universalProvider)&&(null===(t=this.chainAdapters)||void 0===t||null===(t=t[e])||void 0===t||null===(n=t.setUniversalProvider)||void 0===n||n.call(t,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map((e=>this.syncNamespaceConnection(e))))}async syncNamespaceConnection(e){try{const t=Vb.a.getConnectorId(e);switch(this.setStatus("connecting",e),t){case Wb.o.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Wb.o.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(t){console.warn("AppKit couldn't sync existing connection",t),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){const t=this.getAdapter(e),n=Vb.a.getConnectorId(e),r=this.getCaipNetwork(e),i=Vb.a.getConnectors(e).find((e=>e.id===n));try{var o;if(!t||!i)throw new Error("Adapter or connector not found for namespace ".concat(e));if(null===r||void 0===r||!r.id)throw new Error("CaipNetwork not found");const n=await(null===t||void 0===t?void 0:t.syncConnection({namespace:e,id:i.id,chainId:r.id,rpcUrl:null===r||void 0===r||null===(o=r.rpcUrls)||void 0===o||null===(o=o.default)||void 0===o||null===(o=o.http)||void 0===o?void 0:o[0]}));if(n){const r=await(null===t||void 0===t?void 0:t.getAccounts({namespace:e,id:i.id}));r&&r.accounts.length>0?this.setAllAccounts(r.accounts,e):this.setAllAccounts([zb.w.createAccount(e,n.address,"eoa")],e),this.syncProvider((0,s.A)((0,s.A)({},n),{},{chainNamespace:e})),await this.syncAccount((0,s.A)((0,s.A)({},n),{},{chainNamespace:e})),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch(uD){this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map((async e=>{var t,n;const r=this.getAdapter(e),i=(null===(t=this.universalProvider)||void 0===t||null===(t=t.session)||void 0===t||null===(t=t.namespaces)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.accounts)||[],s=null===(n=Qb.W.state.activeCaipNetwork)||void 0===n?void 0:n.id,o=i.find((e=>{const{chainId:t}=$S.parseCaipAddress(e);return t===(null===s||void 0===s?void 0:s.toString())}))||i[0];if(o){const t=$S.validateCaipAddress(o),{chainId:n,address:i}=$S.parseCaipAddress(t);if(cw.setProviderId(e,tw.o.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&Qb.W.state.activeCaipNetwork&&(null===r||void 0===r?void 0:r.namespace)!==Wb.o.CHAIN.EVM){const t=null===r||void 0===r?void 0:r.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:Qb.W.state.activeCaipNetwork});cw.setProvider(e,t)}else cw.setProvider(e,this.universalProvider);Vb.a.setConnectorId(Wb.o.CONNECTOR_ID.WALLET_CONNECT,e),$b.i.addConnectedNamespace(e),this.syncWalletConnectAccounts(e),await this.syncAccount({address:i,chainId:n,chainNamespace:e})}else this.setStatus("disconnected",e);await Qb.W.setApprovedCaipNetworksData(e)}));await Promise.all(e)}syncWalletConnectAccounts(e){var t;const n=null===(t=this.universalProvider)||void 0===t||null===(t=t.session)||void 0===t||null===(t=t.namespaces)||void 0===t||null===(t=t[e])||void 0===t||null===(t=t.accounts)||void 0===t?void 0:t.map((e=>{const{address:t}=$S.parseCaipAddress(e);return t})).filter(((e,t,n)=>n.indexOf(e)===t));n&&this.setAllAccounts(n.map((t=>zb.w.createAccount(e,t,"bip122"===e?"payment":"eoa"))),e)}syncProvider(e){let{type:t,provider:n,id:r,chainNamespace:i}=e;cw.setProviderId(i,t),cw.setProvider(i,n),Vb.a.setConnectorId(r,i)}async syncAccount(e){var t;const n=e.chainNamespace===Qb.W.state.activeChain,r=Qb.W.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=$b.i.getActiveNetworkProps(),c=s||a,l=(null===(t=Qb.W.state.activeCaipNetwork)||void 0===t?void 0:t.name)===Wb.o.UNSUPPORTED_NETWORK_NAME,u=Qb.W.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),(!l||u)&&c){var d,h;let e=null===(d=this.caipNetworks)||void 0===d?void 0:d.find((e=>e.id.toString()===c.toString())),t=null===(h=this.caipNetworks)||void 0===h?void 0:h.find((e=>e.chainNamespace===o));if(!u&&!e&&!t){var f,p;const n=this.getApprovedCaipNetworkIds()||[],r=n.find((e=>{var t;return(null===(t=$S.parseCaipNetworkId(e))||void 0===t?void 0:t.chainId)===c.toString()})),i=n.find((e=>{var t;return(null===(t=$S.parseCaipNetworkId(e))||void 0===t?void 0:t.chainNamespace)===o}));e=null===(f=this.caipNetworks)||void 0===f?void 0:f.find((e=>e.caipNetworkId===r)),t=null===(p=this.caipNetworks)||void 0===p?void 0:p.find((e=>e.caipNetworkId===i||"deprecatedCaipNetworkId"in e&&e.deprecatedCaipNetworkId===i))}const s=e||t;var g;if((null===s||void 0===s?void 0:s.chainNamespace)===Qb.W.state.activeChain)Zb.H.state.allowUnsupportedChain||(null===(g=Qb.W.state.activeCaipNetwork)||void 0===g?void 0:g.name)!==Wb.o.UNSUPPORTED_NETWORK_NAME?this.setCaipNetwork(s):Qb.W.showUnsupportedChainUI();else n||r&&this.setCaipNetworkOfNamespace(r,o);this.syncConnectedWalletInfo(o),nw.isLowerCaseMatch(i,Yb.U.state.address)||this.syncAccountInfo(i,null===s||void 0===s?void 0:s.id,o),n?await this.syncBalance({address:i,chainId:null===s||void 0===s?void 0:s.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:null===r||void 0===r?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,t,n){const r=this.getCaipAddress(n),i=t||(null===r||void 0===r?void 0:r.split(":")[1]);if(!i)return;const s="".concat(n,":").concat(i,":").concat(e);this.setCaipAddress(s,n),await this.syncIdentity({address:e,chainId:i,chainNamespace:n})}async syncReownName(e,t){try{const n=await this.getReownName(e);if(n[0]){const e=n[0];this.setProfileName(e.name,t)}else this.setProfileName(null,t)}catch(n){this.setProfileName(null,t)}}syncConnectedWalletInfo(e){const t=Vb.a.getConnectorId(e),n=cw.getProviderId(e);if(n===tw.o.CONNECTOR_TYPE_ANNOUNCED||n===tw.o.CONNECTOR_TYPE_INJECTED){if(t){const n=this.getConnectors().find((e=>e.id===t));if(n){const{info:t,name:r,imageUrl:i}=n,o=i||this.getConnectorImage(n);this.setConnectedWalletInfo((0,s.A)({name:r,icon:o},t),e)}}}else if(n===tw.o.CONNECTOR_TYPE_WALLET_CONNECT){const t=cw.getProvider(e);var r;if(null!==t&&void 0!==t&&t.session)this.setConnectedWalletInfo((0,s.A)((0,s.A)({},t.session.peer.metadata),{},{name:t.session.peer.metadata.name,icon:null===(r=t.session.peer.metadata.icons)||void 0===r?void 0:r[0]}),e)}else if(t)if(t===Wb.o.CONNECTOR_ID.COINBASE){const t=this.getConnectors().find((e=>e.id===Wb.o.CONNECTOR_ID.COINBASE));this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(t)},e)}else this.setConnectedWalletInfo({name:t},e)}async syncBalance(e){eC.L.getNetworksByNamespace(this.caipNetworks,e.chainNamespace).find((t=>{var n;return t.id.toString()===(null===(n=e.chainId)||void 0===n?void 0:n.toString())}))&&e.chainId&&await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,t,n){const r=this.getAdapter(n);if(r){const i=await r.getBalance({address:e,chainId:t,caipNetwork:this.getCaipNetwork(n),tokens:this.options.tokens});this.setBalance(i.balance,i.symbol,n)}}async initializeUniversalAdapter(){var e,t,n,r,i,s,o,a,c,l,u,d=this;const h=A_.createLogger((function(e){e&&d.handleAlertError(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.error(...n)})),f={projectId:null===(e=this.options)||void 0===e?void 0:e.projectId,metadata:{name:null!==(t=this.options)&&void 0!==t&&t.metadata?null===(n=this.options)||void 0===n?void 0:n.metadata.name:"",description:null!==(r=this.options)&&void 0!==r&&r.metadata?null===(i=this.options)||void 0===i?void 0:i.metadata.description:"",url:null!==(s=this.options)&&void 0!==s&&s.metadata?null===(o=this.options)||void 0===o?void 0:o.metadata.url:"",icons:null!==(a=this.options)&&void 0!==a&&a.metadata?null===(c=this.options)||void 0===c?void 0:c.metadata.icons:[""]},logger:h};Zb.H.setManualWCControl(Boolean(null===(l=this.options)||void 0===l?void 0:l.manualWCControl)),this.universalProvider=null!==(u=this.options.universalProvider)&&void 0!==u?u:await XS.A.init(f),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",(e=>{qb.x.setUri(e)})),this.universalProvider.on("connect",qb.x.finalizeWcConnection),this.universalProvider.on("disconnect",(()=>{this.chainNamespaces.forEach((e=>{this.resetAccount(e)})),qb.x.resetWcConnection()})),this.universalProvider.on("chainChanged",(e=>{var t;const n=null===(t=this.caipNetworks)||void 0===t?void 0:t.find((t=>t.id==e)),r=this.getCaipNetwork();n?(null===r||void 0===r?void 0:r.id)!==(null===n||void 0===n?void 0:n.id)&&this.setCaipNetwork(n):this.setUnsupportedNetwork(e)})),this.universalProvider.on("session_event",(e=>{if(R_.isSessionEventData(e)){const{name:t,data:n}=e.params.event;"accountsChanged"===t&&Array.isArray(n)&&zb.w.isCaipAddress(n[0])&&this.syncAccount($S.parseCaipAddress(n[0]))}})))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&zb.w.isClient()&&null!==(e=this.options)&&void 0!==e&&e.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){throw new Error("AppKit:getUniversalProvider - Cannot create provider")}return this.universalProvider}handleAlertError(e){const t=Object.entries(rw.UniversalProviderErrors).find((t=>{let[,{message:n}]=t;return e.message.includes(n)})),[n,r]=null!==t&&void 0!==t?t:[],{message:i,alertErrorKey:s}=null!==r&&void 0!==r?r:{};if(n&&i&&!this.reportedAlertErrors[n]){const e=rw.ALERT_ERRORS[s];e&&(ew.h.open(e,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var t;if(e)return null===(t=this.chainAdapters)||void 0===t?void 0:t[e]}createAdapter(e){var t;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:null===(t=this.options)||void 0===t?void 0:t.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){await this.injectModalUi(),null!==e&&void 0!==e&&e.uri&&qb.x.setUri(e.uri),await nC.W.open(e)}async close(){await this.injectModalUi(),nC.W.close()}setLoading(e,t){nC.W.setLoading(e,t)}async disconnect(e){await qb.x.disconnect(e)}getError(){return""}getChainId(){var e;return null===(e=Qb.W.state.activeCaipNetwork)||void 0===e?void 0:e.id}async switchNetwork(e){var t;const n=null===(t=this.caipNetworks)||void 0===t?void 0:t.find((t=>t.id===e.id));n?await Qb.W.switchActiveNetwork(n):ew.h.open(rw.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error")}getWalletProvider(){return Qb.W.state.activeChain?cw.state.providers[Qb.W.state.activeChain]:null}getWalletProviderType(){return cw.getProviderId(Qb.W.state.activeChain)}subscribeProviders(e){return cw.subscribeProviders(e)}getThemeMode(){return Xb.W.state.themeMode}getThemeVariables(){return Xb.W.state.themeVariables}setThemeMode(e){Xb.W.setThemeMode(e),(0,lC.JX)(Xb.W.state.themeMode)}setTermsConditionsUrl(e){Zb.H.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Zb.H.setPrivacyPolicyUrl(e)}setThemeVariables(e){Xb.W.setThemeVariables(e),(0,lC.ds)(Xb.W.state.themeVariables)}subscribeTheme(e){return Xb.W.subscribe(e)}getWalletInfo(){return Yb.U.state.connectedWalletInfo}getAccount(e){const t=Vb.a.getAuthConnector(e),n=Qb.W.getAccountData(e);if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:zb.w.getPlainAddress(n.caipAddress),isConnected:Boolean(n.caipAddress),status:n.status,embeddedWalletInfo:t?{user:n.user,authProvider:n.socialProvider||"email",accountType:n.preferredAccountType,isSmartAccountDeployed:Boolean(n.smartAccountDeployed)}:void 0}}subscribeAccount(e,t){const n=()=>{const n=this.getAccount(t);n&&e(n)};t?Qb.W.subscribeChainProp("accountState",n,t):Qb.W.subscribe(n),Vb.a.subscribe(n)}subscribeNetwork(e){return Qb.W.subscribe((t=>{let{activeCaipNetwork:n}=t;e({caipNetwork:n,chainId:null===n||void 0===n?void 0:n.id,caipNetworkId:null===n||void 0===n?void 0:n.caipNetworkId})}))}subscribeWalletInfo(e){return Yb.U.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Yb.U.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){Qb.W.subscribeKey("activeCaipNetwork",e)}getState(){return sC.z.state}subscribeState(e){return sC.z.subscribe(e)}showErrorMessage(e){oC.P.showError(e)}showSuccessMessage(e){oC.P.showSuccess(e)}getEvent(){return(0,s.A)({},Kb.E.state)}subscribeEvents(e){return Kb.E.subscribe(e)}replace(e){aC.I.replace(e)}redirect(e){aC.I.push(e)}popTransactionStack(e){aC.I.popTransactionStack(e)}isOpen(){return nC.W.state.open}isTransactionStackEmpty(){return 0===aC.I.state.transactionStack.length}isTransactionShouldReplaceView(){var e;return null===(e=aC.I.state.transactionStack[aC.I.state.transactionStack.length-1])||void 0===e?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){Zb.H.setFeatures(e)}updateOptions(e){const t=Zb.H.state||{},n=(0,s.A)((0,s.A)({},t),e);Zb.H.setOptions(n)}setConnectMethodsOrder(e){Zb.H.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Zb.H.setWalletFeaturesOrder(e)}setCollapseWallets(e){Zb.H.setCollapseWallets(e)}setSocialsOrder(e){Zb.H.setSocialsOrder(e)}getConnectMethodsOrder(){return cC.A.getConnectOrderMethod(Zb.H.state.features,Vb.a.getConnectors())}removeAdapter(e){var t;const n=this.getIsConnectedState(),r=this.getAdapter(e);if(!r||!this.chainAdapters||n)return;const i=null===(t=this.caipNetworks)||void 0===t?void 0:t.filter((t=>t.chainNamespace!==e));Qb.W.removeAdapter(e),Vb.a.removeAdapter(e),this.chainNamespaces=this.chainNamespaces.filter((t=>t!==e)),this.caipNetworks=i,r.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,e)}addAdapter(e,t){const n=e.namespace;if(!this.connectionControllerClient||!this.networkControllerClient)return;if(!this.chainAdapters||!n)return;const r=this.extendCaipNetworks((0,s.A)((0,s.A)({},this.options),{},{networks:t}));this.caipNetworks=[...this.caipNetworks||[],...r],this.createAdapter(e),this.initChainAdapter(n),Qb.W.addAdapter(e,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},r)}addNetwork(e,t){var n;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error("Adapter for namespace ".concat(e," doesn't exist"));const r=this.extendCaipNetwork(t,this.options);Qb.W.addNetwork(r),!this.caipNetworks||null!==(n=this.caipNetworks)&&void 0!==n&&n.find((e=>e.id===r.id))||this.caipNetworks.push(r)}removeNetwork(e,t){var n;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error("Adapter for namespace ".concat(e," doesn't exist"));if(!(null===(n=this.caipNetworks)||void 0===n?void 0:n.find((e=>e.id===t))))throw new Error("Network with ID ".concat(t," not found"));if(!this.caipNetworks)return;const r=this.caipNetworks.filter((n=>n.chainNamespace===e&&n.id!==t));if(null===r||void 0===r||!r.length)throw new Error("Cannot remove last network for a namespace");Qb.W.removeNetwork(e,t),this.caipNetworks=[...r]}}let F_=!1;class j_ extends B_{setupAuthConnectorListeners(e){e.onRpcRequest((t=>{hw.Q.checkIfRequestExists(t)?hw.Q.checkIfRequestIsSafe(t)||this.handleUnsafeRPCRequest():(this.open(),console.error(fw.Vl.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:t.method}),setTimeout((()=>{this.showErrorMessage(fw.Vl.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)}),300),e.rejectRpcRequests())})),e.onRpcError((()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))})),e.onRpcSuccess(((e,t)=>{const n=hw.Q.checkIfRequestIsSafe(t),r=Yb.U.state.address,i=Qb.W.state.activeCaipNetwork;n||(this.isTransactionStackEmpty()?(this.close(),r&&null!==i&&void 0!==i&&i.id&&this.updateNativeBalance(r,i.id,i.chainNamespace)):(this.popTransactionStack(),r&&null!==i&&void 0!==i&&i.id&&this.updateNativeBalance(r,i.id,i.chainNamespace)))})),e.onNotConnected((()=>{const e=Qb.W.state.activeChain;Vb.a.getConnectorId(e)===Wb.o.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,e),this.setLoading(!1,e))})),e.onConnect((async t=>{var n;const r=Qb.W.state.activeChain,i=r===Wb.o.CHAIN.EVM?"eip155:".concat(t.chainId,":").concat(t.address):"".concat(t.chainId,":").concat(t.address);this.setSmartAccountDeployed(Boolean(t.smartAccountDeployed),r),nw.isLowerCaseMatch(t.address,Yb.U.state.address)||this.syncIdentity({address:t.address,chainId:t.chainId,chainNamespace:r}),this.setCaipAddress(i,r),this.setUser((0,s.A)((0,s.A)({},Yb.U.state.user||{}),{},{email:t.email}),r);const o=t.preferredAccountType||Zb.H.state.defaultAccountTypes[r];this.setPreferredAccountType(o,r);const a=null===(n=t.accounts)||void 0===n?void 0:n.map((e=>zb.w.createAccount(r,e.address,e.type||Zb.H.state.defaultAccountTypes[r])));this.setAllAccounts(a||[zb.w.createAccount(r,t.address,o)],r),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,r)})),e.onSocialConnected((e=>{let{userName:t}=e;this.setUser((0,s.A)((0,s.A)({},Yb.U.state.user||{}),{},{username:t}),Qb.W.state.activeChain)})),e.onGetSmartAccountEnabledNetworks((e=>{this.setSmartAccountEnabledNetworks(e,Qb.W.state.activeChain)})),e.onSetPreferredAccount((e=>{let{address:t,type:n}=e;t&&this.setPreferredAccountType(n,Qb.W.state.activeChain)}))}async syncAuthConnector(e,t){var n;const r=Wb.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t);if(!r)return;this.setLoading(!0,t);const i=e.getLoginEmailUsed();this.setLoading(i,t),i&&this.setStatus("connecting",t);const o=e.getEmail(),a=e.getUsername();this.setUser((0,s.A)((0,s.A)({},(null===(n=Yb.U.state)||void 0===n?void 0:n.user)||{}),{},{username:a,email:o}),Qb.W.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=Xb.W.getSnapshot(),u=Zb.H.getSnapshot();var d,h,f;(e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:(0,Hb.o)(l.themeVariables,l.themeMode)}),t&&r)&&(c&&null!==(d=this.connectionControllerClient)&&void 0!==d&&d.connectExternal?(await(null===(h=this.connectionControllerClient)||void 0===h?void 0:h.connectExternal({id:Wb.o.CONNECTOR_ID.AUTH,info:{name:Wb.o.CONNECTOR_ID.AUTH},type:tw.o.CONNECTOR_TYPE_AUTH,provider:e,chainId:null===(f=Qb.W.state.activeCaipNetwork)||void 0===f?void 0:f.id,chain:t})),this.setStatus("connected",t)):Vb.a.getConnectorId(t)===Wb.o.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",t),$b.i.removeConnectedNamespace(t)));this.setLoading(!1,t)}async checkExistingTelegramSocialConnection(e){try{var t;if(!zb.w.isTelegram())return;const n=$b.i.getTelegramSocialProvider();if(!n)return;if("undefined"===typeof window||"undefined"===typeof document)return;const r=new URL(window.location.href).searchParams.get("result_uri");if(!r)return;Yb.U.setSocialProvider(n,e),await(null===(t=this.authProvider)||void 0===t?void 0:t.init());const i=Vb.a.getAuthConnector();n&&i&&(this.setLoading(!0,e),await i.provider.connectSocial(r),await qb.x.connectExternal(i,i.chain),$b.i.setConnectedSocialProvider(n),$b.i.removeTelegramSocialProvider(),Kb.E.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const e=new URL(window.location.href);e.searchParams.delete("result_uri"),window.history.replaceState({},document.title,e.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){var t,n,r,i,s;if(!Wb.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const o=void 0===(null===(t=this.options)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.email)?Gb.oU.DEFAULT_FEATURES.email:null===(n=this.options)||void 0===n||null===(n=n.features)||void 0===n?void 0:n.email,a=null!==(r=this.options)&&void 0!==r&&null!==(r=r.features)&&void 0!==r&&r.socials?(null===(i=this.options)||void 0===i||null===(i=i.features)||void 0===i||null===(i=i.socials)||void 0===i?void 0:i.length)>0:Gb.oU.DEFAULT_FEATURES.socials,c=o||a;var l;!this.authProvider&&null!==(s=this.options)&&void 0!==s&&s.projectId&&c&&(this.authProvider=ZS.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:null===(l=this.getCaipNetwork(e))||void 0===l?void 0:l.caipNetworkId,onTimeout:()=>{ew.h.open(rw.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),this.subscribeState((e=>{var t;e.open||(null===(t=this.authProvider)||void 0===t||t.rejectRpcRequests())})),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var t,n;(this.createAuthProvider(e),this.authProvider)&&(null===(t=this.chainAdapters)||void 0===t||null===(t=t[e])||void 0===t||null===(n=t.setAuthProvider)||void 0===n||n.call(t,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Jb.N.initializeExcludedWalletRdns({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const t=Qb.W.state.activeChain,n=e.chainNamespace,r=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===Qb.W.state.activeChain&&r){const t=this.getAdapter(n),r=cw.getProvider(n),i=cw.getProviderId(n);await(null===t||void 0===t?void 0:t.switchNetwork({caipNetwork:e,provider:r,providerType:i})),this.setCaipNetwork(e)}else{const a=cw.getProviderId(t)===tw.o.CONNECTOR_TYPE_AUTH,c=cw.getProviderId(n),l=c===tw.o.CONNECTOR_TYPE_AUTH,u=Wb.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if((a||l)&&u)try{var i,s;Qb.W.state.activeChain=e.chainNamespace,await(null===(i=this.connectionControllerClient)||void 0===i||null===(s=i.connectExternal)||void 0===s?void 0:s.call(i,{id:Wb.o.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:tw.o.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch(o){const t=this.getAdapter(n);await(null===t||void 0===t?void 0:t.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c}))}else c===tw.o.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),r&&this.syncAccount({address:r,chainId:e.id,chainNamespace:n}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity(e){var t;let{address:n,chainId:r,chainNamespace:i}=e;const s="".concat(i,":").concat(r),o=null===(t=this.caipNetworks)||void 0===t?void 0:t.find((e=>e.caipNetworkId===s));if(i!==Wb.o.CHAIN.EVM||null!==o&&void 0!==o&&o.testnet)return this.setProfileName(null,i),void this.setProfileImage(null,i);try{const{name:e,avatar:t}=await this.fetchIdentity({address:n,caipNetworkId:s});if(this.setProfileName(e,i),this.setProfileImage(t,i),!e){const e=this.getAdapter(i),t=await(null===e||void 0===e?void 0:e.getProfile({address:n,chainId:Number(r)}));null!==t&&void 0!==t&&t.profileName?(this.setProfileName(t.profileName,i),t.profileImage&&this.setProfileImage(t.profileImage,i)):(await this.syncReownName(n,i),this.setProfileImage(null,i))}}catch(a){await this.syncReownName(n,i),1!==r&&this.setProfileImage(null,i)}}syncConnectedWalletInfo(e){const t=cw.getProviderId(e);if(t===tw.o.CONNECTOR_TYPE_AUTH){const i=this.authProvider;if(i){var n,r;const s=null!==(n=$b.i.getConnectedSocialProvider())&&void 0!==n?n:"email",o=null!==(r=i.getEmail())&&void 0!==r?r:i.getUsername();this.setConnectedWalletInfo({name:t,identifier:o,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!F_&&zb.w.isClient()){const e=(0,s.A)((0,s.A)({},Gb.oU.DEFAULT_FEATURES),this.options.features),t=[];if(e){(e.email||e.socials&&e.socials.length)&&t.push(Promise.all([n.e(7),n.e(6015),n.e(8126)]).then(n.bind(n,8126))),e.email&&t.push(Promise.all([n.e(7),n.e(6015),n.e(5465)]).then(n.bind(n,5465))),e.socials&&t.push(Promise.all([n.e(7),n.e(6015),n.e(5938),n.e(7767),n.e(1191)]).then(n.bind(n,1191))),e.swaps&&t.push(Promise.all([n.e(7),n.e(6015),n.e(7556)]).then(n.bind(n,7556))),e.send&&t.push(Promise.all([n.e(7),n.e(6015),n.e(8486)]).then(n.bind(n,8486))),e.receive&&t.push(Promise.all([n.e(7),n.e(5938),n.e(1150)]).then(n.bind(n,1150))),e.onramp&&t.push(Promise.all([n.e(7),n.e(6015),n.e(7767),n.e(4201),n.e(1250)]).then(n.bind(n,1250))),e.history&&t.push(Promise.all([n.e(7),n.e(374),n.e(4093)]).then(n.bind(n,7192)))}await Promise.all([...t,Promise.all([n.e(7),n.e(6015),n.e(5938),n.e(7767),n.e(4201),n.e(374),n.e(4865),n.e(621)]).then(n.bind(n,621)),Promise.all([n.e(7),n.e(4865),n.e(2456)]).then(n.bind(n,1036))]);if(!document.querySelector("w3m-modal")){const e=document.createElement("w3m-modal");Zb.H.state.disableAppend||Zb.H.state.enableEmbedded||document.body.insertAdjacentElement("beforeend",e)}F_=!0}}}var z_=n(398),W_=n(9461);const{use:H_}=t,{useSyncExternalStore:V_}=W_,q_=new WeakMap;function K_(e,n){const r=null==n?void 0:n.sync,i=(0,t.useRef)(),s=(0,t.useRef)();let o=!0;const a=V_((0,t.useCallback)((t=>{const n=(0,iw.B1)(e,t,r);return t(),n}),[e,r]),(()=>{const t=(0,iw.P9)(e,H_);try{if(!o&&i.current&&s.current&&!(0,z_.Hq)(i.current,t,s.current,new WeakMap))return i.current}catch(uD){}return t}),(()=>(0,iw.P9)(e,H_)));o=!1;const c=new WeakMap;(0,t.useEffect)((()=>{i.current=a,s.current=c})),((e,n)=>{const r=(0,t.useRef)();(0,t.useEffect)((()=>{r.current=(0,z_.JR)(e,n,!0)})),(0,t.useDebugValue)(r.current)})(a,c);const l=(0,t.useMemo)((()=>new WeakMap),[]);return(0,z_.tz)(a,c,l,q_)}let G_=null;let J_;var Y_;const Q_=BigInt(-1),Z_=BigInt(0),X_=BigInt(1),$_=BigInt(5),ek={};let tk="0000";for(;tk.length<80;)tk+=tk;function nk(e){let t=tk;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function rk(e,t,n){const r=BigInt(t.width);if(t.signed){const t=X_<<r-X_;fa(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>Z_?Ra(Da(e,r),r):-Ra(Da(-e,r),r)}else{const t=X_<<r;fa(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-X_}return e}function ik(e){"number"===typeof e&&(e="fixed128x".concat(e));let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);pa(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=e,s=(e,t,n)=>null==i[e]?n:(pa(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=s("signed","boolean",t),n=s("width","number",n),r=s("decimals","number",r)}pa(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),pa(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}var sk=new WeakMap,ok=new WeakMap,ak=new WeakMap,ck=new WeakSet;class lk{constructor(e,t,n){ea(this,ck),(0,sa.A)(this,"format",void 0),ta(this,sk,void 0),ta(this,ok,void 0),ta(this,ak,void 0),(0,sa.A)(this,"_value",void 0),va(e,ek,"FixedNumber"),ra(ok,this,t),ra(sk,this,n);const r=function(e,t){let n="";e<Z_&&(n="-",e*=Q_);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=tk+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);ca(this,{format:n.name,_value:r}),ra(ak,this,nk(n.decimals))}get signed(){return ia(sk,this).signed}get width(){return ia(sk,this).width}get decimals(){return ia(sk,this).decimals}get value(){return ia(ok,this)}addUnsafe(e){return na(ck,this,hk).call(this,e)}add(e){return na(ck,this,hk).call(this,e,"add")}subUnsafe(e){return na(ck,this,fk).call(this,e)}sub(e){return na(ck,this,fk).call(this,e,"sub")}mulUnsafe(e){return na(ck,this,pk).call(this,e)}mul(e){return na(ck,this,pk).call(this,e,"mul")}mulSignal(e){na(ck,this,uk).call(this,e);const t=ia(ok,this)*ia(ok,e);return fa(t%ia(ak,this)===Z_,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),na(ck,this,dk).call(this,t/ia(ak,this),"mulSignal")}divUnsafe(e){return na(ck,this,gk).call(this,e)}div(e){return na(ck,this,gk).call(this,e,"div")}divSignal(e){fa(ia(ok,e)!==Z_,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),na(ck,this,uk).call(this,e);const t=ia(ok,this)*ia(ak,this);return fa(t%ia(ok,e)===Z_,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),na(ck,this,dk).call(this,t/ia(ok,e),"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=nk(r):r<0&&(t*=nk(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=ia(ok,this);return ia(ok,this)<Z_&&(e-=ia(ak,this)-X_),e=ia(ok,this)/ia(ak,this)*ia(ak,this),na(ck,this,dk).call(this,e,"floor")}ceiling(){let e=ia(ok,this);return ia(ok,this)>Z_&&(e+=ia(ak,this)-X_),e=ia(ok,this)/ia(ak,this)*ia(ak,this),na(ck,this,dk).call(this,e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=$_*nk(t-1);let r=this.value+n;const i=nk(t);return r=r/i*i,rk(r,ia(sk,this),"round"),new lk(ek,r,ia(sk,this))}isZero(){return ia(ok,this)===Z_}isNegative(){return ia(ok,this)<Z_}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return lk.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:ja(t),i=ik(n);let s=Ua(e,"value");const o=r-i.decimals;if(o>0){const t=nk(o);fa(s%t===Z_,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else o<0&&(s*=nk(-o));return rk(s,i,"fromValue"),new lk(ek,s,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);pa(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=ik(t);let i=n[2]||"0",s=n[3]||"";for(;s.length<r.decimals;)s+=tk;fa(s.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,r.decimals);const o=BigInt(n[1]+i+s);return rk(o,r,"fromString"),new lk(ek,o,r)}static fromBytes(e,t){let n=Fa(ba(e,"value"));const r=ik(t);return r.signed&&(n=Ra(n,r.width)),rk(n,r,"fromBytes"),new lk(ek,n,r)}}function uk(e){pa(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}function dk(e,t){return e=rk(e,ia(sk,this),t),new Y_(ek,e,ia(sk,this))}function hk(e,t){return na(ck,this,uk).call(this,e),na(ck,this,dk).call(this,ia(ok,this)+ia(ok,e),t)}function fk(e,t){return na(ck,this,uk).call(this,e),na(ck,this,dk).call(this,ia(ok,this)-ia(ok,e),t)}function pk(e,t){return na(ck,this,uk).call(this,e),na(ck,this,dk).call(this,ia(ok,this)*ia(ok,e)/ia(ak,this),t)}function gk(e,t){return fa(ia(ok,e)!==Z_,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),na(ck,this,uk).call(this,e),na(ck,this,dk).call(this,ia(ok,this)*ia(ak,this)/ia(ok,e),t)}Y_=lk;const mk=["wei","kwei","mwei","gwei","szabo","finney","ether"];function vk(e,t){let n=18;if("string"===typeof t){const e=mk.indexOf(t);pa(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=ja(t,"unit"));return lk.fromValue(e,n,{decimals:n,width:512}).toString()}function yk(e,t){pa("string"===typeof e,"value must be a string","value",e);let n=18;if("string"===typeof t){const e=mk.indexOf(t);pa(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=ja(t,"unit"));return lk.fromString(e,{decimals:n,width:512}).value}const bk=new Set;const wk=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}().WebSocket;var Ak=new WeakMap,Ek=new WeakMap,Sk=new WeakMap,Ck=new WeakMap,_k=new WeakMap;class kk{get filter(){return JSON.parse(ia(Ek,this))}constructor(e,t){ta(this,Ak,void 0),ta(this,Ek,void 0),ta(this,Sk,void 0),ta(this,Ck,void 0),ta(this,_k,void 0),ra(Ak,this,e),ra(Ek,this,JSON.stringify(t)),ra(Sk,this,null),ra(Ck,this,null),ra(_k,this,null)}start(){ra(Sk,this,ia(Ak,this).send("eth_subscribe",this.filter).then((e=>(ia(Ak,this)._register(e,this),e))))}stop(){ia(Sk,this).then((e=>{ia(Ak,this).destroyed||ia(Ak,this).send("eth_unsubscribe",[e])})),ra(Sk,this,null)}pause(e){fa(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),ra(Ck,this,!!e)}resume(){ra(Ck,this,null)}_handleMessage(e){if(null!=ia(Sk,this)&&null===ia(Ck,this)){let t=ia(_k,this);t=null==t?this._emit(ia(Ak,this),e):t.then((async()=>{await this._emit(ia(Ak,this),e)})),ra(_k,this,t.then((()=>{ia(_k,this)===t&&ra(_k,this,null)})))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}}class xk extends kk{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}class Ik extends kk{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}var Nk=new WeakMap;class Tk extends kk{get logFilter(){return JSON.parse(ia(Nk,this))}constructor(e,t){super(e,["logs",t]),ta(this,Nk,void 0),ra(Nk,this,JSON.stringify(t))}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}var Pk=new WeakMap,Ok=new WeakMap,Rk=new WeakMap;class Mk extends Ib{constructor(e,t){const n=Object.assign({},null!=t?t:{});pa(null==n.batchMaxCount||1===n.batchMaxCount,"sockets-based providers do not support batches","options.batchMaxCount",t),n.batchMaxCount=1,null==n.staticNetwork&&(n.staticNetwork=!0),super(e,n),ta(this,Pk,void 0),ta(this,Ok,void 0),ta(this,Rk,void 0),ra(Pk,this,new Map),ra(Ok,this,new Map),ra(Rk,this,new Map)}_getSubscriber(e){switch(e.type){case"close":return new yy("close");case"block":return new xk(this);case"pending":return new Ik(this);case"event":return new Tk(this,e.filter);case"orphan":if("drop-log"===e.filter.orphan)return new yy("drop-log")}return super._getSubscriber(e)}_register(e,t){ia(Ok,this).set(e,t);const n=ia(Rk,this).get(e);if(n){for(const e of n)t._handleMessage(e);ia(Rk,this).delete(e)}}async _send(e){pa(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const t=new Promise(((t,n)=>{ia(Pk,this).set(e.id,{payload:e,resolve:t,reject:n})}));return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){const t=JSON.parse(e);if(t&&"object"===typeof t&&"id"in t){const e=ia(Pk,this).get(t.id);if(null==e)return void this.emit("error",ha("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));ia(Pk,this).delete(t.id),e.resolve(t)}else{if(!t||"eth_subscription"!==t.method)return void this.emit("error",ha("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));{const e=t.params.subscription,n=ia(Ok,this).get(e);if(n)n._handleMessage(t.params.result);else{let n=ia(Rk,this).get(e);null==n&&(n=[],ia(Rk,this).set(e,n)),n.push(t.params.result)}}}}async _write(e){throw new Error("sub-classes must override this")}}var Dk=new WeakMap,Uk=new WeakMap;class Lk extends Mk{get websocket(){if(null==ia(Uk,this))throw new Error("websocket closed");return ia(Uk,this)}constructor(e,t,n){super(t,n),ta(this,Dk,void 0),ta(this,Uk,void 0),"string"===typeof e?(ra(Dk,this,(()=>new wk(e))),ra(Uk,this,ia(Dk,this).call(this))):"function"===typeof e?(ra(Dk,this,e),ra(Uk,this,e())):(ra(Dk,this,null),ra(Uk,this,e)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){console.log("failed to start WebsocketProvider",e)}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=ia(Uk,this)&&(ia(Uk,this).close(),ra(Uk,this,null)),super.destroy()}}const Bk="84842078b09946638c03157f83405213";class Fk extends Lk{constructor(e,t){const n=new jk(e,t),r=n._getConnection();fa(!r.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});super(r.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),n._network),(0,sa.A)(this,"projectId",void 0),(0,sa.A)(this,"projectSecret",void 0),ca(this,{projectId:n.projectId,projectSecret:n.projectSecret})}isCommunityResource(){return this.projectId===Bk}}class jk extends Rb{constructor(e,t,n){null==e&&(e="mainnet");const r=Bv.from(e);null==t&&(t=Bk),null==n&&(n=null);super(jk.getRequest(r,t,n),r,{staticNetwork:r}),(0,sa.A)(this,"projectId",void 0),(0,sa.A)(this,"projectSecret",void 0),ca(this,{projectId:t,projectSecret:n})}_getProvider(e){try{return new jk(e,this.projectId,this.projectSecret)}catch(t){}return super._getProvider(e)}isCommunityResource(){return this.projectId===Bk}static getWebSocketProvider(e,t){return new Fk(e,t)}static getRequest(e,t,n){null==t&&(t=Bk),null==n&&(n=null);const r=new Gd("https://".concat(function(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}pa(!1,"unsupported network","network",e)}(e.name),"/v3/").concat(t));return r.allowGzip=!0,n&&r.setCredentials("",n),t===Bk&&(r.retryFunc=async(e,t,n)=>{var r;return r="InfuraProvider",bk.has(r)||(bk.add(r),console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded for ".concat(r," (this message will not be repeated)")),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("==========================")),!0}),r}}const zk={hexStringToNumber(e){const t=e.startsWith("0x")?e.slice(2):e;return parseInt(t,16)},numberToHexString:e=>"0x".concat(e.toString(16)),async getUserInfo(e){const[t,n]=await Promise.all([zk.getAddresses(e),zk.getChainId(e)]);return{chainId:n,addresses:t}},async getChainId(e){const t=await e.request({method:"eth_chainId"});return Number(t)},async getAddress(e){const[t]=await e.request({method:"eth_accounts"});return t},getAddresses:async e=>await e.request({method:"eth_accounts"}),async addEthereumChain(e,t){var n,r;const i=(null===(n=t.rpcUrls.chainDefault)||void 0===n?void 0:n.http)||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:zk.numberToHexString(t.id),rpcUrls:[...i],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[null===(r=t.blockExplorers)||void 0===r?void 0:r.default.url],iconUrls:[y_.NetworkImageIds[t.id]]}]})}};var Wk=new WeakMap;class Hk extends Pb{constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});pa(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),ta(this,Wk,void 0),ra(Wk,this,(async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(uD){const t=new Error(uD.message);throw t.code=uD.code,t.data=uD.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}))}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){pa(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await ia(Wk,this).call(this,e.method,e.params||[]);return[{id:e.id,result:t}]}catch(uD){return[{id:e.id,error:{code:uD.code,data:uD.data,message:uD.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message="ethers-user-denied: ".concat(t.error.message);break;case 4200:t.error.message="ethers-unsupported: ".concat(t.error.message)}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await ia(Wk,this).call(this,"eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}}const Vk={signMessage:async(e,t,n)=>{if(!t)throw new Error("signMessage - provider is undefined");const r=Aa(e)?e:Ca(Ul(e));return await t.request({method:"personal_sign",params:[r,n]})},estimateGas:async(e,t,n,r)=>{if(!t)throw new Error("estimateGas - provider is undefined");if(!n)throw new Error("estimateGas - address is undefined");if(e.chainNamespace&&"eip155"!==e.chainNamespace)throw new Error("estimateGas - chainNamespace is not eip155");const i={from:e.address,to:e.to,data:e.data,type:0},s=new Hk(t,r),o=new bb(s,n);return await o.estimateGas(i)},sendTransaction:async(e,t,n,r)=>{if(!t)throw new Error("sendTransaction - provider is undefined");if(!n)throw new Error("sendTransaction - address is undefined");if(e.chainNamespace&&"eip155"!==e.chainNamespace)throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:e.to,value:e.value,gasLimit:e.gas,gasPrice:e.gasPrice,data:e.data,type:0},s=new Hk(t,r),o=new bb(s,n),a=await o.sendTransaction(i),c=await a.wait();return(null===c||void 0===c?void 0:c.hash)||null},writeContract:async(e,t,n,r)=>{if(!t)throw new Error("writeContract - provider is undefined");if(!n)throw new Error("writeContract - address is undefined");const i=new Hk(t,r),s=new bb(i,n),o=new hf(e.tokenAddress,e.abi,s);if(!o||!e.method)throw new Error("Contract method is undefined");const a=o[e.method];if(a)return await a(...e.args);throw new Error("Contract method is undefined")},getEnsAddress:async(e,t)=>{try{const n=Number(t.id);let r=null,i=!1;if(function(e){return(null===e||void 0===e?void 0:e.endsWith(Wb.o.WC_NAME_SUFFIX_LEGACY))||(null===e||void 0===e?void 0:e.endsWith(Wb.o.WC_NAME_SUFFIX))}(e)&&(i=await R_.resolveReownName(e)||!1),1===n){const t=new jk("mainnet");r=await t.resolveName(e)}return r||i||!1}catch(n){return!1}},getEnsAvatar:async(e,t)=>{if(1===t){const t=new jk("mainnet");return await t.getAvatar(e)||!1}return!1},parseWalletCapabilities:e=>{try{return JSON.parse(e)}catch(t){throw new Error("Error parsing wallet capabilities")}},parseUnits:yk,formatUnits:vk};const qk=[I_,N_];function Kk(e){let{onSuccess:n,message:r,signing:i=!1,onMessageSigned:s}=e;const{address:o,isConnected:a}=function(e){var t;const n=K_(Qb.W.state),r=(null===e||void 0===e?void 0:e.namespace)||n.activeChain;if(!r)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const i=null===(t=n.chains.get(r))||void 0===t?void 0:t.accountState,s=Vb.a.getAuthConnector(r);return{allAccounts:(null===i||void 0===i?void 0:i.allAccounts)||[],caipAddress:null===i||void 0===i?void 0:i.caipAddress,address:zb.w.getPlainAddress(null===i||void 0===i?void 0:i.caipAddress),isConnected:Boolean(null===i||void 0===i?void 0:i.caipAddress),status:null===i||void 0===i?void 0:i.status,embeddedWalletInfo:s?{user:null===i||void 0===i?void 0:i.user,authProvider:(null===i||void 0===i?void 0:i.socialProvider)||"email",accountType:null===i||void 0===i?void 0:i.preferredAccountType,isSmartAccountDeployed:Boolean(null===i||void 0===i?void 0:i.smartAccountDeployed)}:void 0}}(),{walletProvider:c}=function(e){const{providers:t,providerIds:n}=K_(cw.state);return{walletProvider:t[e],walletProviderType:n[e]}}("eip155"),[l,u]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{a&&o&&(console.log("Wallet connected via AppKit:",o),n&&n(o))}),[a,o,n]),(0,t.useEffect)((()=>{if(!i||!r||!a||!o||!c||l)return;let e=!1;!async function(){if(!e)try{u(!0),e=!0,console.log("Signing message:",r);const t=await c.request({method:"personal_sign",params:[r,o]});console.log("Signature received:",t),s&&(console.log("Calling onMessageSigned with signature:",t.substring(0,10)+"..."),s(t))}catch(t){console.error("Error signing message:",t)}finally{u(!1)}}()}),[i,r,a,o,c,s,l]),i?null:(0,Zo.jsx)("appkit-button",{})}!function(e){var t,n;J_||(J_=new j_((0,s.A)((0,s.A)({},e),{},{sdkVersion:zb.w.generateSdkVersion(null!==(t=e.adapters)&&void 0!==t?t:[],"react","1.7.1")})),(n=J_)&&(G_=n))}({adapters:[new class extends U_{constructor(){super({}),this.adapterType="ethers",this.balancePromises={},this.providerHandlers=null,this.namespace=Wb.o.CHAIN.EVM}async createEthersConfig(e){if(!e.metadata)return;let t;const r={metadata:e.metadata};if(!1!==e.enableInjected&&(r.injected=t||("undefined"!==typeof window&&window.ethereum?(t=window.ethereum,t):void 0)),!1!==e.enableCoinbase){const t=await async function(){try{var t,r,i,s;const{createCoinbaseWalletSDK:o}=await n.e(9871).then(n.bind(n,9806));if("undefined"===typeof window)return;return o({appName:null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name,appLogoUrl:null===e||void 0===e||null===(r=e.metadata)||void 0===r?void 0:r.icons[0],appChainIds:(null===(i=e.networks)||void 0===i?void 0:i.map((e=>e.id)))||[1,84532],preference:{options:null!==(s=e.coinbasePreference)&&void 0!==s?s:"all"}}).getProvider()}catch(o){return void console.error("Failed to import Coinbase Wallet SDK:",o)}}();t&&(r.coinbase=t)}return r.EIP6963=!1!==e.enableEIP6963,r}async signMessage(e){const{message:t,address:n,provider:r}=e;if(!r)throw new Error("Provider is undefined");try{return{signature:await Vk.signMessage(t,r,n)}}catch(i){throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){var t;if(!e.provider)throw new Error("Provider is undefined");return{hash:await Vk.sendTransaction({value:e.value,to:e.to,data:e.data,gas:e.gas,gasPrice:e.gasPrice,address:e.address},e.provider,e.address,Number(null===(t=e.caipNetwork)||void 0===t?void 0:t.id))}}async writeContract(e){var t;if(!e.provider)throw new Error("Provider is undefined");const{address:n}=$S.parseCaipAddress(e.caipAddress);return{hash:await Vk.writeContract(e,e.provider,n,Number(null===(t=e.caipNetwork)||void 0===t?void 0:t.id))}}async estimateGas(e){const{provider:t,caipNetwork:n,address:r}=e;if(!t)throw new Error("Provider is undefined");try{return{gas:await Vk.estimateGas({data:e.data,to:e.to,address:r},t,r,Number(null===n||void 0===n?void 0:n.id))}}catch(i){throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}async getEnsAddress(e){const{name:t,caipNetwork:n}=e;if(n){return{address:await Vk.getEnsAddress(t,n)}}return{address:""}}parseUnits(e){return Vk.parseUnits(e.value,e.decimals)}formatUnits(e){return Vk.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:t,chainId:n}=e,r=this.connectors.find((e=>e.id===t)),i=null===r||void 0===r?void 0:r.provider;if(!i)throw new Error("Provider not found");const s=await i.request({method:"eth_requestAccounts"}),o=await i.request({method:"eth_chainId"});if(this.listenProviderEvents(i),!s[0])throw new Error("No accounts found");if(null===r||void 0===r||!r.type)throw new Error("Connector type not found");return{address:s[0],chainId:Number(o)||Number(n),provider:i,type:r.type,id:t}}async syncConnectors(e){var t;this.ethersConfig=await this.createEthersConfig(e),null!==(t=this.ethersConfig)&&void 0!==t&&t.EIP6963&&this.listenInjectedConnector(!0);Object.keys(this.ethersConfig||{}).filter((e=>"metadata"!==e&&"EIP6963"!==e)).forEach((t=>{const n="coinbase"===t?"coinbaseWalletSDK":t,r=t===Wb.o.CONNECTOR_ID.INJECTED;var i,s,o;this.namespace&&this.addConnector({id:n,explorerId:y_.ConnectorExplorerIds[n],imageUrl:null===e||void 0===e||null===(i=e.connectorImages)||void 0===i?void 0:i[n],name:y_.ConnectorNamesMap[n]||"Unknown",imageId:y_.ConnectorImageIds[n],type:null!==(s=y_.ConnectorTypesMap[n])&&void 0!==s?s:"EXTERNAL",info:r?void 0:{rdns:n},chain:this.namespace,chains:[],provider:null===(o=this.ethersConfig)||void 0===o?void 0:o[t]})}))}setUniversalProvider(e){this.addConnector(new M_({provider:e,caipNetworks:this.caipNetworks||[],namespace:"eip155"}))}eip6963EventHandler(e){if(e.detail){var t;const{info:n,provider:r}=e.detail;if(!(null===(t=this.connectors)||void 0===t?void 0:t.find((e=>e.name===(null===n||void 0===n?void 0:n.name))))){const e=y_.ConnectorTypesMap[Wb.o.CONNECTOR_ID.EIP6963],t=(null===n||void 0===n?void 0:n.rdns)||(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.uuid);e&&this.namespace&&t&&this.addConnector({id:t,type:e,imageUrl:null===n||void 0===n?void 0:n.icon,name:(null===n||void 0===n?void 0:n.name)||"Unknown",provider:r,info:n,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if("undefined"!==typeof window&&e){const e=this.eip6963EventHandler.bind(this);window.addEventListener(tw.o.EIP6963_ANNOUNCE_EVENT,e),window.dispatchEvent(new Event(tw.o.EIP6963_REQUEST_EVENT))}}async connect(e){let{id:t,type:n,chainId:r}=e;const i=this.connectors.find((e=>e.id===t)),s=null===i||void 0===i?void 0:i.provider;if(!s)throw new Error("Provider not found");let o,a=[];if("AUTH"===n){const{address:e}=await s.connect({chainId:r,preferredAccountType:Zb.H.state.defaultAccountTypes.eip155});a=[e]}else{if(a=await s.request({method:"eth_requestAccounts"}),o=await s.request({method:"eth_chainId"}),o!==r){var c;const e=null===(c=this.caipNetworks)||void 0===c?void 0:c.find((e=>e.id===r));if(!e)throw new Error("EthersAdapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:e,provider:s,providerType:n})}catch(l){throw new Error("EthersAdapter:connect - Switch network failed")}}this.listenProviderEvents(s)}return{address:a[0],chainId:Number(r),provider:s,type:n,id:t}}async reconnect(e){const{id:t,chainId:n}=e,r=this.connectors.find((e=>e.id===t));r&&"AUTH"===r.type&&n&&await r.provider.connect({chainId:n,preferredAccountType:Zb.H.state.defaultAccountTypes.eip155})}async getAccounts(e){const t=this.connectors.find((t=>t.id===e.id)),n=null===t||void 0===t?void 0:t.provider;if(!n||!t)throw new Error("Provider not found");if(e.id===Wb.o.CONNECTOR_ID.AUTH){const e=t.provider,{address:n,accounts:r}=await e.connect();return Promise.resolve({accounts:(r||[{address:n,type:"eoa"}]).map((e=>zb.w.createAccount("eip155",e.address,e.type)))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map((e=>zb.w.createAccount("eip155",e,"eoa")))}}async disconnect(e){if(!e.provider||!e.providerType)throw new Error("Provider or providerType not provided");switch(e.providerType){case"WALLET_CONNECT":e.provider.session&&e.provider.disconnect();break;case"AUTH":await e.provider.disconnect();break;case"ANNOUNCED":case"EXTERNAL":await this.revokeProviderPermissions(e.provider);break;default:throw new Error("Unsupported provider type")}}async getBalance(e){var t;const n=e.address,r=null===(t=this.caipNetworks)||void 0===t?void 0:t.find((t=>t.id===e.chainId));if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&"eip155"===r.chainNamespace){const e="".concat(r.caipNetworkId,":").concat(n),t=this.balancePromises[e];if(t)return t;const s=$b.i.getNativeBalanceCacheForCaipAddress(e);if(s)return{balance:s.balance,symbol:s.symbol};const o=new Rb(r.rpcUrls.default.http[0],{chainId:r.id,name:r.name});if(o)try{return this.balancePromises[e]=new Promise((async t=>{const i=await o.getBalance(n),s=vk(i,18);$b.i.updateNativeBalanceCache({caipAddress:e,balance:s,symbol:r.nativeCurrency.symbol,timestamp:Date.now()}),t({balance:s,symbol:r.nativeCurrency.symbol})})).finally((()=>{delete this.balancePromises[e]})),this.balancePromises[e]||{balance:"0.00",symbol:"ETH"}}catch(i){return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async getProfile(e){if(1===e.chainId){const t=new jk("mainnet");return{profileName:await t.lookupAddress(e.address)||void 0,profileImage:await t.getAvatar(e.address)||void 0}}return{profileName:void 0,profileImage:void 0}}listenProviderEvents(e){const t=()=>{this.removeProviderListeners(e),this.emit("disconnect")},n=e=>{e.length>0?this.emit("accountChanged",{address:e[0]}):t()},r=e=>{const t="string"===typeof e?zk.hexStringToNumber(e):Number(e);this.emit("switchNetwork",{chainId:t})};e.on("disconnect",t),e.on("accountsChanged",n),e.on("chainChanged",r),this.providerHandlers={disconnect:t,accountsChanged:n,chainChanged:r}}removeProviderListeners(e){this.providerHandlers&&(e.removeListener("disconnect",this.providerHandlers.disconnect),e.removeListener("accountsChanged",this.providerHandlers.accountsChanged),e.removeListener("chainChanged",this.providerHandlers.chainChanged),this.providerHandlers=null)}async switchNetwork(e){const{caipNetwork:t,provider:n,providerType:r}=e;if("AUTH"!==r)try{await n.request({method:"wallet_switchEthereumChain",params:[{chainId:zk.numberToHexString(t.id)}]})}catch(s){var i;if(s.code===C_||s.code===k_||s.code===__||(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(i=i.originalError)||void 0===i?void 0:i.code)===C_)await zk.addEthereumChain(n,t);else if("ANNOUNCED"===r||"EXTERNAL"===r||"INJECTED"===r)throw new Error("Chain is not supported")}else await super.switchNetwork(e)}getWalletConnectProvider(){var e;return null===(e=this.connectors.find((e=>"WALLET_CONNECT"===e.type)))||void 0===e?void 0:e.provider}async revokeProviderPermissions(e){try{const t=await e.request({method:"wallet_getPermissions"});t.find((e=>"eth_accounts"===e.parentCapability))&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(t){console.info("Could not revoke permissions from wallet. Disconnecting...",t)}}async getCapabilities(e){var t;const n=cw.getProvider(Wb.o.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");const r=null===(t=n.session)||void 0===t||null===(t=t.sessionProperties)||void 0===t?void 0:t.capabilities;if(r){const t=Vk.parseWalletCapabilities(r)[e];if(t)return t}return await n.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const t=cw.getProvider(Wb.o.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const t=cw.getProvider(Wb.o.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const t=cw.getProvider(Wb.o.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_getAssets",params:[e]})}}],networks:qk,metadata:{name:"Arnacon",description:"Web3 Telecom Protocol",url:"https://arnacon-website-dabatmancoders-projects.vercel.app/",icons:["https://arnacon-website-dabatmancoders-projects.vercel.app/favicon.ico"]},projectId:"2217f1bdaf9856078d15617a25f6bb93",features:{analytics:!0}});const Gk=(0,t.createContext)({});function Jk(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const Yk=(0,t.createContext)(null),Qk=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Zk extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xk(e){let{children:n,isPresent:r}=e;const i=(0,t.useId)(),s=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,t.useContext)(Qk);return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:c}=o.current;if(r||!s.current||!e||!t)return;s.current.dataset.motionPopId=i;const l=document.createElement("style");return a&&(l.nonce=a),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(c,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[r]),(0,Zo.jsx)(Zk,{isPresent:r,childRef:s,sizeRef:o,children:t.cloneElement(n,{ref:s})})}const $k=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:c}=e;const l=Jk(ex),u=(0,t.useId)(),d=(0,t.useCallback)((e=>{l.set(e,!0);for(const t of l.values())if(!t)return;s&&s()}),[l,s]),h=(0,t.useMemo)((()=>({id:u,initial:r,isPresent:i,custom:o,onExitComplete:d,register:e=>(l.set(e,!1),()=>l.delete(e))})),a?[Math.random(),d]:[i,d]);return(0,t.useMemo)((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[i]),t.useEffect((()=>{!i&&!l.size&&s&&s()}),[i]),"popLayout"===c&&(n=(0,Zo.jsx)(Xk,{isPresent:i,children:n})),(0,Zo.jsx)(Yk.Provider,{value:h,children:n})};function ex(){return new Map}function tx(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(Yk);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:i,register:s}=n,o=(0,t.useId)();(0,t.useEffect)((()=>{e&&s(o)}),[e]);const a=(0,t.useCallback)((()=>e&&i&&i(o)),[o,i,e]);return!r&&i?[!1,a]:[!0]}const nx=e=>e.key||"";function rx(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}const ix="undefined"!==typeof window,sx=ix?t.useLayoutEffect:t.useEffect,ox=e=>{let{children:n,custom:r,initial:i=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:c=!1}=e;const[l,u]=tx(c),d=(0,t.useMemo)((()=>rx(n)),[n]),h=c&&!l?[]:d.map(nx),f=(0,t.useRef)(!0),p=(0,t.useRef)(d),g=Jk((()=>new Map)),[m,v]=(0,t.useState)(d),[y,b]=(0,t.useState)(d);sx((()=>{f.current=!1,p.current=d;for(let e=0;e<y.length;e++){const t=nx(y[e]);h.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}}),[y,h.length,h.join("-")]);const w=[];if(d!==m){let e=[...d];for(let t=0;t<y.length;t++){const n=y[t],r=nx(n);h.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===a&&w.length&&(e=w),b(rx(e)),void v(d)}const{forceRender:A}=(0,t.useContext)(Gk);return(0,Zo.jsx)(Zo.Fragment,{children:y.map((e=>{const t=nx(e),n=!(c&&!l)&&(d===y||h.includes(t));return(0,Zo.jsx)($k,{isPresent:n,initial:!(f.current&&!i)&&void 0,custom:n?void 0:r,presenceAffectsLayout:o,mode:a,onExitComplete:n?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach((t=>{t||(e=!1)})),e&&(null===A||void 0===A||A(),b(p.current),c&&(null===u||void 0===u||u()),s&&s())},children:e},t)}))})};function ax(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function cx(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const lx=e=>Array.isArray(e);function ux(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function dx(e){return"string"===typeof e||Array.isArray(e)}function hx(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function fx(e,t,n,r){if("function"===typeof t){const[i,s]=hx(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=hx(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function px(e,t,n){const r=e.getProps();return fx(r,t,void 0!==n?n:r.custom,e)}const gx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mx=["initial",...gx];function vx(e){let t;return()=>(void 0===t&&(t=e()),t)}const yx=vx((()=>void 0!==window.ScrollTimeline));class bx{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>yx()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wx extends bx{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ax(e,t){return e?e[t]||e.default||e:void 0}const Ex=2e4;function Sx(e){let t=0;let n=e.next(t);for(;!n.done&&t<Ex;)t+=50,n=e.next(t);return t>=Ex?1/0:t}function Cx(e){return"function"===typeof e}function _x(e,t){e.timeline=t,e.onfinish=null}const kx=e=>Array.isArray(e)&&"number"===typeof e[0],xx={linearEasing:void 0};function Ix(e,t){const n=vx(e);return()=>{var e;return null!==(e=xx[t])&&void 0!==e?e:n()}}const Nx=Ix((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(uD){return!1}return!0}),"linearEasing"),Tx=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Px=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Tx(0,i-1,s))+", ";return"linear(".concat(r.substring(0,r.length-2),")")};function Ox(e){return Boolean("function"===typeof e&&Nx()||!e||"string"===typeof e&&(e in Mx||Nx())||kx(e)||Array.isArray(e)&&e.every(Ox))}const Rx=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Mx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rx([0,.65,.55,1]),circOut:Rx([.55,0,1,.45]),backIn:Rx([.31,.01,.66,-.59]),backOut:Rx([.33,1.53,.69,.99])};function Dx(e,t){return e?"function"===typeof e&&Nx()?Px(e,t):kx(e)?Rx(e):Array.isArray(e)?e.map((e=>Dx(e,t)||Mx.easeOut)):Mx[e]:void 0}const Ux={x:!1,y:!1};function Lx(){return Ux.x||Ux.y}function Bx(e,t){const n=function(e,t,n){var r;if(e instanceof Element)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,(0,s.A)((0,s.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function Fx(e){return t=>{"touch"===t.pointerType||Lx()||e(t)}}const jx=(e,t)=>!!t&&(e===t||jx(e,t.parentElement)),zx=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,Wx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Hx=new WeakSet;function Vx(e){return t=>{"Enter"===t.key&&e(t)}}function qx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Kx(e){return zx(e)&&!Lx()}function Gx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=Bx(e,n),o=e=>{const r=e.currentTarget;if(!Kx(e)||Hx.has(r))return;Hx.add(r);const s=t(e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",c),Kx(e)&&Hx.has(r)&&(Hx.delete(r),"function"===typeof s&&s(e,{success:t}))},a=e=>{o(e,n.useGlobalTarget||jx(r,e.target))},c=e=>{o(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",c,i)};return r.forEach((e=>{(function(e){return Wx.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Vx((()=>{if(Hx.has(n))return;qx(n,"down");const e=Vx((()=>{qx(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>qx(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i)),i)})),s}const Jx=e=>1e3*e,Yx=e=>e/1e3,Qx=e=>e;const Zx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xx=new Set(Zx),$x=new Set(["width","height","top","left","right","bottom",...Zx]),eI=!1,tI=!1;const nI=["read","resolveKeyframes","update","preRender","render","postRender"];function rI(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=nI.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(c.schedule(t),e()),t(o)}const c={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),i.has(e)||i.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{o=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,c.process(e)))}};return c}(s),e)),{}),{read:a,resolveKeyframes:c,update:l,preRender:u,render:d,postRender:h}=o,f=()=>{const s=tI?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=nI.reduce(((t,s)=>{const a=o[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),a.schedule(t,s,o)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<nI.length;t++)o[nI[t]].cancel(e)},state:i,steps:o}}const{schedule:iI,cancel:sI,state:oI,steps:aI}=rI("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Qx,!0);let cI;function lI(){cI=void 0}const uI={now:()=>(void 0===cI&&uI.set(oI.isProcessing||tI?oI.timestamp:performance.now()),cI),set:e=>{cI=e,queueMicrotask(lI)}};function dI(e,t){-1===e.indexOf(t)&&e.push(t)}function hI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fI{constructor(){this.subscriptions=[]}add(e){return dI(this.subscriptions,e),()=>hI(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pI(e,t){return t?e*(1e3/t):0}const gI={current:void 0};class mI{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=uI.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=uI.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new fI);const n=this.events[e].add(t);return"change"===e?()=>{n(),iI.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return gI.current&&gI.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=uI.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return pI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vI(e,t){return new mI(e,t)}const yI=["transitionEnd","transition"];function bI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,vI(n))}const wI=e=>Boolean(e&&e.getVelocity);function AI(e,t){const n=e.getValue("willChange");if(r=n,Boolean(wI(r)&&r.add))return n.add(t);var r}const EI=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),SI="data-"+EI("framerAppearId");function CI(e){return e.props[SI]}const _I=!1,kI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function xI(e,t,n,r){if(e===t&&n===r)return Qx;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=kI(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:kI(i(e),t,r)}const II=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,NI=e=>t=>1-e(1-t),TI=xI(.33,1.53,.69,.99),PI=NI(TI),OI=II(PI),RI=e=>(e*=2)<1?.5*PI(e):.5*(2-Math.pow(2,-10*(e-1))),MI=e=>1-Math.sin(Math.acos(e)),DI=NI(MI),UI=II(MI),LI=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const BI=(e,t,n)=>n>t?t:n<e?e:n,FI={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},jI=(0,s.A)((0,s.A)({},FI),{},{transform:e=>BI(0,1,e)}),zI=(0,s.A)((0,s.A)({},FI),{},{default:1}),WI=e=>Math.round(1e5*e)/1e5,HI=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const VI=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,qI=(e,t)=>n=>Boolean("string"===typeof n&&VI.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),KI=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,o,a]=r.match(HI);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},GI=(0,s.A)((0,s.A)({},FI),{},{transform:e=>Math.round((e=>BI(0,255,e))(e))}),JI={test:qI("rgb","red"),parse:KI("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+GI.transform(t)+", "+GI.transform(n)+", "+GI.transform(r)+", "+WI(jI.transform(i))+")"}};const YI={test:qI("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:JI.transform},QI=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ZI=QI("deg"),XI=QI("%"),$I=QI("px"),eN=QI("vh"),tN=QI("vw"),nN=(0,s.A)((0,s.A)({},XI),{},{parse:e=>XI.parse(e)/100,transform:e=>XI.transform(100*e)}),rN={test:qI("hsl","hue"),parse:KI("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+XI.transform(WI(n))+", "+XI.transform(WI(r))+", "+WI(jI.transform(i))+")"}},iN={test:e=>JI.test(e)||YI.test(e)||rN.test(e),parse:e=>JI.test(e)?JI.parse(e):rN.test(e)?rN.parse(e):YI.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?JI.transform(e):rN.transform(e)},sN=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const oN="number",aN="color",cN=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function lN(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(cN,(e=>(iN.test(e)?(r.color.push(s),i.push(aN),n.push(iN.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(oN),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:i}}function uN(e){return lN(e).values}function dN(e){const{split:t,types:n}=lN(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===oN?WI(e[s]):t===aN?iN.transform(e[s]):e[s]}return i}}const hN=e=>"number"===typeof e?0:e;const fN={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(HI))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(sN))||void 0===n?void 0:n.length)||0)>0},parse:uN,createTransformer:dN,getAnimatableNone:function(e){const t=uN(e);return dN(e)(t.map(hN))}},pN=new Set(["brightness","contrast","saturate","opacity"]);function gN(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(HI)||[];if(!r)return e;const i=n.replace(r,"");let s=pN.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const mN=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,vN=(0,s.A)((0,s.A)({},fN),{},{getAnimatableNone:e=>{const t=e.match(mN);return t?t.map(gN).join(" "):e}}),yN={borderWidth:$I,borderTopWidth:$I,borderRightWidth:$I,borderBottomWidth:$I,borderLeftWidth:$I,borderRadius:$I,radius:$I,borderTopLeftRadius:$I,borderTopRightRadius:$I,borderBottomRightRadius:$I,borderBottomLeftRadius:$I,width:$I,maxWidth:$I,height:$I,maxHeight:$I,top:$I,right:$I,bottom:$I,left:$I,padding:$I,paddingTop:$I,paddingRight:$I,paddingBottom:$I,paddingLeft:$I,margin:$I,marginTop:$I,marginRight:$I,marginBottom:$I,marginLeft:$I,backgroundPositionX:$I,backgroundPositionY:$I},bN={rotate:ZI,rotateX:ZI,rotateY:ZI,rotateZ:ZI,scale:zI,scaleX:zI,scaleY:zI,scaleZ:zI,skew:ZI,skewX:ZI,skewY:ZI,distance:$I,translateX:$I,translateY:$I,translateZ:$I,x:$I,y:$I,z:$I,perspective:$I,transformPerspective:$I,opacity:jI,originX:nN,originY:nN,originZ:$I},wN=(0,s.A)((0,s.A)({},FI),{},{transform:Math.round}),AN=(0,s.A)((0,s.A)((0,s.A)({},yN),bN),{},{zIndex:wN,size:$I,fillOpacity:jI,strokeOpacity:jI,numOctaves:wN}),EN=(0,s.A)((0,s.A)({},AN),{},{color:iN,backgroundColor:iN,outlineColor:iN,fill:iN,stroke:iN,borderColor:iN,borderTopColor:iN,borderRightColor:iN,borderBottomColor:iN,borderLeftColor:iN,filter:vN,WebkitFilter:vN}),SN=e=>EN[e];function CN(e,t){let n=SN(e);return n!==vN&&(n=fN),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _N=new Set(["auto","none","0"]);const kN=e=>e===FI||e===$I,xN=(e,t)=>parseFloat(e.split(", ")[t]),IN=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(s)return xN(s[1],t);{const t=i.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?xN(t[1],e):0}},NN=new Set(["x","y","z"]),TN=Zx.filter((e=>!NN.has(e)));const PN={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:IN(4,13),y:IN(5,14)};PN.translateX=PN.x,PN.translateY=PN.y;const ON=new Set;let RN=!1,MN=!1;function DN(){if(MN){const e=Array.from(ON).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return TN.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}MN=!1,RN=!1,ON.forEach((e=>e.complete())),ON.clear()}function UN(){ON.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(MN=!0)}))}class LN{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ON.add(this),RN||(RN=!0,iI.read(UN),iI.resolveKeyframes(DN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ON.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ON.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let BN=Qx,FN=Qx;const jN=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),zN=e=>t=>"string"===typeof t&&t.startsWith(e),WN=zN("--"),HN=zN("var(--"),VN=e=>!!HN(e)&&qN.test(e.split("/*")[0].trim()),qN=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,KN=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function GN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;FN(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=KN.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return jN(e)?parseFloat(e):e}return VN(i)?GN(i,t,n+1):i}const JN=e=>t=>t.test(e),YN=[FI,$I,XI,ZI,tN,eN,{test:e=>"auto"===e,parse:e=>e}],QN=e=>YN.find(JN(e));class ZN extends LN{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),VN(n))){const r=GN(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!$x.has(n)||2!==e.length)return;const[r,i]=e,s=QN(r),o=QN(i);if(s!==o)if(kN(s)&&kN(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||LI(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!_N.has(t)&&lN(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=CN(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=PN[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=PN[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const XN=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!fN.test(e)&&"0"!==e||e.startsWith("url(")));const $N=e=>null!==e;function eT(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter($N),o=r&&"loop"!==i&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const tT=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class nT{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c="loop"}=e,l=(0,i.A)(e,tT);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=uI.now(),this.options=(0,s.A)({autoplay:t,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:c},l),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(UN(),DN()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=uI.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:a,onUpdate:c,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=XN(i,t),a=XN(s,t);return BN(o===a,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(s,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(s," via the `style` property.")),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Cx(n))&&r)}(e,n,r,i)){if(_I||!o)return c&&c(eT(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const u=this.initPlayback(e,t);!1!==u&&(this._resolved=(0,s.A)({keyframes:e,finalKeyframe:t},u),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const rT=(e,t,n)=>e+(t-e)*n;function iT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function sT(e,t){return n=>n>0?t:e}const oT=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},aT=[YI,JI,rN];function cT(e){const t=(n=e,aT.find((e=>e.test(n))));var n;if(BN(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let r=t.parse(e);return t===rN&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=iT(i,e,t+1/3),o=iT(i,e,t),a=iT(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(r)),r}const lT=(e,t)=>{const n=cT(e),r=cT(t);if(!n||!r)return sT(e,t);const i=(0,s.A)({},n);return e=>(i.red=oT(n.red,r.red,e),i.green=oT(n.green,r.green,e),i.blue=oT(n.blue,r.blue,e),i.alpha=rT(n.alpha,r.alpha,e),JI.transform(i))},uT=(e,t)=>n=>t(e(n)),dT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(uT)},hT=new Set(["none","hidden"]);function fT(e,t){return n=>rT(e,t,n)}function pT(e){return"number"===typeof e?fT:"string"===typeof e?VN(e)?sT:iN.test(e)?lT:vT:Array.isArray(e)?gT:"object"===typeof e?iN.test(e)?lT:mT:sT}function gT(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>pT(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function mT(e,t){const n=(0,s.A)((0,s.A)({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=pT(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const vT=(e,t)=>{const n=fN.createTransformer(t),r=lN(e),i=lN(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?hT.has(e)&&!i.values.length||hT.has(t)&&!r.values.length?function(e,t){return hT.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):dT(gT(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],c=null!==(n=e.values[a])&&void 0!==n?n:0;r[s]=c,i[o]++}return r}(r,i),i.values),n):(BN(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),sT(e,t))};function yT(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return rT(e,t,n);return pT(e)(e,t)}function bT(e,t,n){const r=Math.max(t-5,0);return pI(n-e(r),t-r)}const wT={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},AT=.001;function ET(e){let t,n,{duration:r=wT.duration,bounce:i=wT.bounce,velocity:s=wT.velocity,mass:o=wT.mass}=e;BN(r<=Jx(wT.maxDuration),"Spring duration must be 10 seconds or less");let a=1-i;a=BI(wT.minDamping,wT.maxDamping,a),r=BI(wT.minDuration,wT.maxDuration,Yx(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=CT(e,a),c=Math.exp(-n);return AT-i/o*c},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,c=Math.exp(-n),l=CT(Math.pow(e,2),a);return(-t(e)+AT>0?-1:1)*((i-o)*c)/l}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const c=function(e,t,n){let r=n;for(let i=1;i<ST;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Jx(r),isNaN(c))return{stiffness:wT.stiffness,damping:wT.damping,duration:r};{const e=Math.pow(c,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const ST=12;function CT(e,t){return e*Math.sqrt(1-t*t)}const _T=["duration","bounce"],kT=["stiffness","damping","mass"];function xT(e,t){return t.some((t=>void 0!==e[t]))}function IT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wT.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wT.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=function(e){let t=(0,s.A)({velocity:wT.velocity,stiffness:wT.stiffness,damping:wT.damping,mass:wT.mass,isResolvedFromDuration:!1},e);if(!xT(e,kT)&&xT(e,_T))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*BI(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=(0,s.A)((0,s.A)({},t),{},{mass:wT.mass,stiffness:i,damping:o})}else{const n=ET(e);t=(0,s.A)((0,s.A)((0,s.A)({},t),n),{},{mass:wT.mass}),t.isResolvedFromDuration=!0}return t}((0,s.A)((0,s.A)({},n),{},{velocity:-Yx(n.velocity||0)})),g=f||0,m=u/(2*Math.sqrt(l*d)),v=a-o,y=Yx(Math.sqrt(l/d)),b=Math.abs(v)<5;let w;if(r||(r=b?wT.restSpeed.granular:wT.restSpeed.default),i||(i=b?wT.restDelta.granular:wT.restDelta.default),m<1){const e=CT(y,m);w=t=>{const n=Math.exp(-m*y*t);return a-n*((g+m*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===m)w=e=>a-Math.exp(-y*e)*(v+(g+y*v)*e);else{const e=y*Math.sqrt(m*m-1);w=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((g+m*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const A={calculatedDuration:p&&h||null,next:e=>{const t=w(e);if(p)c.done=e>=h;else{let n=0;m<1&&(n=0===e?Jx(g):bT(w,e,t));const s=Math.abs(n)<=r,o=Math.abs(a-t)<=i;c.done=s&&o}return c.value=c.done?a:t,c},toString:()=>{const e=Math.min(Sx(A),Ex),t=Px((t=>A.next(e*t).value),e,30);return e+"ms "+t}};return A}function NT(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:l,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===c?l:void 0===l||Math.abs(c-e)<Math.abs(l-e)?c:l;let g=r*n;const m=h+g,v=void 0===a?m:a(m);v!==m&&(g=v-h);const y=e=>-g*Math.exp(-e/i),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let A,E;const S=e=>{var t;(t=f.value,void 0!==c&&t<c||void 0!==l&&t>l)&&(A=e,E=IT({keyframes:[f.value,p(f.value)],velocity:bT(b,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==A||(t=!0,w(e),S(e)),void 0!==A&&e>=A?E.next(e-A):(!t&&w(e),f)}}}const TT=xI(.42,0,1,1),PT=xI(0,0,.58,1),OT=xI(.42,0,.58,1),RT={linear:Qx,easeIn:TT,easeInOut:OT,easeOut:PT,circIn:MI,circInOut:UI,circOut:DI,backIn:PI,backInOut:OI,backOut:TI,anticipate:RI},MT=e=>{if(kx(e)){FN(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return xI(t,n,r,i)}return"string"===typeof e?(FN(void 0!==RT[e],"Invalid easing type '".concat(e,"'")),RT[e]):e};function DT(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(FN(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||yT,s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Qx:t;n=dT(e,n)}r.push(n)}return r}(t,r,i),c=a.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=Tx(e[r],e[r+1],n);return a[r](i)};return n?t=>l(BI(e[0],e[s-1],t)):l}function UT(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Tx(0,t,r);e.push(rT(n,1,i))}}(t,e.length-1),t}function LT(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(MT):MT(i),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:UT(n),t),c=DT(a,n,{ease:Array.isArray(s)?s:(l=n,u=s,l.map((()=>u||OT)).splice(0,l.length-1))});var l,u;return{calculatedDuration:t,next:e=>(o.value=c(e),o.done=e>=t,o)}}const BT=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>iI.update(t,!0),stop:()=>sI(t),now:()=>oI.isProcessing?oI.timestamp:uI.now()}},FT={decay:NT,inertia:NT,tween:LT,keyframes:LT,spring:IT},jT=e=>e/100;class zT extends nT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||LN;this.resolver=new s(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,a=Cx(t)?t:FT[t]||LT;let c,l;a!==LT&&"number"!==typeof e[0]&&(c=dT(jT,yT(e[0],e[1])),e=[0,100]);const u=a((0,s.A)((0,s.A)({},this.options),{},{keyframes:e}));"mirror"===i&&(l=a((0,s.A)((0,s.A)({},this.options),{},{keyframes:[...e].reverse(),velocity:-o}))),null===u.calculatedDuration&&(u.calculatedDuration=Sx(u));const{calculatedDuration:d}=u,h=d+r;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:c,totalDuration:l,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?m<0:m>l;this.currentTime=Math.max(m,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=l);let y=this.currentTime,b=i;if(h){const e=Math.min(this.currentTime,l)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),y=BI(0,1,n)*u}const w=v?{done:!1,value:a[0]}:b.next(y);o&&(w.value=o(w.value));let{done:A}=w;v||null===c||(A=this.speed>=0?this.currentTime>=l:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&A);return E&&void 0!==r&&(w.value=eT(a,this.options,r)),g&&g(w.value),E&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Yx(e.calculatedDuration):0}get time(){return Yx(this.currentTime)}set time(e){e=Jx(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Yx(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=BT,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const WT=new Set(["opacity","clipPath","filter","transform"]);const HT=vx((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),VT=["onComplete","onUpdate","motionValue","element"],qT=["motionValue","onUpdate","onComplete","element"];const KT={anticipate:RI,backInOut:OI,circInOut:UI};class GT extends nT{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new ZN(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:o,type:a,motionValue:c,name:l,startTime:u}=this.options;if(!c.owner||!c.owner.current)return!1;var d;if("string"===typeof o&&Nx()&&o in KT&&(o=KT[o]),Cx((d=this.options).type)||"spring"===d.type||!Ox(d.ease)){const t=this.options,{onComplete:c,onUpdate:l,motionValue:u,element:d}=t,h=(0,i.A)(t,VT),f=function(e,t){const n=new zT((0,s.A)((0,s.A)({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(e,h);1===(e=f.keyframes).length&&(e[1]=e[0]),n=f.duration,r=f.times,o=f.ease,a="keyframes"}const h=function(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const l={[t]:n};c&&(l.offset=c);const u=Dx(a,i);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(c.owner.current,l,e,(0,s.A)((0,s.A)({},this.options),{},{duration:n,times:r,ease:o}));return h.startTime=null!==u&&void 0!==u?u:this.calcStartTime(),this.pendingTimeline?(_x(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:n}=this.options;c.set(eT(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:n,times:r,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Yx(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Yx(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Jx(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Qx;const{animation:n}=t;_x(n,e)}else this.pendingTimeline=e;return Qx}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:o,ease:a,times:c}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:l,onComplete:u,element:d}=e,h=(0,i.A)(e,qT),f=new zT((0,s.A)((0,s.A)({},h),{},{keyframes:n,duration:r,type:o,ease:a,times:c,isGenerator:!0})),p=Jx(this.time);t.setWithVelocity(f.sample(p-10).value,f.sample(p).value,10)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:c}=t.owner.getProps();return HT()&&n&&WT.has(n)&&!a&&!c&&!r&&"mirror"!==i&&0!==s&&"inertia"!==o}}const JT={type:"spring",stiffness:500,damping:25,restSpeed:10},YT={type:"keyframes",duration:.8},QT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZT=(e,t)=>{let{keyframes:n}=t;return n.length>2?YT:Xx.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:JT:QT},XT=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const $T=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return c=>{const l=Ax(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d-=Jx(u);let h=(0,s.A)((0,s.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{c(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:o});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:c,repeatDelay:l,from:u,elapsed:d}=e,h=(0,i.A)(e,XT);return!!Object.keys(h).length})(l)||(h=(0,s.A)((0,s.A)({},h),ZT(e,h))),h.duration&&(h.duration=Jx(h.duration)),h.repeatDelay&&(h.repeatDelay=Jx(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let f=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(h.duration=0,0===h.delay&&(f=!0)),(_I||eI)&&(f=!0,h.duration=0,h.delay=0),f&&!a&&void 0!==t.get()){const e=eT(h.keyframes,l);if(void 0!==e)return iI.update((()=>{h.onUpdate(e),h.onComplete()})),new wx([])}return!a&&GT.supports(h)?new GT(h):new zT(h)}},eP=["transition","transitionEnd"];function tP(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function nP(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let{transition:c=e.getDefaultTransition(),transitionEnd:l}=t,u=(0,i.A)(t,eP);r&&(c=r);const d=[],h=o&&e.animationState&&e.animationState.getState()[o];for(const i in u){const t=e.getValue(i,null!==(a=e.latestValues[i])&&void 0!==a?a:null),r=u[i];if(void 0===r||h&&tP(h,i))continue;const o=(0,s.A)({delay:n},Ax(c||{},i));let l=!1;if(window.MotionHandoffAnimation){const t=CI(e);if(t){const e=window.MotionHandoffAnimation(t,i,iI);null!==e&&(o.startTime=e,l=!0)}}AI(e,i),t.start($T(i,t,r,e.shouldReduceMotion&&$x.has(i)?{type:!1}:o,e,l));const f=t.animation;f&&d.push(f)}return l&&Promise.all(d).then((()=>{iI.update((()=>{l&&function(e,t){let n=px(e,t)||{},{transitionEnd:r={},transition:o={}}=n,a=(0,i.A)(n,yI);a=(0,s.A)((0,s.A)({},a),r);for(const i in a)bI(e,i,(c=a[i],lx(c)?c[c.length-1]||0:c));var c}(e,l)}))})),d}function rP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=px(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(nP(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:c}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],c=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return c-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(iP).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(rP(e,t,(0,s.A)((0,s.A)({},o),{},{delay:n+l(r)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,i+r,a,c,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[a,c]:[c,a];return e().then((()=>t()))}return Promise.all([a(),c(n.delay)])}function iP(e,t){return e.sortNodePosition(t)}const sP=mx.length;function oP(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&oP(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<sP;n++){const r=mx[n],i=e.props[r];(dx(i)||!1===i)&&(t[r]=i)}return t}const aP=["transition","transitionEnd"],cP=[...gx].reverse(),lP=gx.length;function uP(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>rP(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=rP(e,t,r);else{const i="function"===typeof t?px(e,t,r.custom):t;n=Promise.all(nP(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function dP(e){let t=uP(e),n=pP(),r=!0;const o=t=>(n,r)=>{var o;const a=px(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,r=(0,i.A)(a,aP);n=(0,s.A)((0,s.A)((0,s.A)({},n),r),t)}return n};function a(i){const{props:a}=e,c=oP(e.parent)||{},l=[],u=new Set;let d={},h=1/0;for(let t=0;t<lP;t++){const f=cP[t],p=n[f],g=void 0!==a[f]?a[f]:c[f],m=dx(g),v=f===i?p.isActive:null;!1===v&&(h=t);let y=g===c[f]&&g!==a[f]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=(0,s.A)({},d),!p.isActive&&null===v||!g&&!p.prevProp||cx(g)||"boolean"===typeof g)continue;const b=hP(p.prevProp,g);let w=b||f===i&&p.isActive&&!y&&m||t>h&&m,A=!1;const E=Array.isArray(g)?g:[g];let S=E.reduce(o(f),{});!1===v&&(S={});const{prevResolvedValues:C={}}=p,_=(0,s.A)((0,s.A)({},C),S),k=t=>{w=!0,u.has(t)&&(A=!0,u.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in _){const t=S[e],n=C[e];if(d.hasOwnProperty(e))continue;let r=!1;r=lx(t)&&lx(n)?!ux(t,n):t!==n,r?void 0!==t&&null!==t?k(e):u.add(e):void 0!==t&&u.has(e)?k(e):p.protectedKeys[e]=!0}p.prevProp=g,p.prevResolvedValues=S,p.isActive&&(d=(0,s.A)((0,s.A)({},d),S)),r&&e.blockInitialAnimation&&(w=!1);w&&(!(y&&b)||A)&&l.push(...E.map((e=>({animation:e,options:{type:f}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let f=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=a(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=pP(),r=!0}}}function hP(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!ux(t,e)}function fP(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pP(){return{animate:fP(!0),whileInView:fP(),whileHover:fP(),whileTap:fP(),whileDrag:fP(),whileFocus:fP(),exit:fP()}}class gP{constructor(e){this.isMounted=!1,this.node=e}update(){}}let mP=0;const vP={animation:{Feature:class extends gP{constructor(e){super(e),e.animationState||(e.animationState=dP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends gP{constructor(){super(...arguments),this.id=mP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function yP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function bP(e){return{point:{x:e.pageX,y:e.pageY}}}function wP(e,t,n,r){return yP(e,t,(e=>t=>zx(t)&&e(t,bP(t)))(n),r)}const AP=(e,t)=>Math.abs(e-t);class EP{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=_P(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=AP(e.x,t.x),r=AP(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=oI;this.history.push((0,s.A)((0,s.A)({},r),{},{timestamp:i}));const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=SP(t,this.transformPagePoint),iI.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=_P("pointercancel"===e.type?this.lastMoveEventInfo:SP(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!zx(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=SP(bP(e),this.transformPagePoint),{point:a}=o,{timestamp:c}=oI;this.history=[(0,s.A)((0,s.A)({},a),{},{timestamp:c})];const{onSessionStart:l}=t;l&&l(e,_P(o,this.history)),this.removeListeners=dT(wP(this.contextWindow,"pointermove",this.handlePointerMove),wP(this.contextWindow,"pointerup",this.handlePointerUp),wP(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sI(this.updatePoint)}}function SP(e,t){return t?{point:t(e.point)}:e}function CP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _P(e,t){let{point:n}=e;return{point:n,delta:CP(n,xP(t)),offset:CP(n,kP(t)),velocity:IP(t,.1)}}function kP(e){return e[0]}function xP(e){return e[e.length-1]}function IP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=xP(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Jx(t)));)n--;if(!r)return{x:0,y:0};const s=Yx(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function NP(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function TP(e){return e.max-e.min}function PP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=rT(t.min,t.max,e.origin),e.scale=TP(n)/TP(t),e.translate=rT(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function OP(e,t,n,r){PP(e.x,t.x,n.x,r?r.originX:void 0),PP(e.y,t.y,n.y,r?r.originY:void 0)}function RP(e,t,n){e.min=n.min+t.min,e.max=e.min+TP(t)}function MP(e,t,n){e.min=t.min-n.min,e.max=e.min+TP(t)}function DP(e,t,n){MP(e.x,t.x,n.x),MP(e.y,t.y,n.y)}function UP(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function LP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const BP=.35;function FP(e,t,n){return{min:jP(e,t),max:jP(e,n)}}function jP(e,t){return"number"===typeof e?e:e[t]||0}const zP=()=>({x:{min:0,max:0},y:{min:0,max:0}});function WP(e){return[e("x"),e("y")]}function HP(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function VP(e){return void 0===e||1===e}function qP(e){let{scale:t,scaleX:n,scaleY:r}=e;return!VP(t)||!VP(n)||!VP(r)}function KP(e){return qP(e)||GP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function GP(e){return JP(e.x)||JP(e.y)}function JP(e){return e&&"0%"!==e}function YP(e,t,n){return n+t*(e-n)}function QP(e,t,n,r,i){return void 0!==i&&(e=YP(e,i,r)),YP(e,n,r)+t}function ZP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=QP(e.min,t,n,r,i),e.max=QP(e.max,t,n,r,i)}function XP(e,t){let{x:n,y:r}=t;ZP(e.x,n.translate,n.scale,n.originPoint),ZP(e.y,r.translate,r.scale,r.originPoint)}const $P=.999999999999,eO=1.0000000000001;function tO(e,t){e.min=e.min+t,e.max=e.max+t}function nO(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;ZP(e,t,n,rT(e.min,e.max,i),r)}function rO(e,t){nO(e.x,t.x,t.scaleX,t.scale,t.originX),nO(e.y,t.y,t.scaleY,t.scale,t.originY)}function iO(e,t){return HP(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const sO=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},oO=new WeakMap;class aO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new EP(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(bP(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?Ux[s]?null:(Ux[s]=!0,()=>{Ux[s]=!1}):Ux.x||Ux.y?null:(Ux.x=Ux.y=!0,()=>{Ux.x=Ux.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),WP((e=>{let t=this.getAxisMotionValue(e).get()||0;if(XI.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=TP(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&iI.postRender((()=>i(e,t))),AI(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>WP((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:sO(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&iI.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!cO(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?rT(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?rT(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&NP(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:UP(e.x,r,s),y:UP(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BP;return!1===e?e=0:!0===e&&(e=BP),{x:FP(e,"left","right"),y:FP(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&WP((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!NP(e))return!1;const n=e.current;FN(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=iO(e,n),{scroll:i}=t;return i&&(tO(r.x,i.offset.x),tO(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:LP(e.x,t.x),y:LP(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=HP(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=WP((a=>{if(!cO(a,t,this.currentDirection))return;let l=c&&c[a]||{};o&&(l={min:0,max:0});const u=r?200:1e6,d=r?40:1e7,h=(0,s.A)((0,s.A)({type:"inertia",velocity:n?e[a]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,h)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return AI(this.visualElement,e),n.start($T(e,n,0,t,this.visualElement,!1))}stopAnimation(){WP((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){WP((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){WP((t=>{const{drag:n}=this.getProps();if(!cO(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-rT(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!NP(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};WP((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=TP(e),i=TP(t);return i>r?n=Tx(t.min,t.max-r,e.min):r>i&&(n=Tx(e.min,e.max-i,t.min)),BI(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),WP((t=>{if(!cO(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(rT(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;oO.set(this.visualElement,this);const e=wP(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();NP(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),iI.read(t);const i=yP(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(WP((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=BP,dragMomentum:a=!0}=e;return(0,s.A)((0,s.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a})}}function cO(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const lO=e=>(t,n)=>{e&&iI.postRender((()=>e(t,n)))};const uO=(0,t.createContext)({}),dO={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fO={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!$I.test(e))return e;e=parseFloat(e)}const n=hO(e,t.target.x),r=hO(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},pO={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=fN.parse(e);if(s.length>5)return i;const o=fN.createTransformer(e),a="number"!==typeof s[0]?1:0,c=r.x.scale*n.x,l=r.y.scale*n.y;s[0+a]/=c,s[1+a]/=l;const u=rT(c,l,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}},gO={};const{schedule:mO,cancel:vO}=rI(queueMicrotask,!1);class yO extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=wO,Object.assign(gO,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions((0,s.A)((0,s.A)({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),dO.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||iI.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mO.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bO(e){const[n,r]=tx(),i=(0,t.useContext)(Gk);return(0,Zo.jsx)(yO,(0,s.A)((0,s.A)({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(uO),isPresent:n,safeToRemove:r}))}const wO={borderRadius:(0,s.A)((0,s.A)({},fO),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:fO,borderTopRightRadius:fO,borderBottomLeftRadius:fO,borderBottomRightRadius:fO,boxShadow:pO};const AO=(e,t)=>e.depth-t.depth;class EO{constructor(){this.children=[],this.isDirty=!1}add(e){dI(this.children,e),this.isDirty=!0}remove(e){hI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(AO),this.isDirty=!1,this.children.forEach(e)}}function SO(e,t){const n=uI.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(sI(r),e(o-t))};return iI.read(r,!0),()=>sI(r)}function CO(e){const t=wI(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const _O=["TopLeft","TopRight","BottomLeft","BottomRight"],kO=_O.length,xO=e=>"string"===typeof e?parseFloat(e):e,IO=e=>"number"===typeof e||$I.test(e);function NO(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const TO=OO(0,.5,DI),PO=OO(.5,.95,Qx);function OO(e,t,n){return r=>r<e?0:r>t?1:n(Tx(e,t,r))}function RO(e,t){e.min=t.min,e.max=t.max}function MO(e,t){RO(e.x,t.x),RO(e.y,t.y)}function DO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function UO(e,t,n,r,i){return e=YP(e-=t,1/n,r),void 0!==i&&(e=YP(e,1/i,r)),e}function LO(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;XI.test(t)&&(t=parseFloat(t),t=rT(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=rT(s.min,s.max,r);e===s&&(a-=t),e.min=UO(e.min,t,n,a,i),e.max=UO(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const BO=["x","scaleX","originX"],FO=["y","scaleY","originY"];function jO(e,t,n,r){LO(e.x,t,BO,n?n.x:void 0,r?r.x:void 0),LO(e.y,t,FO,n?n.y:void 0,r?r.y:void 0)}function zO(e){return 0===e.translate&&1===e.scale}function WO(e){return zO(e.x)&&zO(e.y)}function HO(e,t){return e.min===t.min&&e.max===t.max}function VO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qO(e,t){return VO(e.x,t.x)&&VO(e.y,t.y)}function KO(e){return TP(e.x)/TP(e.y)}function GO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class JO{constructor(){this.members=[]}add(e){dI(this.members,e),e.scheduleRender()}remove(e){if(hI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const YO={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},QO="undefined"!==typeof window&&void 0!==window.MotionDebug,ZO=["","X","Y","Z"],XO={visibility:"hidden"};let $O=0;function eR(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function tR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=CI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",iI,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&tR(r)}function nR(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=$O++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,QO&&(YO.totalNodes=YO.resolvedTargetDeltas=YO.recalculatedProjection=0),this.nodes.forEach(sR),this.nodes.forEach(hR),this.nodes.forEach(fR),this.nodes.forEach(oR),QO&&window.MotionDebug.record(YO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new EO)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new fI),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=SO(r,250),dO.hasAnimatedSinceResize&&(dO.hasAnimatedSinceResize=!1,this.nodes.forEach(dR))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||bR,{onLayoutAnimationStart:c,onLayoutAnimationComplete:l}=a.getProps(),u=!this.targetLayout||!qO(this.targetLayout,i)||r,d=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e=(0,s.A)((0,s.A)({},Ax(o,"layout")),{},{onPlay:c,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||dR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sI(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pR),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(cR);this.isUpdating||this.nodes.forEach(lR),this.isUpdating=!1,this.nodes.forEach(uR),this.nodes.forEach(rR),this.nodes.forEach(iR),this.clearAllSnapshots();const e=uI.now();oI.delta=BI(0,1e3/60,e-oI.timestamp),oI.timestamp=e,oI.isProcessing=!0,aI.update.process(oI),aI.preRender.process(oI),aI.render.process(oI),oI.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aR),this.sharedNodes.forEach(gR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,iI.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){iI.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!WO(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||KP(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),ER((r=n).x),ER(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(CR))){const{scroll:e}=this.root;e&&(tO(n.x,e.offset.x),tO(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(MO(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&MO(n,e),tO(n.x,i.offset.x),tO(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};MO(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&rO(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),KP(e.latestValues)&&rO(n,e.latestValues)}return KP(this.latestValues)&&rO(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};MO(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!KP(e.latestValues))continue;qP(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};MO(r,e.measurePageBox()),jO(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return KP(this.latestValues)&&jO(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,s.A)((0,s.A)((0,s.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oI.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=oI.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},DP(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),MO(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),function(e,t,n){RP(e.x,t.x,n.x),RP(e.y,t.y,n.y)}(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):MO(this.target,this.layout.layoutBox),XP(this.target,this.targetDelta)):MO(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},DP(this.relativeTargetOrigin,this.target,e.target),MO(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}QO&&YO.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!qP(this.parent.latestValues)&&!GP(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===oI.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;MO(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&rO(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,XP(e,o)),r&&KP(s.latestValues)&&rO(e,s.latestValues))}t.x<eO&&t.x>$P&&(t.x=1),t.y<eO&&t.y>$P&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:c}=t;c?(this.projectionDelta&&this.prevProjectionDelta?(DO(this.prevProjectionDelta.x,this.projectionDelta.x),DO(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),OP(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&GO(this.projectionDelta.x,this.prevProjectionDelta.x)&&GO(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),QO&&YO.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=(0,s.A)({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},c=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,d=Boolean(c&&!u&&!0===this.options.crossfade&&!this.path.some(yR));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var s,l;mR(o.x,e.x,n),mR(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(DP(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){vR(e.x,t.x,n.x,r),vR(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),h&&(s=this.relativeTarget,l=h,HO(s.x,l.x)&&HO(s.y,l.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),MO(h,this.relativeTarget)),c&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=rT(0,void 0!==n.opacity?n.opacity:1,TO(r)),e.opacityExit=rT(void 0!==t.opacity?t.opacity:1,0,PO(r))):s&&(e.opacity=rT(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<kO;o++){const i="border".concat(_O[o],"Radius");let s=NO(t,i),a=NO(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||IO(s)===IO(a)?(e[i]=Math.max(rT(xO(s),xO(a),r),0),(XI.test(a)||XI.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=rT(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sI(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=iI.update((()=>{dO.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=wI(e)?e:vI(e);return r.start($T("",r,t,n)),r.animation}(0,1e3,(0,s.A)((0,s.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&SR(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=TP(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=TP(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}MO(t,n),rO(t,i),OP(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new JO);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&eR("z",e,r,this.animationValues);for(let i=0;i<ZO.length;i++)eR("rotate".concat(ZO[i]),e,r,this.animationValues),eR("skew".concat(ZO[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XO;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=CO(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=CO(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!KP(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||s||o)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,c=e.y.scale*t.y;return 1===a&&1===c||(r+="scale(".concat(a,", ").concat(c,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:c}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*c.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const l in gO){if(void 0===o[l])continue;const{correct:e,applyTo:t}=gO[l],n="none"===r.transform?o[l]:e(o[l],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[l]=n}return this.options.layoutId&&(r.pointerEvents=s===this?CO(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(cR),this.root.sharedNodes.clear()}}}function rR(e){e.updateLayout()}function iR(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?WP((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=TP(r);r.min=t[e].min,r.max=r.min+i})):SR(i,n.layoutBox,t)&&WP((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=TP(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};OP(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?OP(a,e.applyTransform(r,!0),n.measuredBox):OP(a,t,n.layoutBox);const c=!WO(o);let l=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};DP(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};DP(a,t,s.layoutBox),qO(o,a)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:l})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function sR(e){QO&&YO.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aR(e){e.clearSnapshot()}function cR(e){e.clearMeasurements()}function lR(e){e.isLayoutDirty=!1}function uR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hR(e){e.resolveTargetDelta()}function fR(e){e.calcProjection()}function pR(e){e.resetSkewAndRotation()}function gR(e){e.removeLeadSnapshot()}function mR(e,t,n){e.translate=rT(t.translate,0,n),e.scale=rT(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function vR(e,t,n,r){e.min=rT(t.min,n.min,r),e.max=rT(t.max,n.max,r)}function yR(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const bR={duration:.45,ease:[.4,0,.1,1]},wR=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),AR=wR("applewebkit/")&&!wR("chrome/")?Math.round:Qx;function ER(e){e.min=AR(e.min),e.max=AR(e.max)}function SR(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=KO(t),i=KO(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function CR(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const _R=nR({attachResizeListener:(e,t)=>yP(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kR={current:void 0},xR=nR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kR.current){const e=new _R({});e.mount(window),e.setOptions({layoutScroll:!0}),kR.current=e}return kR.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),IR={pan:{Feature:class extends gP{constructor(){super(...arguments),this.removePointerDownListener=Qx}onPointerDown(e){this.session=new EP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:lO(e),onStart:lO(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&iI.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=wP(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends gP{constructor(e){super(e),this.removeGroupControls=Qx,this.removeListeners=Qx,this.controls=new aO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qx}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:xR,MeasureLayout:bO}};function NR(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&iI.postRender((()=>i(t,bP(t))))}function TR(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&iI.postRender((()=>i(t,bP(t))))}const PR=["root"],OR=new WeakMap,RR=new WeakMap,MR=e=>{const t=OR.get(e.target);t&&t(e)},DR=e=>{e.forEach(MR)};function UR(e,t,n){const r=function(e){let{root:t}=e,n=(0,i.A)(e,PR);const r=t||document;RR.has(r)||RR.set(r,{});const o=RR.get(r),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(DR,(0,s.A)({root:t},n))),o[a]}(t);return OR.set(e,n),r.observe(e),()=>{OR.delete(e),r.unobserve(e)}}const LR={some:0,all:1};const BR={inView:{Feature:class extends gP{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:LR[r]};return UR(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends gP{mount(){const{current:e}=this.node;e&&(this.unmount=Gx(e,(e=>(TR(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return TR(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends gP{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(uD){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dT(yP(this.node.current,"focus",(()=>this.onFocus())),yP(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends gP{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=Bx(e,n),o=Fx((e=>{const{target:n}=e,r=t(e);if("function"!==typeof r||!n)return;const s=Fx((e=>{r(e),n.removeEventListener("pointerleave",s)}));n.addEventListener("pointerleave",s,i)}));return r.forEach((e=>{e.addEventListener("pointerenter",o,i)})),s}(e,(e=>(NR(this.node,e,"Start"),e=>NR(this.node,e,"End")))))}unmount(){}}}},FR={layout:{ProjectionNode:xR,MeasureLayout:bO}},jR=(0,t.createContext)({strict:!1}),zR=(0,t.createContext)({});function WR(e){return cx(e.animate)||mx.some((t=>dx(e[t])))}function HR(e){return Boolean(WR(e)||e.variants)}function VR(e){const{initial:n,animate:r}=function(e,t){if(WR(e)){const{initial:t,animate:n}=e;return{initial:!1===t||dx(t)?t:void 0,animate:dx(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(zR));return(0,t.useMemo)((()=>({initial:n,animate:r})),[qR(n),qR(r)])}function qR(e){return Array.isArray(e)?e.join(" "):e}const KR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},GR={};for(const n in KR)GR[n]={isEnabled:e=>KR[n].some((t=>!!e[t]))};const JR=Symbol.for("motionComponentSymbol");function YR(e,n,r){return(0,t.useCallback)((t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):NP(r)&&(r.current=t))}),[n])}function QR(e,n,r,i,s){var o,a;const{visualElement:c}=(0,t.useContext)(zR),l=(0,t.useContext)(jR),u=(0,t.useContext)(Yk),d=(0,t.useContext)(Qk).reducedMotion,h=(0,t.useRef)(null);i=i||l.renderer,!h.current&&i&&(h.current=i(e,{visualState:n,parent:c,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const f=h.current,p=(0,t.useContext)(uO);!f||f.projection||!s||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ZR(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(o)||a&&NP(a),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:l})}(h.current,r,s,p);const g=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{f&&g.current&&f.update(r,u)}));const m=r[SI],v=(0,t.useRef)(Boolean(m)&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,m))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,m)));return sx((()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),mO.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())})),(0,t.useEffect)((()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)})),v.current=!1))})),f}function ZR(e){if(e)return!1!==e.options.allowProjection?e.projection:ZR(e.parent)}function XR(e){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:o,Component:a}=e;var c,l;function u(e,n){let c;const l=(0,s.A)((0,s.A)((0,s.A)({},(0,t.useContext)(Qk)),e),{},{layoutId:$R(e)}),{isStatic:u}=l,d=VR(e),h=o(e,u);if(!u&&ix){!function(){(0,t.useContext)(jR).strict;0}();const e=function(e){const{drag:t,layout:n}=GR;if(!t&&!n)return{};const r=(0,s.A)((0,s.A)({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);c=e.MeasureLayout,d.visualElement=QR(a,h,l,r,e.ProjectionNode)}return(0,Zo.jsxs)(zR.Provider,{value:d,children:[c&&d.visualElement?(0,Zo.jsx)(c,(0,s.A)({visualElement:d.visualElement},l)):null,i(a,e,YR(h,d.visualElement,n),h,u,d.visualElement)]})}n&&function(e){for(const t in e)GR[t]=(0,s.A)((0,s.A)({},GR[t]),e[t])}(n),u.displayName="motion.".concat("string"===typeof a?a:"create(".concat(null!==(l=null!==(c=a.displayName)&&void 0!==c?c:a.name)&&void 0!==l?l:"",")"));const d=(0,t.forwardRef)(u);return d[JR]=a,d}function $R(e){let{layoutId:n}=e;const r=(0,t.useContext)(Gk).id;return r&&void 0!==n?r+"-"+n:n}const eM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tM(e){return"string"===typeof e&&!e.includes("-")&&!!(eM.indexOf(e)>-1||/[A-Z]/.test(e))}const nM=["transitionEnd","transition"];const rM=e=>(n,r)=>{const i=(0,t.useContext)(zR),o=(0,t.useContext)(Yk),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onUpdate:a}=e;const c={latestValues:iM(t,n,r,i),renderState:o()};return a&&(c.onMount=e=>a((0,s.A)({props:t,current:e},c)),c.onUpdate=e=>a(e)),c}(e,n,i,o);return r?a():Jk(a)};function iM(e,t,n,r){const s={},o=r(e,{});for(const i in o)s[i]=CO(o[i]);let{initial:a,animate:c}=e;const l=WR(e),u=HR(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===c&&(c=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const h=d?c:a;if(h&&"boolean"!==typeof h&&!cx(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=fx(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=(0,i.A)(r,nM);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}const sM=(e,t)=>t&&"number"===typeof e?t.transform(e):e,oM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aM=Zx.length;function cM(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const c in t){const e=t[c];if(Xx.has(c))o=!0;else if(WN(c))i[c]=e;else{const t=sM(e,AN[c]);c.startsWith("origin")?(a=!0,s[c]=t):r[c]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<aM;s++){const o=Zx[s],a=e[o];if(void 0===a)continue;let c=!0;if(c="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!c||n){const e=sM(a,AN[o]);c||(i=!1,r+="".concat(oM[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const lM={offset:"stroke-dashoffset",array:"stroke-dasharray"},uM={offset:"strokeDashoffset",array:"strokeDasharray"};function dM(e,t,n){return"string"===typeof e?e:$I.transform(t+n*e)}const hM=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function fM(e,t,n,r){let{attrX:s,attrY:o,attrScale:a,originX:c,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(cM(e,(0,i.A)(t,hM),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:g}=e;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(void 0!==c||void 0!==l||p.transform)&&(p.transformOrigin=function(e,t,n){const r=dM(t,e.x,e.width),i=dM(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==c?c:.5,void 0!==l?l:.5)),void 0!==s&&(f.x=s),void 0!==o&&(f.y=o),void 0!==a&&(f.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?lM:uM;e[s.offset]=$I.transform(-r);const o=$I.transform(t),a=$I.transform(n);e[s.array]="".concat(o," ").concat(a)}(f,u,d,h,!1)}const pM=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),gM=()=>(0,s.A)((0,s.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),mM=e=>"string"===typeof e&&"svg"===e.toLowerCase();function vM(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const yM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bM(e,t,n,r){vM(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(yM.has(i)?i:EI(i),t.attrs[i])}function wM(e,t){let{layout:n,layoutId:r}=t;return Xx.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!gO[e]||"opacity"===e)}function AM(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(wI(i[o])||t.style&&wI(t.style[o])||wM(o,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(o))||void 0===r?void 0:r.liveStyle))&&(s[o]=i[o]);return s}function EM(e,t,n){const r=AM(e,t,n);for(const i in e)if(wI(e[i])||wI(t[i])){r[-1!==Zx.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const SM=["x","y","width","height","cx","cy","r"],CM={useVisualState:rM({scrapeMotionValuesFromProps:EM,createRenderState:gM,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:s}=e;if(!r)return;let o=!!t.drag;if(!o)for(const c in s)if(Xx.has(c)){o=!0;break}if(!o)return;let a=!n;if(n)for(let c=0;c<SM.length;c++){const e=SM[c];t[e]!==n[e]&&(a=!0)}a&&iI.read((()=>{!function(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(uD){t.dimensions={x:0,y:0,width:0,height:0}}}(r,i),iI.render((()=>{fM(i,s,mM(r.tagName),t.transformTemplate),bM(r,i)}))}))}})},_M={useVisualState:rM({scrapeMotionValuesFromProps:AM,createRenderState:pM})};function kM(e,t,n){for(const r in t)wI(t[r])||wM(r,n)||(e[r]=t[r])}function xM(e,n){const r={};return kM(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return cM(e,n,r),Object.assign({},e.vars,e.style)}),[n])}(e,n)),r}function IM(e,t){const n={},r=xM(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const NM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function TM(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NM.has(e)}let PM=e=>!TM(e);try{(OM=require("@emotion/is-prop-valid").default)&&(PM=e=>e.startsWith("on")?!TM(e):OM(e))}catch(dD){}var OM;function RM(e,n,r,i){const o=(0,t.useMemo)((()=>{const t=gM();return fM(t,n,mM(i),e.transformTemplate),(0,s.A)((0,s.A)({},t.attrs),{},{style:(0,s.A)({},t.style)})}),[n]);if(e.style){const t={};kM(t,e.style,e),o.style=(0,s.A)((0,s.A)({},t),o.style)}return o}function MM(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,o,a)=>{let{latestValues:c}=o;const l=(tM(n)?RM:IM)(r,c,a,n),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(PM(i)||!0===n&&TM(i)||!t&&!TM(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),d=n!==t.Fragment?(0,s.A)((0,s.A)((0,s.A)({},u),l),{},{ref:i}):{},{children:h}=r,f=(0,t.useMemo)((()=>wI(h)?h.get():h),[h]);return(0,t.createElement)(n,(0,s.A)((0,s.A)({},d),{},{children:f}))}}function DM(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};const i=tM(n)?CM:_M;return XR((0,s.A)((0,s.A)({},i),{},{preloadedFeatures:e,useRender:MM(r),createVisualElement:t,Component:n}))}}const UM={current:null},LM={current:!1};const BM=[...YN,iN,fN],FM=new WeakMap;const jM=["willChange"],zM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WM{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:c}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=uI.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,iI.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:h}=c;this.onUpdate=h,this.latestValues=u,this.baseTarget=(0,s.A)({},u),this.initialValues=n.initial?(0,s.A)({},u):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=WR(n),this.isVariantNode=HR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const f=this.scrapeMotionValuesFromProps(n,{},this),{willChange:p}=f,g=(0,i.A)(f,jM);for(const i in g){const e=g[i];void 0!==u[i]&&wI(e)&&e.set(u[i],!1)}}mount(e){this.current=e,FM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),LM.current||function(){if(LM.current=!0,ix)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>UM.current=e.matches;e.addListener(t),t()}else UM.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||UM.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){FM.delete(this.current),this.projection&&this.projection.unmount(),sI(this.notifyUpdate),sI(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Xx.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&iI.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in GR){const t=GR[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<zM.length;n++){const t=zM[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(wI(i))e.addValue(r,i);else if(wI(s))e.addValue(r,vI(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,vI(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=vI(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(jN(r)||LI(r))?r=parseFloat(r):(i=r,!BM.find(JN(i))&&fN.test(t)&&(r=CN(e,t))),this.setBaseTarget(e,wI(r)?r.get():r)),wI(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=fx(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||wI(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new fI),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class HM extends WM{constructor(){super(...arguments),this.KeyframeResolver=ZN}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wI(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}class VM extends HM{constructor(){super(...arguments),this.type="html",this.renderInstance=vM}readValueFromInstance(e,t){if(Xx.has(t)){const e=SN(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(WN(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return iO(e,n)}build(e,t,n){cM(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return AM(e,t,n)}}class qM extends HM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zP}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Xx.has(t)){const e=SN(t);return e&&e.default||0}return t=yM.has(t)?t:EI(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return EM(e,t,n)}build(e,t,n){fM(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){bM(e,t,0,r)}mount(e){this.isSVGTag=mM(e.tagName),super.mount(e)}}const KM=(e,n)=>tM(e)?new qM(n):new VM(n,{allowProjection:e!==t.Fragment}),GM=ax(DM((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},vP),BR),IR),FR),KM)),JM=e=>{let{message:t}=e;return(0,Zo.jsxs)(GM.div,{className:"loading-container",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[(0,Zo.jsx)("div",{className:"loading-spinner",children:(0,Zo.jsx)(GM.div,{className:"spinner-ring",animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"}})}),(0,Zo.jsx)(GM.p,{className:"loading-text",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:t})]})},YM=e=>{let{message:t}=e;return(0,Zo.jsxs)(GM.div,{className:"success-container",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[(0,Zo.jsxs)(GM.div,{className:"success-icon",initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:1},transition:{duration:.6,times:[0,.6,1]},children:[(0,Zo.jsx)("div",{className:"success-circle"}),(0,Zo.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"checkmark",children:(0,Zo.jsx)(GM.path,{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,delay:.2}})})]}),(0,Zo.jsx)(GM.p,{className:"success-text",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:t})]})},QM=e=>{let{status:t="idle",message:n,className:r}=e;return(0,Zo.jsx)("div",{className:"verification-animation ".concat(r||""),children:(0,Zo.jsxs)(ox,{mode:"wait",children:["loading"===t&&(0,Zo.jsx)(JM,{message:n||"Verifying..."},"loading"),"success"===t&&(0,Zo.jsx)(YM,{message:n||"Verification successful!"},"success")]})})};function ZM(e,t){const n=function(e){return"string"===typeof e&&(e=Ul(e)),il(_a([Ul("\x19Ethereum Signed Message:\n"),Ul(String(e.length)),e]))}(e);return Em(n,t)}const XM=e=>{let{walletAddress:n}=e;const[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[a,c]=(0,t.useState)(""),l=(0,t.useRef)(""),[u,d]=(0,t.useState)("input"),[h,f]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[m,v]=(0,t.useState)(""),[y,b]=(0,t.useState)(""),[w,A]=(0,t.useState)(!1),[E,S]=(0,t.useState)(n||""),[C,_]=(0,t.useState)(""),[k,x]=(0,t.useState)(!1),[I,N]=(0,t.useState)(!1),[T,P]=(0,t.useState)(!1),O=fe();(0,t.useEffect)((()=>{n&&S(n)}),[n]),(0,t.useEffect)((()=>{(()=>{const e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!navigator.platform.includes("Mac")&&!navigator.platform.includes("Win");P(e)})()}),[]);const R=new Rb(wt.ETH_RPC_PROVIDER);(0,t.useEffect)((()=>{}),[u]),(0,t.useEffect)((()=>{l.current=a,console.log("ensAddress updated in state:",a),console.log("ensAddress updated in ref:",l.current)}),[a]),(0,t.useEffect)((()=>{const e=async e=>{try{var t,n,r,i;console.log("Raw native response:",e);let o=e.detail;if("string"===typeof e.detail)try{v(e.detail),o=JSON.parse(e.detail)}catch(uD){console.log("Response is not JSON, using as is")}if((null===(t=o)||void 0===t?void 0:t.action)===At.VERIFIED_ENS&&null!==(n=o)&&void 0!==n&&n.body){const{arnaconSign:e,walletSign:t}=o.body;if(console.log("Received iOS signatures:",{arnaconSign:e,walletSign:t}),e&&t){v(e),g(t),console.log("Verifying signature matches ENS owner address");try{let e=L(y,t);console.log("Recovered address:",e);const n=l.current;if(console.log("ENS resolved address (from ref):",n),!n)return console.error("ENS address is empty, cannot verify signature"),f("ENS address is missing. Please try again from the beginning."),d("input"),void x(!1);e.toLowerCase()===n.toLowerCase()?(console.log("Signature verification successful - addresses match"),d("complete")):(console.log("Signature verification failed - addresses don't match"),f("The signing wallet (".concat(e,") does not match the ENS owner (").concat(n,"). Please try again with the correct wallet.")),d("input")),x(!1)}catch(s){console.error("Error verifying signature:",s),f("Failed to verify signature. Please try again."),d("input"),x(!1)}}}else if((null===(r=o)||void 0===r?void 0:r.action)===At.DATA_RETRIEVED&&null!==(i=o)&&void 0!==i&&i.body){console.log("Processing Android data-retrieved response:",o);const{xsign:e}=o.body,t=e;console.log("Received Android signature from data-retrieved:",t),t?(v(t),console.log("Android signature applied successfully"),x(!1),p?(console.log("Both signatures available, proceeding to complete step"),d("complete")):console.log("Wallet signature missing, but Android signature received")):(console.log("No signature found in Android data-retrieved response:",o),f("No signature received from Android app. Please try again."),d("input"),x(!1))}}catch(o){console.log("Error handling native response:",o.message),f("Failed to process verification. Please try again."),d("input"),x(!1)}};return document.addEventListener("onDataReceived",e),()=>document.removeEventListener("onDataReceived",e)}),[y,p]);const M=e=>e.trim().toLowerCase(),D=async e=>{try{A(!0),f(""),console.log("Fetching message from smart contract for address:",e);const t=await Fb(e);b(t),console.log("Message fetched successfully:",t)}catch(t){console.error("Error fetching message from contract:",t),f("Failed to fetch verification message: ".concat(t.message)),b(_t.ENS_SIGNATURE)}finally{A(!1)}},U=async e=>{"complete"!==u&&"signing"!==u&&"done"!==u&&(console.log("Wallet connected with address:",e),_(e),await D(e))},L=(e,t)=>{try{return ZM(e,t)}catch(h){throw console.error("Error recovering address from signature:",h),new Error("Failed to verify signature")}},B=e=>{I||(N(!0),O(e))};function F(e,t){j({action:At.NEW_ITEM,body:{item:e,customer_id:t}})}function j(e){console.log("Attempting to send data to native:",e),window.ReactNativeWebView?(console.log("Using ReactNativeWebView bridge"),window.ReactNativeWebView.postMessage(JSON.stringify(e))):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeHandler?(console.log("Using WKWebView message handler"),window.webkit.messageHandlers.nativeHandler.postMessage(JSON.stringify(e))):window.AndroidBridge&&window.AndroidBridge.processAction?(console.log("Using Android bridge"),window.AndroidBridge.processAction(JSON.stringify(e))):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.buttonPressed?(console.log("Using buttonPressed message handler"),window.webkit.messageHandlers.buttonPressed.postMessage(JSON.stringify(e))):(console.error("No native interface available. Available interfaces:",{ReactNativeWebView:!!window.ReactNativeWebView,webkit:!!window.webkit,messageHandlers:window.webkit&&!!window.webkit.messageHandlers,nativeHandler:window.webkit&&window.webkit.messageHandlers&&!!window.webkit.messageHandlers.nativeHandler,AndroidBridge:!!window.AndroidBridge}),f("Unable to communicate with the app. Please try again."))}const z=e=>{const t={action:At.SIGN_DATA_TEMP,body:{dataToSign:e}};console.log("Requesting native signature for:",e),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.buttonPressed?window.webkit.messageHandlers.buttonPressed.postMessage(JSON.stringify(t)):window.AndroidBridge&&window.AndroidBridge.processAction?window.AndroidBridge.processAction(JSON.stringify(t)):(console.log("Native interface not available, simulating response for testing"),setTimeout((()=>{const e=new CustomEvent("onDataReceived",{detail:"mock-native-signature-"+Math.random().toString(36).substring(2,10)});document.dispatchEvent(e)}),1500))},W=async(e,t)=>{try{console.log("Submitting to cloud function with signatures:",{message:y,signWallet:e,signArnacon:t});const n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));T||F(s,n),await fetch(wt.UPDATE_MAPPING,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item:s,customer_id:n,message:y,signWallet:e,signArnacon:t,arnaconAddress:E})}).then((e=>{200!==e.status&&console.error("Server responded with ".concat(e.status)),console.log("Cloud submission completed")})).catch((e=>{console.error("Error in cloud submission:",e)})),F(s||(r||"IDK MAN"),n),x(!1),d("done")}catch(n){console.error("Error initiating submission process:",n),f("Error submitting verification. Please try again."),x(!1)}},H=()=>{d("input"),c(""),g(""),v(""),o(""),b(""),A(!1),f(""),S("")};(0,t.useEffect)((()=>{console.log("Current step:",u)}),[u]);const V=r||s;return(0,Zo.jsx)("div",{className:"container",style:{maxWidth:"100%",padding:"5px",overflowX:"hidden"},children:(0,Zo.jsxs)("div",{className:"card",style:{overflowY:"auto",maxHeight:"90vh",width:"100%",maxWidth:Nt.ENS_MAX_CARD_WIDTH,margin:"0 auto",padding:Nt.ENS_CARD_PADDING,boxSizing:"border-box"},children:[(0,Zo.jsx)("h1",{style:{textAlign:"center",fontSize:"calc(1rem + 1vw)",wordBreak:"break-word",margin:"0 0 15px 0"},children:"Verify your ENS to use it as your calling identity."}),"input"===u&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{className:"disclaimer",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)("p",{children:"You will be prompted to connect your wallet and sign a message to verify your ENS ownership."}),(0,Zo.jsx)("p",{children:"This process is secure and only used to verify that you own the ENS name."})]}),(0,Zo.jsxs)("div",{className:"input-group",children:[(0,Zo.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter your ENS name (e.g., name.eth)",value:r,onChange:e=>i(e.target.value.toLowerCase()),style:{width:"100%",boxSizing:"border-box"}}),h&&(0,Zo.jsx)("p",{className:"error-message",style:{textAlign:"center",wordBreak:"break-word",fontSize:"0.9rem",color:"#ff4d4f"},children:h})]}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"space-between"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>B("/"),disabled:I,style:{fontSize:"0.9rem",padding:"8px 15px"},children:"Back"}),(0,Zo.jsx)("button",{className:"button primary-button",onClick:async()=>{if(r)if(r.includes("."))if(T)try{console.log("Resolving ENS name for iOS verification flow");const e=M(r);console.log("Normalized ENS name:",e),o(e),d("resolving");const t=await R.resolveName(e);if(!t)return f("Could not resolve this ENS name. Please check and try again."),void d("input");console.log("ENS resolved address:",t),c(t),l.current=t,d("ios-loading-message"),await D(t),d("ios-confirm")}catch(h){console.error("Error resolving ENS:",h),f("Error resolving ENS name. Please try again."),d("input")}else await(async e=>{try{d("resolving"),f("");const t=M(e);o(t),console.log("Resolving normalized ENS name:",t);const n=await R.resolveName(t);return n?(console.log("ENS resolved address:",n),c(n),l.current=n,d("connect"),n):(f("Could not resolve this ENS name. Please check and try again."),d("input"),null)}catch(t){return console.error("Error resolving ENS:",t),f("Error resolving ENS name. Please try again."),d("input"),null}})(r);else f("Please enter a valid ENS name (e.g., name.eth)");else f("Please enter an ENS name")},style:{fontSize:"0.9rem",padding:"8px 15px"},children:"Verify"})]})]}),!T&&"resolving"===u&&(0,Zo.jsx)("div",{className:"loading-state",style:{textAlign:"center"},children:(0,Zo.jsx)(QM,{status:"loading",message:"Resolving ENS name..."})}),!T&&"connect"===u&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{className:"info-message",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsxs)("p",{children:["ENS name ",(0,Zo.jsx)("strong",{style:{color:"#4CAF50",wordBreak:"break-word"},children:V})," resolved to address:"]}),(0,Zo.jsx)("p",{className:"address",style:{wordBreak:"break-all",fontSize:"0.8rem",background:"#1E2A3A",padding:"8px",borderRadius:"5px",margin:"10px 0"},children:a}),(0,Zo.jsx)("p",{children:"Please connect the wallet that owns this ENS name to verify ownership"})]}),(0,Zo.jsx)("div",{className:"wallet-connect-container",style:{textAlign:"center",transform:"scale(0.9)",margin:"-10px 0"},children:(0,Zo.jsx)(Kk,{onSuccess:U})}),C&&(0,Zo.jsxs)("div",{className:"connected-wallet",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)("p",{children:"Wallet connected:"}),(0,Zo.jsx)("p",{className:"address",style:{wordBreak:"break-all",fontSize:"0.8rem",background:"#1E2A3A",padding:"8px",borderRadius:"5px",margin:"10px 0"},children:C}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"space-between"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:H,style:{fontSize:"0.9rem",padding:"8px 12px"},children:"Cancel"}),(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>{if(!E)return void f("Please connect your wallet first");const e=l.current;C.toLowerCase()===e.toLowerCase()?(f(""),d("ready-to-sign")):f("This wallet (".concat(E,") does not match the ENS owner address (").concat(e,")"))},style:{fontSize:"0.9rem",padding:"8px 12px"},children:"Verify Wallet"})]})]}),h&&(0,Zo.jsx)("p",{className:"error-message",style:{textAlign:"center",wordBreak:"break-word",fontSize:"0.9rem",color:"#ff4d4f"},children:h})]}),!T&&"ready-to-sign"===u&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{className:"info-message",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)("p",{children:"\u2705 Wallet Connected Successfully!"}),(0,Zo.jsxs)("p",{children:["Your wallet address ",(0,Zo.jsx)("span",{className:"address",style:{wordBreak:"break-all",fontSize:"0.8rem",display:"inline-block",maxWidth:"100%"},children:E})," matches the ENS owner address."]}),(0,Zo.jsx)("p",{children:"Next, you'll need to sign a message to authenticate your ownership of this ENS name."}),w?(0,Zo.jsx)("div",{className:"loading-state",style:{textAlign:"center",margin:"15px 0"},children:(0,Zo.jsx)(QM,{status:"loading",message:"Fetching verification message..."})}):(0,Zo.jsxs)("div",{className:"message-box",style:{background:"#1E2A3A",padding:"12px",borderRadius:"8px",margin:"15px 0",border:"1px solid #3498db",wordBreak:"break-word"},children:[(0,Zo.jsx)("p",{style:{marginBottom:"8px",fontSize:"0.85rem"},children:"You are about to sign the following message:"}),(0,Zo.jsx)("p",{style:{background:"#2C3E50",padding:"10px",borderRadius:"5px",fontFamily:"monospace",fontSize:"0.8rem",fontWeight:"bold",wordBreak:"break-word",lineHeight:"1.3"},children:y||"Loading message..."})]}),h&&(0,Zo.jsx)("p",{className:"error-message",style:{textAlign:"center",wordBreak:"break-word",fontSize:"0.9rem",color:"#ff4d4f"},children:h})]}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"space-between"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:H,style:{fontSize:"0.9rem",padding:"8px 15px"},children:"Cancel"}),(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>{f(""),d("signing")},disabled:w||!y,style:{fontSize:"0.9rem",padding:"8px 15px",opacity:w||!y?.6:1,cursor:w||!y?"not-allowed":"pointer"},children:w?"Loading...":"Sign Message"})]})]}),!T&&"signing"===u&&(0,Zo.jsxs)("div",{className:"loading-state",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)(QM,{status:"loading",message:"Please check your wallet to sign the message..."}),(0,Zo.jsx)("p",{className:"secondary-text",children:"Do not close this window."}),(0,Zo.jsx)("div",{style:{transform:"scale(0.9)",margin:"-10px 0"},children:(0,Zo.jsx)(Kk,{onSuccess:U,message:y,signing:!0,onMessageSigned:async e=>{console.log("Direct signature callback with signature:",e.substring(0,10)+"...");try{const t=await L(y,e);console.log("Recovered address:",t);const n=l.current;t.toLowerCase()===n.toLowerCase()?(console.log("Signature verification successful - addresses match"),g(e),z(e),d("complete")):(console.log("Signature verification failed - addresses don't match"),f("The signing wallet (".concat(t,") does not match the ENS owner (").concat(n,"). Please try again with the correct wallet.")),d("ready-to-sign"))}catch(h){console.error("Error verifying signature:",h),f("Failed to verify signature. Please try again."),d("ready-to-sign")}}})})]}),T&&"pending"===u&&(0,Zo.jsxs)("div",{className:"loading-state",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)(QM,{status:"loading",message:"Connecting to your wallet..."}),(0,Zo.jsx)("p",{className:"secondary-text",children:"Please check your wallet to complete the verification."}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"center"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:H,style:{fontSize:"0.9rem",padding:"8px 15px"},children:"Cancel"}),k&&(0,Zo.jsx)("p",{className:"timeout-message",style:{marginLeft:"10px",fontSize:"0.8rem"},children:"This is taking longer than expected. You can cancel and try again if needed."})]})]}),T&&"ios-loading-message"===u&&(0,Zo.jsxs)("div",{className:"loading-state",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)(QM,{status:"loading",message:"Fetching verification message..."}),(0,Zo.jsx)("p",{className:"secondary-text",children:"Please wait while we prepare your verification message."})]}),T&&"ios-confirm"===u&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{className:"info-message",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)("h2",{style:{textAlign:"center",fontSize:"calc(0.9rem + 0.3vw)",margin:"0 0 10px 0"},children:"Confirm ENS Verification"}),(0,Zo.jsxs)("p",{children:["Your ENS name ",(0,Zo.jsx)("strong",{style:{color:"#4CAF50",wordBreak:"break-word"},children:V})," has been resolved to:"]}),(0,Zo.jsx)("p",{className:"address",style:{wordBreak:"break-all",fontSize:"0.8rem",background:"#1E2A3A",padding:"8px",borderRadius:"5px",margin:"10px 0"},children:a}),w?(0,Zo.jsx)("div",{className:"loading-state",style:{textAlign:"center",margin:"15px 0"},children:(0,Zo.jsx)(QM,{status:"loading",message:"Fetching verification message..."})}):(0,Zo.jsxs)("div",{className:"message-box",style:{background:"#1E2A3A",padding:"12px",borderRadius:"8px",margin:"15px 0",border:"1px solid #3498db",wordBreak:"break-word"},children:[(0,Zo.jsx)("p",{style:{marginBottom:"8px",fontSize:"0.85rem"},children:"You will be prompted to sign the following message with your wallet:"}),(0,Zo.jsx)("p",{style:{background:"#2C3E50",padding:"10px",borderRadius:"5px",fontFamily:"monospace",fontSize:"0.8rem",fontWeight:"bold",wordBreak:"break-word",lineHeight:"1.3"},children:y||"Loading message..."})]}),(0,Zo.jsx)("p",{children:"This signature will verify that you are the owner of this ENS name."}),h&&(0,Zo.jsx)("p",{className:"error-message",style:{textAlign:"center",wordBreak:"break-word",fontSize:"0.9rem",color:"#ff4d4f"},children:h})]}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"space-between"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>B("/"),style:{fontSize:"0.9rem",padding:"8px 15px"},children:"Cancel"}),(0,Zo.jsx)("button",{className:"button primary-button",onClick:async()=>{try{if(!a)return console.error("Missing ENS address in handleIOSProceed"),f("Missing ENS address information. Please try again."),void d("input");if(!y)return console.error("Missing message in handleIOSProceed"),f("Verification message is missing. Please try again."),void d("input");console.log("Sending ENS verification request to native app"),console.log("Using ENS address:",a),console.log("Using message:",y),d("pending"),x(!0);const e={action:At.VERIFY_ENS,body:{ens:s,message:y,ensAddress:a,walletAddress:n}};console.log("Sending data to native app:",e),j(e)}catch(h){console.error("Error sending data to native:",h),f("Failed to communicate with the app. Please try again."),x(!1),d("input")}},disabled:w||!y,style:{fontSize:"0.9rem",padding:"8px 15px",opacity:w||!y?.6:1,cursor:w||!y?"not-allowed":"pointer"},children:w?"Loading...":"Sign Now"})]})]}),"complete"===u&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{className:"success-message",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)("h2",{style:{textAlign:"center",fontSize:"calc(0.9rem + 0.3vw)",margin:"0 0 10px 0"},children:"Verifying Your ENS"}),(0,Zo.jsxs)("div",{className:"email-confirmation",children:[(0,Zo.jsxs)("p",{children:["Your ENS name ",(0,Zo.jsx)("strong",{style:{color:"#4CAF50",wordBreak:"break-word"},children:V})," has been verified and linked to your wallet address:"]}),(0,Zo.jsx)("p",{className:"wallet-address",style:{wordBreak:"break-all",fontSize:"0.8rem",background:"#1E2A3A",padding:"8px",borderRadius:"5px",margin:"10px 0"},children:E})]}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"space-between",marginTop:"15px"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>B("/"),disabled:k||I,style:{fontSize:"0.9rem",padding:"8px 12px"},children:"Back"}),(0,Zo.jsx)("button",{className:"button primary-button ".concat(k?"button-loading":""),onClick:async()=>{try{if(x(!0),f(""),T){if(!p||!m)throw new Error("Missing signatures for submission");console.log("Submitting to cloud with signatures:",{message:y,signWallet:p,signArnacon:m}),await W(p,m)}else await W(p,m)}catch(e){console.error("Error in submission process:",e),x(!1),f("Error during verification. Please try again.")}},disabled:k,style:{fontSize:"0.9rem",padding:"8px 12px"},children:k?"Processing...":"Complete"})]})]}),h&&(0,Zo.jsx)("p",{className:"error-message",style:{textAlign:"center",wordBreak:"break-word",fontSize:"0.9rem",color:"#ff4d4f"},children:h})]}),"done"===u&&(0,Zo.jsxs)("div",{className:"completion-container",style:{textAlign:"center",fontSize:"0.9rem"},children:[(0,Zo.jsx)(QM,{status:"success",message:"\ud83c\udf89 Registration Complete! \ud83c\udf89"}),(0,Zo.jsxs)("div",{className:"product-info",style:{textAlign:"center"},children:[(0,Zo.jsx)("h3",{style:{textAlign:"center",fontSize:"calc(0.9rem + 0.2vw)",margin:"15px 0 10px"},children:"What happens next?"}),(0,Zo.jsxs)("ul",{style:{textAlign:"left",display:"inline-block",paddingLeft:"20px",marginTop:"5px"},children:[(0,Zo.jsx)("li",{children:"Your Arnacon ENS identity is now activated"}),(0,Zo.jsx)("li",{children:"You can now make and receive calls using your ENS name"}),(0,Zo.jsx)("li",{children:"Your product package will be delivered soon"}),(0,Zo.jsx)("li",{children:"Check your email for shipment updates and tracking information"})]})]}),(0,Zo.jsx)("div",{className:"action-buttons completion-buttons",style:{display:"flex",justifyContent:"center",marginTop:"15px"},children:(0,Zo.jsx)("button",{className:"button primary-button pulse-button",onClick:()=>B("/"),disabled:I,style:{fontSize:"0.9rem",padding:"8px 15px"},children:"Return to Home"})})]})]})})},$M=e=>{let{walletAddress:t}=e;const n=fe();return(0,Zo.jsx)("div",{className:"container",children:(0,Zo.jsxs)("div",{className:"card",children:[(0,Zo.jsx)("h1",{style:{textAlign:"center"},children:"Buy Product"}),(0,Zo.jsxs)("div",{className:"product-section",style:{textAlign:"center",marginBottom:"2rem"},children:[(0,Zo.jsx)("p",{style:{marginBottom:"1.5rem"},children:"Ready to make your purchase? Click the button below to visit our store."}),(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>{const e=new URL(wt.SP_STORE);t&&e.searchParams.append("walletAddress",t),window.location.href=e.toString()},style:{fontSize:"1.1rem",padding:"1rem 2rem",marginBottom:"1rem"},children:"Buy Now"})]}),(0,Zo.jsx)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"center"},children:(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>n("/"),children:"Back"})})]})})},eD=e=>{let{walletAddress:t,showSolanaVerification:n}=e;const r=fe();return(0,Zo.jsx)("div",{className:"container",children:(0,Zo.jsx)("div",{className:"card",children:(0,Zo.jsxs)("div",{className:"button-group",children:[(0,Zo.jsx)("h1",{children:"Arnacon Product Portal"}),(0,Zo.jsx)("button",{className:"button primary-button hidden-button",onClick:()=>r("/buy-product"),children:"Buy Product"}),(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>r("/verify-email"),children:"Email"}),(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>r("/verify-ens"),children:"ENS"}),(0,Zo.jsx)("button",{className:"button primary-button hidden-button",onClick:()=>r("/verify-bluesky"),children:"BlueSky"}),(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>r("/private-product"),children:"Private Identity"}),n&&(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>r("/verify-solana"),children:"Solana Seeker ID"})]})})})},tD=Tt.ADJECTIVES,nD=Tt.NOUNS;function rD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{idType:t="numeric",idLength:n=6}=e,r=tD[Math.floor(Math.random()*tD.length)],i=nD[Math.floor(Math.random()*nD.length)];let s;switch(t){case"alphanumeric":s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="";const n="0123456789abcdefghijklmnopqrstuvwxyz";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(36*Math.random()));return t}(n);break;case"timestamp":s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;const t=Date.now().toString().slice(-6);let n="";const r="0123456789abcdefghijklmnopqrstuvwxyz";for(let i=0;i<e;i++)n+=r.charAt(Math.floor(36*Math.random()));return t+n}(n);break;default:s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="";const n="0123456789";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(10*Math.random()));return t}(n)}return"".concat(r).concat(i).concat(s)}const iD=e=>{let{walletAddress:n}=e;const r=fe(),[i,s]=(0,t.useState)(!1),[o,a]=(0,t.useState)(""),[c,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)([]),[p,g]=(0,t.useState)("");(0,t.useEffect)((()=>{f(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const t=[];for(let n=0;n<e;n++)t.push(rD({idType:"numeric",idLength:6}));return t}(Nt.NAME_GENERATION_COUNT))}),[]);return(0,Zo.jsx)("div",{className:"container",style:{maxWidth:"100%",padding:"5px",overflowX:"hidden",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:(0,Zo.jsxs)("div",{className:"card",style:{overflowY:"auto",maxHeight:"90vh",width:"100%",maxWidth:Nt.MAX_CARD_WIDTH,margin:"0 auto",padding:Nt.CARD_PADDING,boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"25px"},children:[(0,Zo.jsx)("div",{className:"header",style:{textAlign:"center",marginBottom:"10px"},children:(0,Zo.jsx)("h1",{style:{fontSize:"calc(1.2rem + 1vw)",wordBreak:"break-word",margin:"0",color:"var(--primary-color)",fontWeight:"600",textAlign:"center"},children:u?"Success!":"Get Private Product"})}),c?(0,Zo.jsxs)("div",{className:"processing-message",style:{textAlign:"center",padding:"20px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[(0,Zo.jsxs)("div",{className:"success-icon",style:{transform:"scale(1.2)",margin:"10px 0"},children:[(0,Zo.jsx)("div",{className:"success-circle",style:{backgroundColor:"rgba(0, 200, 83, 0.1)",border:"2px solid rgb(0, 200, 83)"}}),(0,Zo.jsxs)("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[(0,Zo.jsx)("circle",{className:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none",stroke:"rgb(0, 200, 83)",strokeWidth:"2"}),(0,Zo.jsx)("path",{className:"checkmark-check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8",stroke:"rgb(0, 200, 83)",strokeWidth:"3"})]})]}),(0,Zo.jsx)("h2",{style:{fontSize:"calc(1.1rem + 0.3vw)",margin:"0",color:"var(--primary-color)"},children:"Username Selected!"}),(0,Zo.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,Zo.jsx)("p",{style:{fontSize:"1.1rem",margin:"0",fontWeight:"600",color:"rgb(0, 200, 83)"},children:p}),(0,Zo.jsx)("p",{style:{fontSize:"0.95rem",margin:"15px 0 0 0"},children:"Your username has been successfully registered."}),(0,Zo.jsx)("p",{style:{fontSize:"0.95rem",margin:"0"},children:"You'll receive a notification when your account is ready."})]}),(0,Zo.jsx)("div",{className:"button-group",style:{display:"flex",justifyContent:"center",marginTop:"10px",width:"100%"},children:(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>r("/"),style:{fontSize:"0.95rem",padding:"12px 24px",minWidth:"200px",backgroundColor:"rgb(0, 200, 83)",borderColor:"rgb(0, 200, 83)"},children:"Back to Home"})})]}):(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{className:"disclaimer",style:{textAlign:"center",fontSize:"1rem",background:"rgba(0, 0, 0, 0.2)",padding:"20px",borderRadius:"10px",lineHeight:"1.5",width:"100%",boxSizing:"border-box",margin:"0 auto"},children:[(0,Zo.jsx)("p",{style:{margin:"0 0 8px 0"},children:"Choose your preferred private identity from the options below:"}),(0,Zo.jsxs)("p",{style:{margin:"0 0 15px 0",fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[(0,Zo.jsx)("span",{style:{fontSize:"1rem"},children:"\ud83d\udd12"}),"with private identity no one can know it's you.."]}),(0,Zo.jsx)("div",{className:"name-options",style:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"15px",width:"100%"},children:h.map(((e,t)=>(0,Zo.jsxs)("button",{className:"button ".concat(p===e?"primary-button":"secondary-button"),onClick:()=>(e=>{g(e)})(e),style:{fontSize:"0.95rem",padding:"12px 15px",position:"relative",border:p===e?"2px solid var(--primary-color)":"1px solid rgba(255,255,255,0.2)",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",margin:"0 auto",transition:"all 0.3s ease"},children:[e,p===e&&(0,Zo.jsx)("span",{style:{position:"absolute",right:"15px",color:"var(--primary-color)"},children:"\u2713"})]},t)))})]}),o&&(0,Zo.jsx)("p",{className:"error-message",style:{textAlign:"center",wordBreak:"break-word",fontSize:"0.95rem",color:"#ff4d4f",margin:"0"},children:o}),(0,Zo.jsxs)("div",{className:"button-group",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"10px",gap:"15px",width:"100%"},children:[(0,Zo.jsx)("button",{className:"button primary-button",onClick:async()=>{if(p){s(!0),a("");try{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),r={action:At.NEW_ITEM,body:{item:p+Et.TEMP,customer_id:t}};try{const e=await fetch(wt.ORDER_DISPATCHER,{method:"POST",headers:It.HEADERS,body:JSON.stringify({user_address:n,uuid_to_sign:t,customer_id:t,package_type:xt.TEMP_ENS,selected_name:p})});console.log("Fetch request completed with status:",e.status)}catch(o){"AbortError"===o.name?console.log("Request timed out after 30 seconds"):console.error("Error in fetch request:",o)}e=r,console.log("Attempting to send data to native:",e),window.ReactNativeWebView?(console.log("Using ReactNativeWebView bridge"),window.ReactNativeWebView.postMessage(JSON.stringify(e))):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeHandler?(console.log("Using WKWebView message handler"),window.webkit.messageHandlers.nativeHandler.postMessage(JSON.stringify(e))):window.AndroidBridge&&window.AndroidBridge.processAction?(console.log("Using Android bridge"),window.AndroidBridge.processAction(JSON.stringify(e))):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.buttonPressed?(console.log("Using buttonPressed message handler"),window.webkit.messageHandlers.buttonPressed.postMessage(JSON.stringify(e))):(console.error("No native interface available"),a("Unable to communicate with the app. Please try again.")),l(!0),d(!0)}catch(o){console.error("Error getting private product:",o),a(o.message||"An error occurred while getting the private product"),s(!1)}var e}else a("Please select a name first")},disabled:i||!p,style:{fontSize:"0.95rem",padding:"12px 24px",width:"100%",maxWidth:"300px"},children:i?"Processing...":"Confirm Selection"}),(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>r("/"),disabled:i,style:{fontSize:"0.95rem",padding:"12px 24px",width:"100%",maxWidth:"300px"},children:"Back"})]})]})]})})},sD=e=>{let{walletAddress:n}=e;const[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),[a,c]=(0,t.useState)(""),l=fe(),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!0),[p,g]=(0,t.useState)(""),[m,v]=(0,t.useState)(!1),y=(0,t.useCallback)((e=>{console.log("Generating mock signature for:",e);const t="0x"+Array.from({length:130},(()=>Math.floor(16*Math.random()).toString(16))).join("");return console.log("Mock signature generated:",t),t}),[]),b=(0,t.useCallback)((async e=>{try{var t,n,r,i;console.log("Native response received:",e);let s=e.detail;if("string"===typeof e.detail)try{console.log("Parsing string response as JSON"),d(e.detail),f(!1),s=JSON.parse(e.detail),console.log("Parsed JSON response:",s)}catch(uD){console.log("Response is not JSON, using as is:",uD.message),f(!1)}if((null===(t=s)||void 0===t?void 0:t.action)===At.SIGNED_DATA&&null!==(n=s)&&void 0!==n&&n.body){console.log("Processing iOS signed data response:",s);const{data:e}=s.body,t=e;console.log("Received iOS signature:",t),t&&(d(t),f(!1),console.log("iOS signature applied successfully"))}else if((null===(r=s)||void 0===r?void 0:r.action)===At.DATA_RETRIEVED&&null!==(i=s)&&void 0!==i&&i.body){console.log("Processing data-retrieved response:",s);const{xsign:e}=s.body,t=e;console.log("Received signature from data-retrieved:",t),t?(d(t),f(!1),console.log("Data-retrieved signature applied successfully")):console.log("No signature found in data-retrieved response:",s)}else console.log("Unknown response format:",s)}catch(s){console.error("Error handling native response:",s),f(!1)}}),[]),w=(0,t.useCallback)((e=>{const t={action:At.SIGN_DATA_TEMP,body:{dataToSign:e}};console.log("Requesting native signature for:",e);const n=window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeHandler||window.AndroidBridge&&window.AndroidBridge.processAction;if(console.log("Native interface check:",{hasNativeInterface:n,hasWebkit:!!(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeHandler),hasAndroidBridge:!(!window.AndroidBridge||!window.AndroidBridge.processAction)}),!n)return console.log("Native interface not available - using mock mode"),v(!0),void setTimeout((()=>{const t=y(e);d(t),f(!1),console.log("Mock signature applied:",t)}),1e3);var r;r=t,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeHandler?window.webkit.messageHandlers.nativeHandler.postMessage(JSON.stringify(r)):window.AndroidBridge&&window.AndroidBridge.processAction?window.AndroidBridge.processAction(JSON.stringify(r)):console.log("Native interface not available")}),[y]);(0,t.useEffect)((()=>(console.log("Setting up event listener for onDataReceived"),document.addEventListener("onDataReceived",b),()=>{console.log("Removing event listener for onDataReceived"),document.removeEventListener("onDataReceived",b)})),[b]),(0,t.useEffect)((()=>{if(n){console.log("Component initialized with wallet address:",n);const e=Date.now(),t=Math.floor(1e6*Math.random()),r="".concat(e,"-").concat(t);g(r),console.log("Generated nonce:",r),f(!0);const i="".concat(n,":").concat(r);console.log("Data to sign constructed:",i),w(i);const s=setTimeout((()=>{console.log("Signature request timed out after 10 seconds"),f(!1)}),1e4);return()=>clearTimeout(s)}}),[n,w]);const A=()=>h?"Loading signature...":"Verify my wallet address: ".concat(n,"\nNonce: ").concat(p,"\nX-Sign: ").concat(u);return(0,Zo.jsx)("div",{className:"container",children:(0,Zo.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"1rem",gap:"0.8rem",display:"flex",flexDirection:"column"},children:[(0,Zo.jsx)("h1",{style:{textAlign:"center",marginTop:"0",marginBottom:"0.5rem"},children:"Verify your BlueSky account"}),(0,Zo.jsxs)("div",{className:"disclaimer",style:{textAlign:"center",padding:"0.8rem",marginBottom:"0"},children:[(0,Zo.jsx)("p",{style:{marginTop:"0",marginBottom:"0.5rem"},children:"Verify your identity using BlueSky by sending a message to our official account."}),(0,Zo.jsx)("p",{style:{marginTop:"0",marginBottom:"0"},children:'This will open the profile page where you can click "Message" to start a chat.'})]}),(0,Zo.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.2)",padding:"0.8rem",borderRadius:"6px",marginBottom:"0.5rem",marginTop:"0.5rem",textAlign:"center"},children:[(0,Zo.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",color:"var(--secondary-color)"},children:"Copy this message to send:"}),(0,Zo.jsx)("div",{style:{padding:"8px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",wordBreak:"break-all",textAlign:"center"},children:A()}),(0,Zo.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"8px"},children:(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>{if(h){if(n&&p){const e="".concat(n,":").concat(p);w(e)}return void c("Waiting for signature...")}const e=A();navigator.clipboard.writeText(e).then((()=>{c("Copied!"),setTimeout((()=>c("")),2e3)})).catch((e=>{console.error("Error copying to clipboard:",e),c("Failed to copy")}))},style:{width:"auto",padding:"6px 14px"},children:a||"Copy Message"})})]}),(0,Zo.jsxs)("div",{className:"action-buttons",style:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"0"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>{r||(i(!0),l("/"),setTimeout((()=>{i(!1)}),300))},disabled:s||r,children:"Back"}),(0,Zo.jsx)("button",{className:"button primary-button ".concat(s?"button-loading":""),onClick:()=>{o(!0);try{(()=>{const e=Ct.USERNAME,t="".concat(Ct.PROFILE_URL_TEMPLATE).concat(e),n="".concat(Ct.SCHEME_TEMPLATE).concat(e);console.log("Attempting to open BlueSky profile: ".concat(t)),window.location.href=t,setTimeout((()=>{if(document.hasFocus()){const e=document.createElement("iframe");e.style.display="none",e.src=n,document.body.appendChild(e),setTimeout((()=>{document.hasFocus()&&window.open(t,"_blank"),document.body.removeChild(e)}),500)}}),500)})()}catch(e){console.error("Error opening BlueSky:",e)}finally{o(!1)}},disabled:s,children:s?"Opening...":"Open BlueSky Profile"})]})]})})},oD=e=>{let{walletAddress:n}=e;const[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(""),[a,c]=(0,t.useState)(""),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[g,m]=(0,t.useState)(!1),v=fe(),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";console.log("[".concat(t.toUpperCase(),"] ").concat(e))},b=e=>{window.top.controller&&window.top.controller.sendMessageToNativeApp?window.top.controller.sendMessageToNativeApp(e):(console.error("Controller not available"),y("Native interface not available","error"))};(0,t.useEffect)((()=>{const e=e=>{try{const t=e.detail;if(t&&t.action===At.DATA_RETRIEVED&&t.body){const e=t.body;e["solana-signed-in"]?w("solana-signed-in",e["solana-signed-in"]):e["solana-connected"]?w("solana-connected",e["solana-connected"]):e["solana-disconnected"]?w("solana-disconnected",e["solana-disconnected"]):e["solana-wallet-info"]&&w("solana-wallet-info",e["solana-wallet-info"])}}catch(t){console.error("Error handling native response:",t),y("Error: ".concat(t.message),"error")}};return document.addEventListener("onDataReceived",e),()=>document.removeEventListener("onDataReceived",e)}),[]);const w=(e,t)=>{y("Received: ".concat(e),"info");try{const n="string"===typeof t?JSON.parse(t):t;switch(e){case"solana-signed-in":A(n);break;case"solana-connected":E(n);break;case"solana-disconnected":S(n);break;case"solana-wallet-info":C(n)}}catch(n){y("Error parsing response: ".concat(n.message),"error")}},A=e=>{e.success?(y("\u2713 Signed in successfully!","success"),i(!0),o(e.walletAddress||""),c(e.seekerId||"Not available")):y("\u2717 Sign-in failed: ".concat(e.error),"error")},E=e=>{e.success?(y("\u2713 Connected to wallet!","success"),i(!0),o(e.walletAddress||""),c(e.seekerId||"Not available")):y("\u2717 Connection failed: ".concat(e.error),"error")},S=e=>{e.success?(y("\u2713 Disconnected from wallet","success"),i(!1),o(""),c("")):y("\u2717 Disconnect failed","error")},C=e=>{y("Wallet info: Connected=".concat(e.isConnected),"info"),e.isConnected?(i(!0),o(e.walletAddress||""),c(e.seekerId||"Not available")):(i(!1),o(""),c(""))},_=()=>{y("Requesting wallet info...","info");b({action:At.SOLANA_GET_WALLET_INFO,body:{}})};(0,t.useEffect)((()=>{const e=setTimeout((()=>{_()}),500);return()=>clearTimeout(e)}),[]);return(0,Zo.jsxs)("div",{className:"container",style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",boxSizing:"border-box"},children:[(0,Zo.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"480px",margin:"0 auto",padding:"32px 24px",boxSizing:"border-box"},children:[(0,Zo.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,Zo.jsx)("h1",{style:{fontSize:"1.75rem",margin:"0 0 8px 0",color:"#00FFA3",fontWeight:"700"},children:"Solana Seeker"}),(0,Zo.jsx)("p",{style:{fontSize:"0.95rem",color:"#888",margin:0},children:"Verify your wallet to receive your product"})]}),g&&(0,Zo.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 255, 163, 0.15), rgba(0, 255, 163, 0.05))",border:"2px solid #00FFA3",borderRadius:"12px",padding:"20px",marginBottom:"24px",textAlign:"center"},children:[(0,Zo.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"12px"},children:"\u2713"}),(0,Zo.jsx)("p",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#00FFA3",margin:"0 0 8px 0"},children:"Registration Successful!"}),(0,Zo.jsx)("p",{style:{fontSize:"0.9rem",color:"#aaa",margin:0,lineHeight:"1.5"},children:"Your Seeker ID has been verified and registered successfully."})]}),f&&(0,Zo.jsx)("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid #FF4444",borderRadius:"12px",padding:"16px",marginBottom:"24px",fontSize:"0.9rem",color:"#FF4444",textAlign:"center",lineHeight:"1.5"},children:f}),!r&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(30, 42, 58, 0.8), rgba(30, 42, 58, 0.4))",borderRadius:"12px",padding:"24px",marginBottom:"24px",textAlign:"center"},children:[(0,Zo.jsx)("p",{style:{fontSize:"1rem",marginBottom:"12px",fontWeight:"600",color:"#fff"},children:"Connect Your Wallet"}),(0,Zo.jsx)("p",{style:{fontSize:"0.875rem",color:"#aaa",lineHeight:"1.6",margin:0},children:"Connect your Solana Seeker wallet to verify your device and link it to your Arnacon account."})]}),(0,Zo.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Zo.jsx)("button",{className:"button primary-button",onClick:()=>{y("Requesting Sign In with Solana...","info");b({action:At.SOLANA_SIGN_IN,body:{domain:"arnacon.app",statement:"Sign in to Arnacon to verify your identity and access secure communication features."}})},style:{width:"100%",fontSize:"1rem",padding:"16px 24px",background:"linear-gradient(135deg, #00FFA3, #00CC82)",color:"#000",fontWeight:"600",borderRadius:"12px",border:"none",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 4px 12px rgba(0, 255, 163, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 16px rgba(0, 255, 163, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(0, 255, 163, 0.3)"},children:"Sign In with Solana"}),(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>{y("Connecting to wallet...","info");b({action:At.SOLANA_CONNECT,body:{}})},style:{width:"100%",fontSize:"0.9rem",padding:"14px 20px",borderRadius:"12px"},children:"Connect Wallet (Simple)"})]})]}),r&&(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(30, 42, 58, 0.8), rgba(30, 42, 58, 0.4))",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:[(0,Zo.jsx)("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"8px",fontSize:"0.75rem",background:"#00FFA3",color:"#000",fontWeight:"600",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Signed In"}),(0,Zo.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,Zo.jsx)("p",{style:{margin:"0 0 4px 0",fontSize:"0.75rem",color:"#888",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Wallet Address"}),(0,Zo.jsx)("p",{style:{margin:0,fontFamily:"monospace",fontSize:"0.875rem",wordBreak:"break-all",color:"#fff"},title:s,children:(k=s,k?k.length>16?"".concat(k.substring(0,8),"...").concat(k.substring(k.length-8)):k:"Not connected")})]}),(0,Zo.jsxs)("div",{children:[(0,Zo.jsx)("p",{style:{margin:"0 0 4px 0",fontSize:"0.75rem",color:"#888",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Seeker ID"}),(0,Zo.jsx)("p",{style:{margin:0,fontFamily:"monospace",fontSize:"0.875rem",color:"#00FFA3",fontWeight:"600"},children:a})]})]}),!g&&(0,Zo.jsx)("button",{className:"button primary-button",onClick:async()=>{if(!a||!s)return p("Missing Seeker ID or wallet address"),void y("\u2717 Missing Seeker ID or wallet address","error");const e=a.split(".");if(2!==e.length)return p("Invalid Seeker ID format. Expected: label.domain"),void y("\u2717 Invalid Seeker ID format. Expected format: label.domain","error");const[t,r]=e;h(!0),p(""),m(!1),y("Starting verification process...","info");try{const e="https://seeker-register-subdomain-309305771885.europe-west1.run.app",i={label:t,domain:r,owner:n};y("Sending registration request for ".concat(t,".").concat(r,"..."),"info");const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),o=await s.json();s.ok?(m(!0),p(""),y("\u2713 Registration successful!","success"),y("Response: ".concat(JSON.stringify(o)),"success")):(p(o.error||"Registration failed. Please try again."),y("\u2717 Registration failed: ".concat(o.error||s.statusText),"error"))}catch(i){p("Network error. Please check your connection and try again."),y("\u2717 Network error: ".concat(i.message),"error"),console.error("Verification error:",i)}finally{h(!1)}},disabled:d,style:{width:"100%",fontSize:"1rem",padding:"16px 24px",background:d?"#666":"linear-gradient(135deg, #00FFA3, #00CC82)",color:"#000",fontWeight:"600",borderRadius:"12px",border:"none",cursor:d?"not-allowed":"pointer",opacity:d?.7:1,marginBottom:"12px",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:d?"none":"0 4px 12px rgba(0, 255, 163, 0.3)",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>{d||(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 16px rgba(0, 255, 163, 0.4)")},onMouseLeave:e=>{d||(e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(0, 255, 163, 0.3)")},children:d?(0,Zo.jsxs)(Zo.Fragment,{children:[(0,Zo.jsx)("span",{style:{display:"inline-block",width:"16px",height:"16px",border:"2px solid #000",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginRight:"8px"}}),"Processing..."]}):"Verify & Receive Product"}),(0,Zo.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[(0,Zo.jsx)("button",{className:"button secondary-button",onClick:_,style:{flex:1,fontSize:"0.875rem",padding:"12px 16px",borderRadius:"12px"},children:"Refresh"}),(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>{y("Disconnecting from wallet...","info");b({action:At.SOLANA_DISCONNECT,body:{}})},style:{flex:1,fontSize:"0.875rem",padding:"12px 16px",borderRadius:"12px"},children:"Disconnect"})]})]}),(0,Zo.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,Zo.jsx)("button",{className:"button secondary-button",onClick:()=>{return e="/",void(l||(u(!0),v(e)));var e},disabled:l,style:{fontSize:"0.875rem",padding:"10px 24px",borderRadius:"12px"},children:"\u2190 Back to Home"})})]}),(0,Zo.jsx)("style",{children:"\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n      "})]});var k};class aD{receiveData(e){console.log("Received data:",e);try{const t=JSON.parse(e);if(console.log("Parsed data:",t),"verified-ens"===t.action||"signed-data"===t.action||"data-retrieved"===t.action)return console.log("[CONTROLLER] Dispatching ".concat(t.action," event with data:"),t),console.log("[CONTROLLER] Event detail will be:",t),void document.dispatchEvent(new CustomEvent("onDataReceived",{detail:t}));t.body&&t.body.xsign?(console.log("Dispatching legacy xsign event"),document.dispatchEvent(new CustomEvent("onDataReceived",{detail:t.body.xsign}))):(console.log("Dispatching raw data event"),document.dispatchEvent(new CustomEvent("onDataReceived",{detail:t})))}catch(t){console.error("Error processing data in controller:",t),document.dispatchEvent(new CustomEvent("onDataReceived",{detail:e}))}}sendMessageToNativeApp(e){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeHandler?window.webkit.messageHandlers.nativeHandler.postMessage(JSON.stringify(e)):window.AndroidBridge&&window.AndroidBridge.processAction?(console.log("Sending to AndroidBridge:",JSON.stringify(e)),window.AndroidBridge.processAction(JSON.stringify(e))):console.log("Native interface not available")}}document.addEventListener("DOMContentLoaded",(function(){window.top.controller=new aD,document.addEventListener("onDataReceived",(function(e){console.log("[GLOBAL DEBUG] onDataReceived event caught:",e),console.log("[GLOBAL DEBUG] Event detail:",e.detail),console.log("[GLOBAL DEBUG] Event detail type:",typeof e.detail)}))}));const cD=function(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const e=new URLSearchParams(window.location.search),t=e.get("user_address"),r=e.get("solanaMWA");let s;t?(s=t,n(t)):(s="0x22b2db99422c129d1abc3cb1835c4a381632541f",n(s)),"true"===r&&i(!0),console.log("Wallet Address:",s),console.log("Solana MWA enabled:","true"===r)}),[]),(0,Zo.jsx)("div",{className:"App",children:(0,Zo.jsx)(dt,{basename:"/add-product-page",children:(0,Zo.jsxs)(Oe,{children:[(0,Zo.jsx)(Te,{path:"/",element:(0,Zo.jsx)(eD,{walletAddress:e,showSolanaVerification:r})}),(0,Zo.jsx)(Te,{path:"/verify-email",element:(0,Zo.jsx)(Xo,{walletAddress:e})}),(0,Zo.jsx)(Te,{path:"/verify-ens",element:(0,Zo.jsx)(XM,{walletAddress:e})}),(0,Zo.jsx)(Te,{path:"/verify-bluesky",element:(0,Zo.jsx)(sD,{walletAddress:e})}),r&&(0,Zo.jsx)(Te,{path:"/verify-solana",element:(0,Zo.jsx)(oD,{walletAddress:e})}),(0,Zo.jsx)(Te,{path:"/buy-product",element:(0,Zo.jsx)($M,{walletAddress:e})}),(0,Zo.jsx)(Te,{path:"/private-product",element:(0,Zo.jsx)(iD,{walletAddress:e})})]})})})},lD=e=>{e&&e instanceof Function&&n.e(6453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,Zo.jsx)(t.StrictMode,{children:(0,Zo.jsx)(cD,{})})),lD()})()})();
//# sourceMappingURL=main.0124e194.js.map